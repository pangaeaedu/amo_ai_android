<components><component namespace="com.nd.hy.android.video" name="video" display="教育-播放-视频" type="function_library">
	<pages>
		 <page type="cmp" name="VideoPlayer" display="视频播放器" toplevel="2" android_class="com.nd.hy.android.video.player.view.VideoPlayerActivity"/> 
	</pages>
	
	<properties>
		<!-- <property type="string" name="VideoPlayer" displayName="视频播放器" value="nd"/> -->
      <!-- <property type="string" name="VideoUrl" displayName="视频地址" value=""/> -->
      <property type="bool" name="Watermark" displayName="展示水印" value="false"/>
      <property type="bool" name="DLNAProjection" displayName="DLNA投屏" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="dlna-support"/>
            </dependency>
      </property>
	</properties>
	
	<events>
	</events>
    <runtime>
    <properties>      
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>  
      <property type="bool" name="lazy_init_ios" displayName="是否开iOS启延迟初始化" value="true"/>
    </properties>
  </runtime>
  
    <handlers>
        <handler name="not-ios://doStuff" desc="接收事件" receive_event="sdp_event_play_video,sdp_event_stop_video,sdp_event_fullscreen_close"/>    
        <handler name="ios://triggerType" desc="接收启动播放器事件" receive_event="ELVideoPlayer"/>	
        <handler name="ios://triggerPlayerEvent" desc="接收播放器事件" receive_event="ELVideoPlayerEvent"/>
        <handler name="ios://breakPointExamEndEvent" desc="断点练习结束事件" receive_event="EXPBreakPointExamEnd"/>
        <handler name="ios://eventHandlerProgressChanged" desc="进度上报回调事件" receive_event="elearning_resource_progress_changed"/>
        <handler name="ios://smartlinkGenerateLinkResult" desc="smartLink获取成功" receive_event="smartlink_generate_link_result"/>
        <handler name="ios://smartlinkGenerateLinkFailed" desc="smartLink获取失败" receive_event="smartlink_generate_qrcode_image_result"/>
    </handlers>

	<android>
		<class>com.nd.hy.android.video.player.VideoPlayerComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.android:e-video-player:0.3-rc7@aar') {
			        transitive = true
			        changing = true
			    }
                //视频版本
				def videoVersion = "1.5.7-rc8"
				//视频
				compile "com.nd.sdp.ele.android.video:video:${videoVersion}"
				//视频文档
				compile "com.nd.sdp.ele.android.video.doc:video-doc:${videoVersion}"
				//视频习题
				compile "com.nd.sdp.ele.android.video.exercise:video-exercise:${videoVersion}" 			
				//原生视频引擎
				compile "com.nd.sdp.ele.android.video.engine.mp:video-engine-original:${videoVersion}" 
				//错误日志
				implementation "com.nd.hy.android.error.log:error-log:1.0.1-rc3"
				//插件
				implementation "com.nd.hy.android.plugin.frame:frame-plugin:1.4.3-rc1"

				compile 'net.lingala.zip4j:zip4j:1.3.2'
                compile 'com.nd.hy.android.hermes:hermes-rx:2.2.6-rc8'
             ]]>
		</dependency>
      <scenes>
        <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="写文件权限" describe="存储视频文件" isAsk="true" closeable="true" type="permission"/>
        <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="获取网络状态权限" describe="判断网络状态" isAsk="true" closeable="true" type="permission"/>
        <scene name="android.permission.INTERNET" displayName="网络权限" describe="接口请求" isAsk="true" closeable="true" type="permission"/>
        <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储卡权限" describe="读取视频文件" isAsk="true" closeable="true" type="permission"/>
        <scene name="android.permission.change_wifi_multicast_state" displayName="网络权限" describe="投屏需要" isAsk="true" closeable="true" type="permission"/>
      </scenes>
      
       <groovy>
			<![CDATA[
		    	android {
					packagingOptions {
                        exclude 'META-INF/beans.xml'
	  				}
            	}
			]]>
		</groovy>
	</android>
  
 
	<ios>
		<class>ElearnVideoComponent</class>
		<dependency>
			 <![CDATA[
			pod 'elearn_video', '2.3.312'

             ]]>
		</dependency>
	</ios>
</component><component display="设置" name="appsetting" namespace="com.nd.social">
    <pages>
        <page type="cmp" name="appsetting" display="设置" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="changeLanguage" display="选择语言" allow_guest="true"/>
        <page type="cmp" name="aboutUs" display="关于" allow_guest="true"/>
        <page type="cmp" name="historyVersion" display="版本履历" allow_guest="true"/>
        <page type="cmp" name="subpage" display="隐私设置" allow_guest="true">
            <params>
                <param key="page_name">页面名</param>
            </params>
        </page>
    </pages>
    <properties>
        <property type="bool" name="showPrivacy" desc_true="显示" desc_false="隐藏" displayName="显示【隐私设置】" value="true"/>
        <property type="bool" name="showBindMobile" desc_true="显示" desc_false="隐藏" displayName="显示【手机绑定】" value="false"/>
        <property type="bool" name="showChangePassword" desc_true="显示" desc_false="隐藏" displayName="显示【修改密码】" value="false" senior="true">
            <tip>是否显示【修改密码】，选中则显示，非选中则隐藏</tip>
            <img src="http://cdncs.101.com/v0.1/96406b1b-29eb-41f2-b165-11cd2e678966/static/app_portal/social-setting/setting_changepwd_show.png"/>
            <img src="http://cdncs.101.com/v0.1/96406b1b-29eb-41f2-b165-11cd2e678966/static/app_portal/social-setting/setting_changepwd_hide.png"/>
        </property>
        <property type="bool" name="showHomePage" desc_true="显示" desc_false="隐藏" displayName="显示【个人主页】" value="false"/>
        <property type="bool" name="showLanguage" desc_true="显示" desc_false="隐藏" displayName="显示【选择语言】" value="true"/>
        <property type="bool" name="showShortcut" desc_true="显示" desc_false="隐藏" displayName="Andriod显示【快捷启动】" value="true"/>
        <property type="bool" name="showInvitingFriends" desc_true="显示" desc_false="隐藏" displayName="显示【邀请好友】" value="false"/>
        <property type="bool" name="showFeedback" desc_true="显示" desc_false="隐藏" displayName="显示【意见反馈】" value="false"/>
        <property type="bool" name="showDownload" desc_true="显示" desc_false="隐藏" displayName="显示【下载管理】" value="false"/>
        <property type="bool" name="showUploadLog" desc_true="显示" desc_false="隐藏" displayName="显示【上传日志】" value="false" senior="true">
            <tip>是否显示【上传日志】，选中则显示，非选中则隐藏</tip>
            <img src="http://cdncs.101.com/v0.1/static/app_portal/component/setting/setting_showlog.png"/>
            <img src="http://cdncs.101.com/v0.1/static/app_portal/component/setting/setting_hidelog.png"/>
        </property>
        <property type="bool" name="showCheckUpdate" desc_true="显示" desc_false="隐藏" displayName="显示【检查更新】(iOS)" value="true"/>
        <property type="int" name="smartCleanCacheTriggerValue" displayName="智能清理缓存触发值，达到了这个值就进行缓存清理，单位M;值为正数才触发"/>
        <property type="int" name="smartCleanCacheTimeInterval" displayName="智能清理缓存间隔时间，退到后台并达到距离上次清理时间间隔后，将自动执行一次自动清除缓存流程,单位为小时"/>
        <property type="bool" name="isIOSLandscape" desc_true="开启" desc_false="关闭" displayName="是否启用横屏支持(iOS)" value="false"/>
        <property type="bool" name="showAboutUs" desc_true="显示" desc_false="隐藏" displayName="显示【关于】" value="true"/>
        <property type="string" name="aboutUsText" displayName="【关于】设置项命名" senior="true" i18n="true"/>
        <property type="image" name="aboutUsLogo" displayName="【关于】内应用logo" senior="true" accept="png,gif,jpeg,jpg">
            <tip>提示文件</tip>
            <img src="示例图片"/>
        </property>
        <property type="string" name="aboutUsCmpUrl" displayName="【关于界面产品定制化配置】"/>
        <property type="string" name="aboutUsCommentUrl" displayName="【关于】评分URL" senior="true"/>
        <property type="string" name="aboutUsUsageUrl" displayName="【关于】条款URL" senior="true"/>
        <property type="string" name="aboutUsCopyRight" displayName="【关于】版权信息" senior="true" i18n="true"/>
        <property type="string" name="aboutUsCopyRightEn" displayName="【关于】版权信息【英文】" senior="true" i18n="true"/>
        <property type="image" name="aboutAppDownloadQR" displayName="【关于】app下载地址二维码图片" senior="true"/>
        <group name="appsetting" displayName="应用设置" max-repeat="10">
            <property type="string" name="name" displayName="设置项名称" i18n="true"/>
            <property type="string" name="url" displayName="设置项跳转URL，支持cmp和http地址,设置项类型设为开关类型，可不填"/>
            <property type="string" name="event" displayName="设置项状态的事件名"/>
            <property type="enum" name="type" displayName="设置项类型，请选择正确的类型">
                <options multi="false">
                    <option value="jump">跳转</option>
                    <option value="switch">开关</option>
                </options>
            </property>
            <property type="bool" name="thirdLogin" desc_true="显示" desc_false="隐藏" displayName="第三方登录可见" value="true"/>
            <property type="bool" name="noLogin" desc_true="显示" desc_false="隐藏" displayName="未登录可见" value="true"/>
        </group>
        <group name="more" displayName="更多" max-repeat="10">
            <property type="string" name="name" displayName="设置项名称" i18n="true"/>
            <property type="string" name="url" displayName="设置项跳转URL，支持cmp和http地址,设置项类型设为开关类型，可不填"/>
            <property type="string" name="event" displayName="设置项状态的事件名"/>
            <property type="enum" name="type" displayName="设置项类型，请选择正确的类型">
                <options multi="false">
                    <option value="jump">跳转</option>
                    <option value="switch">开关</option>
                </options>
            </property>
            <property type="bool" name="thirdLogin" desc_true="显示" desc_false="隐藏" displayName="第三方登录可见" value="true"/>
            <property type="bool" name="noLogin" desc_true="显示" desc_false="隐藏" displayName="未登录可见" value="true"/>
        </group>
        <property type="enum" name="setting_autoplay_default_config" os="all" displayName="设置自动播放默认配置">
            <options multi="false">
                <option value="1">移动流量及wifi自动播放</option>
                <option value="2">仅wifi自动播放</option>
                <option value="3">关闭自动播放</option>
            </options>
        </property>
    </properties>
    <events/>
    <handlers>
        <handler name="receiveUcAcceptAgreementEvent" desc="uc同意权限" receive_event="KEY_USER_ACCEPT_AGREEMENT_EVENT_ASYNC"/>
        <handler name="not-ios://socialSettingHandler" desc="设置延迟加载事件" receive_event="cmp://com.nd.smartcan.appfactory.demo.main_component/check_have_new_version,event_send_new_tab_count,event_setting_cache_info,event_app_language_changed,com.nd.social.appsetting.EVENT_FETCH_APP_VERSION_NAME,com.nd.social.appsetting.EVENT_APP_NEW_VERSION_BADGE,handler_app_update_event,com.nd.social.appsetting.EVENT_GET_CACHE_SIZE,event_appsettting_get_cache_info"/>
    </handlers>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
        </properties>
        <providers>
            <provider name="com.nd.social.appsetting.GetCommonSwitchStatus" filter="" desc="设置项状态"/>
        </providers>
        <activity_screen_orientations displayName="要替换界面方向白名单,要有申明才能替换，不支持新增加">
            <activity_screen_orientation value="com.nd.setting.module.setting.view.SettingActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.about.SettingAboutActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.invitefriend.InvitingFriendsActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.shortcut.view.ShortcutListActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.shortcut.view.ShortcutBridgeActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.versionhistory.VersionResumeActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.lanuage.view.LanguageActivity"/>
            <activity_screen_orientation value="com.nd.setting.module.lanuage.view.LanguageActivity2"/>
            <activity_screen_orientation value="com.nd.setting.module.autoplay.view.AutoPlayConfigActivity"/>
        </activity_screen_orientations>
    </runtime>
    <android>
        <class>com.nd.setting.guide.SettingComponent</class>
        <dependency>
               compile('com.nd.android.sdp.social:module_setting:25.3.11.56fd84e') 
               compile('com.nd.android.smartcan:version-history:3.5.1-release.1@aar') {
        			transitive = true
        			changing = true
              		exclude group: 'android.support', module: 'android-support-v4'
   			   }
               compile ('com.nd.android.sdp.ucext:module_orgtree_ui:1.0.0.0.release@aar') {
              		transitive = true
              		changing = true
               }
             </dependency>
        <scenes>
            <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="获取网络状态" describe="获取网络数据需要" isAsk="false" closeable="true" type="permission"/>
            <scene name="android.permission.GET_TASKS" displayName="允许一个程序获取信息有关当前或最近运行的任务" describe="" isAsk="false" closeable="true" type="permission"/>
            <scene name="android.permission.com.android.launcher.permission.INSTALL_SHORTCUT" displayName="创建快捷方式" describe="" isAsk="false" closeable="true" type="permission"/>
            <scene name="com.android.launcher.permission.INSTALL_SHORTCUT" displayName="创建快捷方式" describe="" isAsk="false" closeable="true" type="permission"/>
            <scene name="com.android.launcher.permission.UNINSTALL_SHORTCUT" displayName="创建快捷方式" describe="" isAsk="false" closeable="true" type="permission"/>
            <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="保持邀请图片后通知媒体库刷新" describe="" isAsk="true" closeable="true" type="permission"/>
            <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="保存邀请图片" describe="" isAsk="true" closeable="true" type="permission"/>
            <scene name="_applicationId_.com.nd.social.setting" displayName="只接收系统发出的息屏广播" describe="" isAsk="false" closeable="true" type="permission"/>
        </scenes>
    </android>
    <ios>
        <class>AppSettingComponent</class>
        <dependency>
            <![CDATA[
                        pod 'AppSettingComponent','26.6.26'
                    ]]>
        </dependency>
        <scenes>
            <scene name="UISupportedInterfaceOrientations"/>
        </scenes>
    </ios>
    <build>
        <android>
            <safe_whitelist>
                <activities>
                    <activity name="com.nd.setting.module.shortcut.view.ShortcutBridgeActivity" describe="快捷方式跳转" type="activity" owner="黄永鑫（102210）"/>
                </activities>
            </safe_whitelist>
        </android>
    </build>
</component><component namespace="com.nd.sdp" name="common_skin_component" display="[AQI] 公共皮肤">
		
  <properties>
    <group name="universalOrientationHooks" displayName="iOS视图控制器横竖屏控制" max-repeat="100">
      <property type="string" name="classname" displayName="类名"/>
      <property type="bool" name="shouldAutorotate" displayName="开启旋转"/>
      <property type="combobox" name="supportedInterfaceOrientations" displayName="支持屏幕方向">
        <options multi="true">
          <option value="u">上</option>
          <option value="l">左</option>
          <option value="r">右</option>
          <option value="d">下</option>
        </options>
      </property>
      <property type="enum" name="preferredInterfaceOrientationForPresentation" displayName="偏好屏幕方向">
        <options multi="false">
          <option value="u">上</option>
          <option value="l">左</option>
          <option value="r">右</option>
          <option value="d">下</option>
        </options>
      </property>
    </group>
  </properties>
  
	<events>
	</events>

	<handlers>
	</handlers>
    <runtime>
      <!--默认要配置不要移除-->
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
      </properties>
    </runtime>
  
    <android>
        <class>
            com.nd.sdp.android.common.res.CommonResComponent
        </class>
        <dependency>
            <![CDATA[
            compile('com.nd.sdp.android.common:res-component:2.6.5') {
                exclude group: 'com.android.support'
                transitive = true
                changing = true
            }
            // skin-loader换肤实现(runtime), 这个包只在运行时使用, 编译时依赖核心包skin-loader-lib
            compile ('com.nd.sdp.android:skin-loader:2.5.1') {
                transitive = true
                changing = true
            }
            // 打包apk时处理AnnotationServiceLoader
            annotationProcessor "com.nd.sdp.android.serviceloader:service-loader-compiler-app:1.3.0"

			// svg加载库
			compile('com.nd.sdp.android:skin-loader-svg:2.5.0')


            compile('androidx.appcompat:appcompat:1.0.0')
            compile('com.google.android.material:material:1.0.0')
            compile('androidx.recyclerview:recyclerview:1.0.0')
            compile('androidx.legacy:legacy-support-v4:1.0.0')
            compile('androidx.cardview:cardview:1.0.0')
            compile('androidx.palette:palette:1.0.0')

            compile('com.afollestad.material-dialogs:commons:0.9.0.2')
			compile('com.nostra13.universalimageloader:universal-image-loader:5.0.29')
            compile('com.nd.android.monet:load-wrapper:0.1.2-rc17')
            compile('com.nd.android.monet:ext-glide:0.1.2-rc17')  // 需要添加至少一个实现

  			 android {
                packagingOptions {
                    exclude 'META-INF/module_release.kotlin_module'
					exclude 'META-INF/rxjava.properties'
                }
            }

          ]]>
        </dependency>
         <groovy>           
          <![CDATA[
				configurations {
					 all*.exclude group: 'android.support'
					 all*.exclude group: 'com.netflix.rxjava'
					 all*.exclude group:'com.nd.sdp.android.unclemock', module: 'unclemock'
                     all*.exclude group: 'com.nd.sdp.android.skin', module: 'skin-setting'
                     all*.exclude group: 'com.afollestad', module: 'material-dialogs'
                }
          ]]>
         </groovy>
	</android>
  
  <ios>
    <class>CommonSkinComponent</class>
    <dependency>
      <![CDATA[
        pod 'MUICommonSkin', '1.0.0'
        pod 'CommonSkinComponent', '1.2.28'
        pod 'MUIUniversalOrientationsSupport', '1.0.0'
      ]]>
    </dependency>
    <ruby>
      <entry>CommonSkinBuildExecutor</entry>
      <dsl>
        <pre_dependency_install>
          <![CDATA[
            require 'pathname'
            require 'json'

            # 修改 build.json 文件，将公共皮肤业务组件中横竖屏控制的配置由原来的 json 修改成单行的表达式
            current_dir = Pathname(Dir.pwd)
            xcode_projects = Dir.glob(current_dir.join('*.xcodeproj'))
            raise Informative, 'require a xcodeproj.' if xcode_projects.empty?
            raise Informative, 'too many xcodeproj.' if xcode_projects.length > 1
            project_name = File.basename(xcode_projects.first, '.xcodeproj')

            build_json_files = Dir.glob(current_dir.join("#{project_name}/Resources/app_factory/*/components/build.json"))
            return if build_json_files.empty?

            build_json_files.each do |build_json_path|
              puts "### 开始修改 build.json 文件: #{build_json_path}"

              build_json_content = File.read(build_json_path)
              build_json_array = JSON.parse(build_json_content)

              item = build_json_array.select do |item|
                item.dig("component", "namespace") == 'com.nd.sdp' &&
                item.dig("component", "name") == 'common_skin_component'
              end.first
              next if item.nil?

              properties = item['properties'] || {}
              hooks = properties['universalOrientationHooks'] || []
              next if hooks.empty?

              hooks.map! do |hook|
                segment0 = hook['classname'] || ''
                segment1 = hook['shouldAutorotate'] || ''
                segment2 = begin
                  value = hook['supportedInterfaceOrientations'] || []
                  value.empty? ? '' : value.join(',')
                end
                segment3 = hook['preferredInterfaceOrientationForPresentation'] || ''
                [segment0, segment1, segment2, segment3].join('|')
              end

              file = File.open(build_json_path, "w") { |f| f << JSON.generate(build_json_array) }

              puts "### 修改完成"
            end
          ]]>
        </pre_dependency_install>
      </dsl>
    </ruby>
  </ios>
</component><component namespace="com.nd.social" name="qr-code" display="二维码">
	<pages>
		<page type="cmp" name="CaptureActivity" display="扫描页面" toplevel="2" android_class="com.nd.qrcode.zxing.activity.CaptureActivity"/>
	</pages>
	
  	<runtime>
		<properties>
      		<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      		<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      
        <handlers>
           <handler name="not-ios://handleImQrEventNameTest" desc="测试的" receive_event="im_qr_event_name_test"/>
          <handler name="not-ios://qrcodeStartScan" desc="点击打开扫描页面" receive_event="qrcode_scan"/>
            <handler name="not-ios://qrcodeDecodeImage" desc="点击识别图片" receive_event="qrcode_decode"/>
            <handler name="not-ios://qrcodeEncodeContent" desc="点击生成二维码" receive_event="qrcode_encode"/>
            <handler name="not-ios://qrcodeDetectImage" desc="点击识别图片是否为二维码" receive_event="qrcode_detect"/>
            <handler name="not-ios://qrcodeDynamicsCode" desc="新增动态二维码" receive_event="qrcode_dynamics_code"/>
            <handler name="not-ios://qrcodeDynamicsReset" desc="重置动态二维码" receive_event="qrcode_dynamics_reset"/>
          	<handler name="not-ios://qrcodeDynamicsUrlRestore" desc="还原动态二维码链接" receive_event="qrcode_dynamics_url_restore"/>
            <handler name="ios://startScan" desc="点击打开扫描页面" receive_event="qrcode_scan"/>
            <handler name="ios://decodeImage" desc="点击识别图片" receive_event="qrcode_decode"/>
            <handler name="ios://reStartScan" desc="重新扫描" receive_event="qrcode_rescan"/>
            <handler name="ios://encodeContent" desc="点击生成二维码" receive_event="qrcode_encode"/>
            <handler name="ios://decodeImageSync" desc="二维码图片解析" receive_event="qrcode_decode_sync"/>
            <handler name="ios://encodeContentSync" desc="生成二维码图片" receive_event="qrcode_encode_sync"/>
            <handler name="ios://dynamicsCode" desc="生成动态二维码" receive_event="qrcode_dynamics_code"/>
            <handler name="ios://dynamicsReset" desc="重置动态二维码" receive_event="qrcode_dynamics_reset"/>
        </handlers>
	</runtime>
  
	<properties>
		<property type="bool" name="qrcode_open" displayName="扫描时智能开启APP" value="true">
			<tip>扫描时智能开启APP</tip>  
		</property>
      	<property type="bool" name="rbac_support_enable" displayName="接入RBAC" value="false">
			<tip>是否接入RBAC</tip>  
		</property>
      
		<property type="string" name="rbac_intercept_url" displayName="要经过RBAC鉴权的URL" value="http://im.101.com/s/group/">
			<tip>如果有多个值，中间用空格隔开</tip>  
          	<!-- value中如果有多个值，用 空格( ) 隔开 -->
		</property>
      
		<group name="group_host_config" displayName="hosts" max-repeat="1"> 
          
			<property type="string" name="property_hosts" displayName="所有支持的hosts" value="http://im.101.com/s/">
			</property> 
          
			<property type="string" name="property_host_actions_http://im.101.com/s/" displayName="http://im.101.com/s/ 支持的动作" value="login/,friend/,group/,official/,chatRoom/,payment/,screenShare,adhoc">
				<tip>如果有多个值，中间用逗号隔开</tip>
				<!-- value 中包含多个值的话，中间用 逗号( , ) 分割 -->
			</property> 
          
			<property type="string" name="http://im.101.com/s/login/" displayName="im.101.com/s/ 二维码登录" value="com.nd.social.im"> 
			</property>
            <property type="string" name="http://im.101.com/s/friend/" displayName="im.101.com/s/ 加好友" value="com.nd.pbl.pblcomponent,com.nd.social.me">
				<tip>如果有多个值，中间用逗号隔开</tip>
				<!-- value 中包含多个值的话，中间用 逗号( , ) ���割 -->
          	</property>
          	<property type="string" name="http://im.101.com/s/group/" displayName="im.101.com/s/ 二维码加群" value="com.nd.social.im"> 
          	</property>
          	<property type="string" name="http://im.101.com/s/official/" displayName="im.101.com/s/ 二维码关注公众号" value="com.nd.social.im"> 
          	</property>
          	<property type="string" name="http://im.101.com/s/chatRoom/" displayName="im.101.com/s/ 聊天室" value="com.nd.sdp.component.imchatroom"> 
          	</property>
          	<property type="string" name="http://im.101.com/s/payment/" displayName="im.101.com/s/ 支付" value="com.nd.sdp.component.payment"> 
          	</property>
			<property type="string" name="http://im.101.com/s/screenShare" displayName="im.101.com/s/ 屏幕分享" value="com.nd.sdp.component.im-screenshare">
          	</property>
			<property type="string" name="http://im.101.com/s/adhoc" displayName="im.101.com/s/ 99互联" value="com.nd.sdp.component.adhoc">
          	</property>
     	</group> 
      
      <group name="group_keyword_config" displayName="keywords" max-repeat="1">
        
			<property type="string" name="property_url_keywords" displayName="所有拦截检测的关键字" value="CH5S=101">
              <!-- value 中包含多个值的话，中间用 逗号( , ) 分割 -->
			</property>
          
			<property type="string" name="CH5S=101" displayName="签到网关关键字" value="com.nd.sdp.component.elearning-h5"> 
              <!-- value 中包含多个值的话，中间用 逗号( , ) 分割 -->
          	</property>
          
      </group>
      
 	</properties>
	
	<events>
	</events>

    <build>
        <android>   
            <safe_whitelist>
                <activities>
                    <activity name="com.nd.qrcode.zxing.activity.CaptureQrCodeActivity" describe="需要暴露给外部应用分享启动扫一扫功能" type="activity" owner="鄢宜扬"/>
              	</activities>
            </safe_whitelist>
        </android>
	</build>  
	<android>
		<class>com.nd.qrcode.module.QRCodeComponent</class>
		<dependency>
           <![CDATA[
			compile('com.nd.android.sdp.qrcode:qrcode:1.6.2.317.release') {
				exclude group: 'com.android.support'
				transitive = true
                changing = true
          }
             ]]>
		</dependency>
      <scenes>
		<scene name="android.permission.CAMERA" displayName="相机权限" describe="二维码拍摄" isAsk="true" closeable="true" type="permission"/>
		<scene name="android.permission.VIBRATE" displayName="震动权限" describe="二维码扫描确认" isAsk="false" closeable="false" type="permission"/>
		<scene name="_applicationId_.permission.AUDIO_RECEIVE_BROADCAST" displayName="接收广播" describe="接收系统广播" isAsk="false" closeable="false" type="permission"/>
      </scenes>
	</android>

	<ios>
		<class>QRCodeComponent</class>
		<dependency>
            <![CDATA[
            pod 'QRCodeComponent', '0.3.57'
             ]]>
		</dependency>
        <meta-datas>
          <meta-data xpath="//plist/dict" key="LSApplicationQueriesSchemes" type="array" file="/ComponentAppBase/Info.plist">
            <![CDATA[
              <string>weixin</string>
              <string>imeituan</string>
              <string>taobao</string>
              <string>mqq</string>
              <string>edu101PPT</string>
              <string>ucbrowser</string>
              <string>newsapp</string>
              <string>ucbrowser</string>
            ]]>
          </meta-data>
       	</meta-datas>
	</ios>
  
</component><component namespace="com.nd.sdp.component" name="elearning-configs" display="教育-应用密钥">
	<pages>

	</pages>
	
	<properties>
		<property type="string" name="app_key" displayName="打包密钥(32位)" value="" senior="true"/>
		<property type="string" name="pre_app_key" displayName="预生产打包密钥" value="">
          <tip>仅预生产环境下生效</tip>
          </property>
        <property type="bool" name="is_mutil_project" displayName="是否为多项目模式"/>
       <property type="bool" name="isMultiRole" value="false" displayName="是否为多角色"/>
        <property type="string" name="host_fail_over" value="" displayName="failover静态文件host"/>
         <property type="int" name="directory_count" value="0" displayName="failover目录数"/>
    </properties>
  
  	<runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
      </properties>
    </runtime>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
    <sdk> 
      <js-sdk> 
        <name>ele-rn-common</name>  
        <version>1.0</version>  
        <ios/>  
        <android> 
          <react-class>com.nd.sdp.android.ele.rncommon.react.EleRnCommonProvider</react-class> 
        </android> 
      </js-sdk> 
    </sdk>

	<android>
		<class>com.nd.hy.android.configs.ConfigsComponent</class>
		<dependency>
			<![CDATA[
	            compile('com.nd.sdp.android:elearning-configs:13.1.2-rc.2@aar') {
			        transitive = true
			        changing = true
			    }
                //密钥组件
            	compile ("com.nd.sdp.android:e-frame:13.1.7-rc.3")
				compile 'com.nd.sdp.android:e101-a-rn-common:13.1.2-rc.1'
				compile 'com.nd.hy.android.hermes:hermes-rx:2.2.6-rc8-adx-beta02'
    			compile 'com.nd.sdp.android:e-uc-client:1.6'
				compile 'com.nd.sdp.android:ele-commons-view:0.0.5-rc3'
				compile 'com.nd.sdp.android:e101-eoms-sdk:0.0.1-rc7'
                // 修复漏洞问题，升级webview:library版本
                compile 'com.nd.hy.android.component.webview:library:0.2.0'
             ]]>
		</dependency>
      	<groovy>
          try{
          	apply from: 'http://git.sdp.nd/mobile/commons/raw/master/ua-ext.gradle'
          }catch(Exception e){
          }
          <![CDATA[
		    android {
              compileOptions {
                      sourceCompatibility 1.8
                      targetCompatibility 1.8
                  }
				configurations {
                   all*.exclude group: 'com.squareup.okhttp', module: 'okhttp'
                }
            }
		]]>
        </groovy>
      <scenes>
         <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="存储权限" describe="密钥组件读取外部存储" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.INTERNET" displayName="网络权限" describe="密钥组件hermes-rx获取网络权限请求网络" isAsk="true" closeable="true" type="permission"/> 
         <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="检测网络状态" describe="密钥组件hermes-rx检测网络状态" isAsk="true" closeable="true" type="permission"/> 
         <scene name="android.permission.ACCESS_WIFI_STATE" displayName="检测wifi状态" describe="密钥组件hermes-rx检测wifi状态" isAsk="true" closeable="true" type="permission"/> 
         <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="写入权限" describe="密钥组件hermes-rx写入权限" isAsk="true" closeable="true" type="permission"/> 
      </scenes>
	</android>

	<ios>
		<class>ElearningConfigManager</class>
		<dependency>
          <![CDATA[
            pod 'elearningConfig', '1.0.98'
            pod 'MBCircularProgressBar', '0.3.2'
            pod 'elearning_sdp_base', '1.0.207'
            pod 'elearn_hyapi', '0.3.141'
            pod 'elearn_download_base','1.0.107'   
            pod 'ELEOfflineManager','1.1.53'
            pod 'elearn_tag', '1.1.25'
			pod 'EomsSDK', '1.0.5'
			pod 'ELECharts', '1.0.45'
			pod 'edu_rescard_sdk_ios', '1.1.17'
			pod 'edu_search_sdk_ios', '1.1.9'
			pod 'edu_media_ios', '0.2.58'
			pod 'KLVKeywordListView', '0.0.10'
			pod 'e_common_ui_ios', '0.3.75'
		  ]]>
		</dependency>
	</ios>
</component><component name="pblcomponent" display="PBL" namespace="com.nd.pbl">
    <pages>
        <page name="me" display="我的主页" toplevel="1" type="cmp" allow_guest="true"/>
        <page name="others" display="他人主页" toplevel="2" type="cmp"/>
        <page name="task" display="任务列表" toplevel="2" type="cmp"/>
        <page name="reward" display="奖励列表" toplevel="2" type="cmp"/>
        <page name="qrcode" display="二维码页面" toplevel="2" type="cmp"/>
        <page name="sign" display="签到页面" toplevel="2" type="cmp"/>
        <page name="setting" display="名片信息页面" toplevel="2" type="cmp"/>
        <page name="settingAvatar" display="头像查看" toplevel="2" type="cmp"/>
        <page name="sendflowercenter" display="送花中心" toplevel="2" type="cmp"/>
        <page name="alertSetting" display="日事日清提醒设置" toplevel="2" type="cmp"/>
    </pages>

     <properties>
        <!-- <property name="card_msg_logout" displayName="设置页面是否包含退出登录" type="bool">
          <tip>设置页面是否包含退出登录</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Setting_logout.jpg"/>
          </property> -->
        <property name="add_friends" displayName="他人主页显示加为好友" type="bool">
          <tip>他人主页显示加为好友</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Others_add_friend.jpg"/>
          </property>
        <property name="send_msg" displayName="他人主页显示发送消息" type="bool">
          <tip>他人主页显示发送消息</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Others_send_msg.jpg"/>
          </property>
      <property name="show_crush" displayName="他人主页显示暗恋按钮" type="bool"/>
      <property name="show_relationship" displayName="他人主页显示和TA建立关系按钮" type="bool"/>
        <property name="show_qrcode" displayName="他人主页更多显示二维码按钮" type="bool">
          <tip>他人主页更多显示二维码按钮</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Others_qrcode.jpg"/>
          </property>
      <!--  <property name="show_suspend_sign" displayName="显示悬浮签到按钮" type="bool">
          <tip>显示悬浮签到按钮</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Sign_Suspend.jpg"/>
          </property> -->
        <property name="auto_sign" displayName="进入签到页面后自动触发签到" type="bool">
          <tip>示例图片为标准版签到页面</tip>
          <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Sign_Standard.png"/>
          </property>
        <property name="sign_type" displayName="签到类型" type="string">
            <tip>standard(标准版),fjt(佛教通),star(明星版)</tip>
            <img src="http://cdncs.101.com/v0.1/static/production_pbl_user/PBLComponent/PBL_Sign_Type.jpg"/>
        </property>
      <!--	<property name="show_reward_in_dlg" displayName="弹窗显示奖励" type="bool">
            <tip>默认false，使用系统提示；为true时，在后台配置过奖励消息推送后，前端将弹窗通知</tip>
        </property> -->
       <!-- <property name="use_task2" displayName="是否使用任务2.0" type="bool"/> -->
      <property type="bool" name="open_daily_remind" displayName="启用日事日清提醒功能" value="false">
        <tip>启用日事日清提醒功能</tip>
        <dependency>
			<component namespace="com.nd.social" name="remindcomponent" display="IM提醒组件"/>
		</dependency>
	  </property>
       
       <property type="bool" name="open_extend_button_sequence" displayName="启用他人主页底部扩展按钮顺序显示" value="false">
        <tip>启用他人主页底部扩展按钮顺序显示（只有业务方注入功能�������������������������������PBl组件不提供默认功能的情况）</tip>
	  </property>
       
       <property type="array" name="extend_button_sequence" displayName="他人主页底部扩展按钮显示顺序">
        <tip>他人主页底部扩展按钮显示顺序（只有业务方注入功能，PBl组件不提供默认功能的情况）</tip>
	  </property>
       
       <property type="array" name="extend_button_sequence_retain_default" displayName="他人主页底部按钮显示顺序">
        <tip>他人主页底部按钮显示顺序（他人底部默认功能+业务方注入功能的情况）</tip>
       </property>
       
       <property type="string" name="task_and_reward_url_param" displayName="任务和奖励H5跳转参数" value="">
        <tip>参数例子:"?novip=1"，不显示vip</tip>
       </property>
       
       <property type="bool" name="report_upload_avatar_task" displayName="上报头像上传任务" value="false">
        <tip>上报头像上传任务</tip>
	  </property>
       
       <property type="bool" name="friend_message_greenhand_guidance" displayName="非好友拒收信息引导" value="true">
        <tip>非好友拒收信息引导</tip>
	  </property>
       
       <property name="data_expire" displayName="缓存过期时间(秒)" type="int" value="7200">
         <tip>个人主页卡片、功能入口等配置数据在缓存过期时间前不自动刷新，默认2小时，下拉可强制刷新</tip>
       </property>
    </properties>

    <events>
        <event name="event_pblcomponent_qrcode_scan" desc="二维码扫描后跳转" sync="1"/>
        <!-- <event name="event_pblcomponent_get_user_data_result" desc="查询用户数据返回" sync="1"/> -->
    </events>

    <handlers>
        <handler name="event_pblcomponent_get_user_data" desc="查询用户数据">
            <property name="uid" displayName="用户ID(可选)" type="string"/>
            <property name="fields" displayName="fields字段" type="string"/>
        </handler>
        <handler name="event_pblcomponent_get_sign_view" desc="获取签到按钮view">
            <property name="button" displayName="签到按钮view,不传为新建view,传值为刷新view" type="view"/>
            <result name="button" displayName="签到按钮view"/>
        </handler>
      	<handler name="ios://receive_event_tab_badget_start" desc="角标变化事件" receive_event="handler_badget_start_event"/>
      	<handler name="cmp://com.nd.pbl.pblcomponent/others" desc="打开他人主页-废弃（无法保证正常跳转，请使用新事件）">
            <property name="uid" displayName="用户ID(一定要传)" type="string"/>
        </handler>
        <handler name="cmp://com.nd.pbl.pblcomponent/task" desc="打开任务列表-废弃（无法保证正常跳转，请使用新事件）"/>
        <handler name="cmp://com.nd.pbl.pblcomponent/reward" desc="打开奖励列表-废弃（无法保证正常跳转，请使用新事件）"/>
        <handler name="cmp://com.nd.pbl.pblcomponent/sendflowercenter" desc="打开送花中心-废弃（无法保证正常跳转，请使用新事件）"/>
      	<handler name="receive_event_show_other_page" desc="打开他人主页" receive_event="pbl_event_show_other_page">
            <property name="uid" displayName="用户ID(一定要传)" type="string"/>
        </handler>
      	<handler name="receive_event_show_task_page" desc="打开任务列表" receive_event="pbl_event_show_task_page"/>
      	<handler name="receive_event_show_reward_page" desc="打开奖励列表" receive_event="pbl_event_show_reward_page"/>
      	<handler name="receive_event_show_sendflowercenter_page" desc="打开送花中心" receive_event="pbl_event_show_sendflowercenter_page"/>
    </handlers>
  
     <routes>
      <route source="cmp://com.nd.social.me/me_HomePage" destination="cmp://com.nd.pbl.pblcomponent/others"/>
    </routes> 
  
  	<runtime>
      <properties>
        <property type="bool" name="lazy_init_ios" displayName="是������IOS����������" value="true"/>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      </properties>
       <providers>
        <provider name="com.nd.pbl.pblcomponent:functiondata-provider" filter="" desc="获取个人和他人主页功能入口数据"/>
        <provider name="com.nd.pbl.pblcomponent:functionai-provider" filter="com.nd.sdp.component.ai-assistant" desc="获取个人功能入口AI数据"/>
        <provider name="com.nd.pbl.pblcomponent:remind-provider" filter="com.nd.social.remindcomponent.startup" desc="为提醒组件提供的"/>
      </providers>
    </runtime>
 
    <android>
        <class>com.nd.pbl.pblcomponent.base.LifeComponent</class>
        <dependency>
            <![CDATA[
                  configurations.all {
                      resolutionStrategy {
                          force "com.nd.pbl:pblcomponent-sdk:4.1.22.053931e"
                      }
                  }
                  compile ('com.nd.pbl:pblcomponent:7.5.145-AM-SNAPSHOT') {
                      transitive = true
                      changing = true
                  }
				  compile ('com.nd.sdp.android:star-module:0.9.13.431b39b') {
                      transitive = true
                      changing = true
                  }

            ]]>
        </dependency>
            <groovy>
         	<![CDATA[
                android {
					packagingOptions {
	    				exclude 'META-INF/ASL2.0'
                        exclude 'META-INF/DEPENDENCIES.txt'
                        exclude 'META-INF/LICENSE.txt'
                        exclude 'META-INF/NOTICE.txt'
                        exclude 'META-INF/NOTICE'
                        exclude 'META-INF/LICENSE'
                        exclude 'META-INF/DEPENDENCIES'
                        exclude 'META-INF/notice.txt'
                        exclude 'META-INF/license.txt'
                        exclude 'META-INF/dependencies.txt'
                        exclude 'META-INF/LGPL2.1'
                        exclude 'META-INF/services/javax.annotation.processing.Processor'
                        exclude 'META-INF/rxjava.properties'
	  				}
                }
             ]]>
		</groovy>
    </android>

    <ios>
        <class>pbl_component</class>
        <dependency>
            <![CDATA[
                  pod 'pbl_component', '0.1.338'
                  pod 'pbl_sdk', '0.0.25'
                  pod 'SQXTools', '0.0.80'
				  pod 'WCDB', '1.0.7-Framework2'
                  pod 'SQLCipher', '0.0.2'
             ]]>
        </dependency>
        <scenes>
             <scene name="NSPhotoLibraryUsageDescription" describe="获取相册权限用于选择用户头像"/>
             <scene name="NSCameraUsageDescription" describe="获取相机权限用于拍照生成用户头像"/>
          	 <scene name="NSPhotoLibraryAddUsageDescription" describe="获取相册写入权限用于保存头像"/>
        </scenes>
    </ios>
</component><component namespace="com.nd.social" name="mui-pullrefreshview" display="刷新公共控件" type="library">
  <runtime>
	<properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
	</properties>
  </runtime>
  <android>
        <dependency>
            <![CDATA[
                    compile('com.nd.social.pulltorefresh:library:1.6@aar') {
                        transitive = true
                        changing = true
                    }
                    configurations {
                       all*.exclude group:'com.handmark.pulltorefresh', module: 'library'
                    }
             ]]>
        </dependency>
    </android>
	<ios>
        <dependency>
            <![CDATA[
                      pod 'MUIPullRefreshView', '0.2.21'
             ]]>
        </dependency>
    </ios>

</component><component namespace="com.nd.social" name="mui-videocontroller" display="视频公共控件" type="library">
     <properties>
        <property type="enum" name="iOSRecordMode" displayName="iOS默认的录制输出方式" value="4_3">
          <options multi="false">
             <option value="4_3">宽高比4:3</option>
             <option value="16_9">宽高比16:9</option>
             <option value="1_1">宽高比1:1</option>
            <option value="9_16">宽高比9:16(竖屏)</option>
          </options>
       </property>
       <property type="enum" name="AndroidRecordMode" displayName="Android默认的录制输出方式" value="0">
          <options multi="false">
             <option value="0">默认</option>
             <option value="1">全屏</option>
          </options>
       </property>
	 </properties>
   <runtime>
	 <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
	 </properties>
    </runtime>
    <ios>
        <class>MUIVideoSupportComponent</class>
        <dependency>
            <![CDATA[
                      pod 'MUIVideoController', '1.1.77'
             ]]>
        </dependency>
      
        <scenes>
           <scene name="NSCameraUsageDescription" describe="使用相机进行录制视频"/>
           <scene name="NSMicrophoneUsageDescription" describe="录制音频需要使用录音权限"/>
        </scenes>
    </ios>
	 <android>
      <class>com.nd.android.social.mediaRecorder.VideoComponent</class>
		 <dependency>
         compile('com.nd.android.sdp.social:module_recorder:13.8.12.release') {
			transitive = true
  			exclude group: 'com.nd.android.sdp.im.common.widget', module: 'emotion'
		 }
		 </dependency>
         <scenes>
          <scene name="android.permission.CAMERA" displayName="拍摄照片和录制视频" describe="录制视频" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.RECORD_AUDIO" displayName="录制音频" describe="录制视频同时需要录音权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.WRITE_SETTINGS" displayName="修改系统设置" describe="拍摄视频是提高视频亮度，拍摄后恢复" isAsk="false" closeable="true" type="permission"/>
          <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="修改或删除存储卡中的内容" describe="拍摄的视频存到本地" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.FLASHLIGHT" displayName="访问闪光灯" describe="拍摄视频选择闪光灯的开启关闭" isAsk="false" closeable="true" type="permission"/>
          <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储卡中的内容" describe="读取存入本地的拍摄视频" isAsk="true" closeable="true" type="permission"/>
         </scenes>
	 </android>
</component><component namespace="com.nd.social" name="mui-imagecropper" display="图片裁剪公共控件" type="library">
    <ios>
        <dependency>
            <![CDATA[
                      pod 'MUIImageCropper', '0.0.12'
             ]]>
        </dependency>
    </ios>

</component><component namespace="com.nd.sdp.appfactory" name="jssdk" display="JS SDK">
	<pages>
	</pages>
	
	<properties>
      <property displayName="是否使用选图控件" name="muitiplephoto_enable" type="bool" value="true" desc_true="开启" desc_false="关闭">
      		<dependency>
				<component namespace="com.nd.sdp.component" name="imagepicker" display="使用选图控件"/>
			</dependency>
        </property>
	</properties>
	
	<events>
	</events>
  
    <runtime>
      <providers>
        <provider name="com.nd.sdp.smartcan.appfactoryjssdk.JsSdkKvProvider" filter="com.apf.element.longpress.provider.filter" desc="webview长按菜单使用"/>
      </providers>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
      </properties>
    </runtime>
  

	<handlers>
      <handler name="ios://receive_event_handler_unified_url_updated" desc="推送域名更新事件" receive_event="handler_unified_url_update_event"/>
	</handlers>
  
	<ios>
		<class>APFJavascriptSDKComponent</class>
		<dependency>
			<![CDATA[
            pod 'APFJavascriptSDKComponent',  '1.0.99'
             ]]>
		</dependency>
        <scenes>
          	<scene name="NSPhotoLibraryUsageDescription" describe="为了实现H5图片长按保存到相册功能"/>
        </scenes>
	</ios>
    <android>
		 <class>com.nd.sdp.smartcan.appfactoryjssdk.JsSdkComponent</class>
		 <dependency>
			  <![CDATA[
				   ext.jssdk_version = "3.3.13-release.1"
				configurations.all {
    				resolutionStrategy {      
      					force "com.nd.sdp.android:appfactory-js-sdk:${jssdk_version}"
					}
				}
			    compile("com.nd.sdp.android:appfactory-js-sdk:${jssdk_version}@aar") {
			        transitive = true
			        changing = true
			    }

             ]]>
		</dependency>
  </android>
 
</component><component namespace="com.nd.sdp.component" name="inputpanel" display="输入面板" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
    <ios>
        <class/>
        <dependency>
            <![CDATA[
              pod 'MUIInputPanel', '0.3.138'
            ]]>
        </dependency>
    </ios>
 	<runtime>
      <!--默认要配置不要移除-->
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否��启延��初始��" value="false"/>
      </properties>
    </runtime>
</component><component namespace="com.nd.sdp.component" name="muitiplephoto" display="查看大图" type="library">
  	<sdk>
    	<js-sdk>
        	<name>MUIMultiPhotoJsSdk</name>
          	<version>1.0</version>
          	<ios>
            	<js-class>MUIMultiPhotoJsBridgeSdkModuleProvider</js-class>
          	</ios>
          	<android>
              <js-class>com.nd.sdp.android.common.ui.gallery.jssdk.GalleryJsInjectorProvider</js-class>
          	</android>
        </js-sdk>
  	</sdk>
	<pages>
	</pages>
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
    <android>
		<class/>
		<dependency>
          <![CDATA[
            def photoViewVersion = "3.0.15"
    		compile("com.nd.android.sdp.common:photoview:${photoViewVersion}") {
    		   transitive = true
    		   exclude group: 'com.android.support'
               exclude group: 'pl.droidsonroids.gif',module: 'android-gif-drawable'
    		}
			compile 'com.android.support:gridlayout-v7:24.2.1'
    		compile("com.nd.android.sdp.common:photoview-iml:${photoViewVersion}") {
    		   transitive = true
    		   exclude group: 'com.android.support'
    		   exclude group: 'com.nostra13.universalimageloader'
               exclude group: 'pl.droidsonroids.gif',module: 'android-gif-drawable'
    		}
    		compile("com.nd.android.sdp.common:photoview-longclick:${photoViewVersion}") {
    		   transitive = true
    		   exclude group: 'com.android.support'
    		   exclude group: 'com.nostra13.universalimageloader'
    		}
   			ext { gallery_version = "3.10.3-release.5" }
            
            compile "com.nd.sdp.android.common.ui:gallery:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-loader:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-page-image:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-page-ximage:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-page-video:$gallery_version"
			compile "com.nd.sdp.android.common.ui:gallery-page-video-exo:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-page-image-loader-glide:$gallery_version"
            compile "com.nd.sdp.android.common.ui:gallery-page-image-loader-monet:$gallery_version"
			compile "com.nd.sdp.android.common.ui:gallery-page-video-loader-okhttp:$gallery_version"
			compile "com.nd.sdp.android.common.ui.gallery.plugin:csimage:1.1.0"
            compile "com.nd.sdp.android.common.ui:gallery-jssdk:$gallery_version"
            compile "com.nd.sdp.android.common.ui.gallery.plugin:sdplongclick:1.1.27.release"
          ]]>
		 </dependency>
         <groovy>
          <![CDATA[
		    android {
				configurations {
					 all*.exclude group: 'android.support'
					 all*.exclude group: 'com.netflix.rxjava'
                }
             }
          ]]>
         </groovy>
<scenes>
    <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="写入存储权限" describe="视频下载" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储权限" describe="视频播放" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.INTERNET" displayName="网络权限" describe="图片下载" isAsk="true" closeable="true" type="permission"/>
</scenes>	
	</android>
  
    <runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启IOS延迟初始化" value="false"/>
		</properties>
	</runtime>
  
    <ios>
        <class>MUIPhotosBridge</class>
        <dependency>
            <![CDATA[
              pod 'MUIMultiPhotoController', '0.2.185'
              pod 'MUIPhotosBridge', '0.0.12'
            ]]>
        </dependency>
      	<scenes>
			<scene name="NSPhotoLibraryUsageDescription" describe="为了实现H5保存图片到相册功能"/>
		</scenes>
    </ios>
  
</component><component namespace="com.nd.sdp.component" name="timepicker" display="时间选择器" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>  
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
      </properties>
    </runtime>
    <android>
		<class/>
		<dependency>
          <![CDATA[
            compile('com.nd.sdp.android.common.ui:nd-timepicker:1.3.8') {
                transitive = true
                changing = true;
            }
          ]]>
		 </dependency>
	</android>
  
  	<ios>
		<dependency>
            <![CDATA[
				pod 'MUIDatePickerView', '0.0.11'
			]]>
		</dependency>
	</ios>

</component><component namespace="com.nd.sdp.component" name="audiorecordingview" display="录音控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>
	<handlers>
	</handlers>
    <android>
		<class/>
		<dependency>
          implementation('com.nd.android.sdp.social:module_audiorecorder:17.2.18.1c8f15b')
          <![CDATA[
    		compile("com.nd.android.sdp.im.common.widget.recorder:library:0.5.68.release") {
    		   transitive = true
    		   exclude group: 'com.android.support'
    		}
    		compile("com.nd.android.sdp.common:audioplayer:0.5.77.release") {
    		   transitive = true
    		   exclude group: 'com.android.support'
    		}
          ]]>
		 </dependency>
         <groovy>
          <![CDATA[
		    android {
				configurations {
					 all*.exclude group: 'android.support'
					 all*.exclude group: 'com.netflix.rxjava'
                }
             }
          ]]>
         </groovy>
    <scenes>
         <scene name="android.permission.RECORD_AUDIO" displayName="录音权限" describe="拍摄视频需要的权限" isAsk="true" closeable="true" type="permission"/>
   		 <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储权限" describe="读音频文件" isAsk="true" closeable="true" type="permission"/>
   	     <scene name="android.permission.VIBRATE" displayName="允许程序振动 " describe="开始录音前振动" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="存储权限" describe="写音频文件" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.MODIFY_AUDIO_SETTINGS" displayName="修改播放模式" describe="切换是否蓝牙播放" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.BLUETOOTH" displayName="蓝牙连接" describe="播放到蓝牙设备" isAsk="true" closeable="true" type="permission"/>
         <scene name="_applicationId_.permission.AUDIO_RECEIVE_BROADCAST" displayName="接收广播" describe="接收系统广播" isAsk="false" closeable="false" type="permission"/>
    </scenes>
	</android>
  
    <ios>
        <class/>
        <dependency>
            <![CDATA[
               pod 'MUIAudioRecordingView', '0.2.33'
            ]]>
        </dependency>
        <scenes>
        	<scene name="NSMicrophoneUsageDescription" describe="访问您的录音是为了发送录音消息"/>
    	</scenes>
    </ios>
  <runtime>
      <!--默认要配置不要移除-->
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否��启延��初始��" value="true"/>
      </properties>
    </runtime>
</component><component namespace="com.nd.smartcan.appfactory" name="main_component" display="应用框架">
  <pages>
    <page type="cmp" name="benchmark" display="性能基准统计" toplevel="1" android_class="" allow_guest="true"/>
    <page type="cmp" name="develop" display="开发者工具页面（调试使用，勿配置在正式产品上）" toplevel="1" allow_guest="true"/>
	<page type="cmp" name="download" display="下载管理" toplevel="1" allow_guest="true"/>
    <page type="cmp" name="permission_list" display="高敏感权限" android_class="" allow_guest="true"/>
    <page type="cmp" name="main" display="TAB布局" template="1" allow_guest="true" toplevel="3">
      <img>http://cs.101.com/v0.1/static/cs_app_native_storage/apps/com.nd.app.factory.ios.ep200059/1470123273000.png</img>
      <properties>
        <group name="items" displayName="页签" max-repeat="100">
          <validator type="size" rule="[1,100]" msg=""/>
          <property name="text" displayName="标题" type="string" i18n="true">
            <validator type="required"/>
          </property>
          <property name="image" displayName="默认图标" type="image" accept="png,jpeg,jpg,9.png,json">
            <transfer os="Android" model="xhdpi"/>
            <transfer os="Android" model="xxhdpi"/>
          </property>
          <property name="image_selected" displayName="选中图标" type="image" accept="png,jpeg,jpg,9.png">
            <transfer os="Android" model="xhdpi"/>
            <transfer os="Android" model="xxhdpi"/>
          </property>
          <property name="page" displayName="页面" type="page_level_1">
            <validator type="required"/>
          </property>
          <property name="_not_switch_tab" displayName="不跳转tab" type="bool"/>
          <property name="param" displayName="页面参数" type="map"/>
          <property name="_stick" displayName="不可移除" type="bool"/>
          <property name="hidden" displayName="页面隐藏状态，默认/不配置时显示" type="bool"/>
        </group>
          <property type="string" name="tabbar_item_selected_text_color" displayName="tab标签选中态字体颜色(    请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(如要使用动态换肤，请勿配置此项)" value=""/>
          <property type="string" name="tabbar_item_text_color" displayName="tab标签常态字体颜色(  请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(  如要使用动态换肤，请勿配置此项)" value=""/>
          <property type="string" name="tabbar_background_color" displayName="tab标签背景色(请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(    如要使用动态换肤，请勿配置此项)" value=""/>
          <property type="image" name="tabbar_background_image_android" displayName="Tab标签背景图片(android:支持.9图片)" value="" accept="png,jpeg,jpg,9.png">
                <transfer os="Android" resize="@hdpi,@xhdpi,@xxhdpi"/>
          </property>
          <property type="int" name="default_tab_index" displayName="打开应用时默认选中的TAB位置（从0开始）" value="0"/>
          <property type="image" name="tabbar_background_image_ios" displayName="Tab 标签背景图片(    iOS:不支持.9图片；图片将被拉伸到Tab尺寸；非纯色图片建议提供标准大小（640x98））" value="">
                <transfer os="iOS" resize="640*98@2x" model="iPhone4"/>
                <transfer os="iOS" resize="750*98@2x" model="iPhone6"/>
                <transfer os="iOS" resize="1242*147@3x" model="iPhone6P"/>
                <transfer os="iOS" resize="1125*249@3x" model="iPhoneX"/>
                <transfer os="iOS" resize="828*166@2x" model="iPhoneXR"/>
                <transfer os="iOS" resize="1242*249@3x" model="iPhoneXSMax"/>
                <transfer os="iOS" resize="1170*249@3x" model="iPhone12"/>
				<transfer os="iOS" resize="1284*249@3x" model="iPhone12ProMax"/>
           </property>
      </properties>
    </page>
    <page type="cmp" name="main_fragment" display="(已废弃)TAB布局(fragment)" template="1">          
      <img>http://cs.101.com/v0.1/static/cs_app_native_storage/apps/com.nd.app.factory.ios.ep200059/1470123273000.png</img>
      <properties>
        <group name="items" displayName="页签" max-repeat="100">
          <validator type="size" rule="[1,100]" msg=""/>
          <property name="text" displayName="标题" type="string" i18n="true">
            <validator type="required"/>
          </property>
          <property name="image" displayName="默认图标" type="image" accept="png,jpeg,jpg,9.png,json">
            <transfer os="Android" model="xhdpi"/>
            <transfer os="Android" model="xxhdpi"/>
          </property>
          <property name="image_selected" displayName="选中图标" type="image" accept="png,jpeg,jpg,9.png">
          <transfer os="Android" model="xhdpi"/>
            <transfer os="Android" model="xxhdpi"/>
          </property>
          <property name="page" displayName="页面" type="page_level_1">
            <validator type="required"/>
          </property>
          <property name="_not_switch_tab" displayName="不跳转tab" type="bool"/>
          <property name="param" displayName="页面参数" type="map"/>
          <property name="_stick" displayName="不可移除" type="bool"/>
        </group>
      </properties>
    </page>
    <page type="cmp" name="webview" display="Web页面" template="1" allow_guest="true">
      <img>http://cs.101.com/v0.1/static/cs_app_native_storage/apps/com.nd.app.factory.ios.ep200059/1470123386000.png</img>
      <params>
        <property type="bool" name="_maf_show_progress_bar" displayName="是否显示进度条"/>
        <property type="string" name="url" displayName="地址"/>
        <property type="string" name="_maf_down_start_event_name" displayName="网页触发下载，这边要发送的事件名称"/>
      </params>
      <properties>
        <property name="url" displayName="页面URL" type="string"/>
        <property name="_maf_show_progress_bar" displayName="显示加载进度条" type="bool"/>
        <property name="_maf_down_start_event_name" displayName="触发下载时，发送的事件名(只有android生效)" type="string"/>
      </properties>
    </page>
    <page type="cmp" name="webview2" display="Web页面2" template="1" allow_guest="true">
      <img>http://cs.101.com/v0.1/static/cs_app_native_storage/apps/com.nd.app.factory.ios.ep200059/1470123386000.png</img>
      <params>
        <property type="bool" name="_maf_show_progress_bar" displayName="是否显示进度条"/>
        <property type="string" name="url" displayName="地址"/>
        <property type="string" name="_maf_down_start_event_name" displayName="网页触发下载，这边要发送的事件名称"/>
      </params>
      <properties>
        <property name="url" displayName="页面URL" type="string"/>
        <property name="_maf_show_progress_bar" displayName="显示加载进度条" type="bool"/>
        <property name="_maf_down_start_event_name" displayName="触发下载时，发送的事件名(只有android生效)" type="string"/>
      </properties>
    </page>
        <page type="cmp" name="main_virtual" display="容器宿主属性配置" toplevel="1" android_class="" allow_guest="true" expandability="true">
       <img>http://cs.101.com/v0.1/static/cs_app_native_storage/apps/com.nd.app.factory.ios.ep200059/1470123273000.png</img>
       <properties>
          <property name="image" displayName="默认图标" type="image" accept="png,jpeg,jpg,9.png"/>
       </properties>
    </page>
  </pages>
  <properties>
    <property type="int" name="request_limit" displayName="异常上报请求时限(仅对 Android 生效)" value="30"/>
    <property type="int" name="updataGapMinute" displayName="应用检查升级间隔(分钟)；最低60；" value=""/>
	<property type="int" name="dont_remind_update_interval" displayName="用户点击取消更新以后，N天之内不会再提示更新。" value="0"/>
	<property type="bool" name="is_default_update_show_ui" desc_true="开启" desc_false="关闭" displayName="静默更新是否显示弹窗(仅对 Android 生效)" value="false"/>
    <property type="int" name="h5_update_minute" displayName="轻应用检查升级间隔（分钟）" value=""/>
    <property type="bool" name="allow_check_update" desc_true="开启" desc_false="关闭" displayName="允许检查更新" value="true"/>
    <property type="bool" name="is_new_app_download_enabled" desc_true="开启" desc_false="关闭" displayName="是否启用新版应用下载" value="false"/>
    <property type="enum" name="tabbar_layout_type" displayName="tab标签布局(Android)">
      <options multi="false">
        <option value="phone">Phone</option>
        <option value="pad">Pad</option>
        <option value="auto">Auto</option>
      </options>
    </property>
	<property type="string" name="tabbar_item_selected_text_color" displayName="tab标签选中字体颜色(请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(如要使用动态换肤，请勿配置此项)" value=""/>
    <property type="string" name="tabbar_item_text_color" displayName="tab标签常态字体颜色(请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(如要使用动态换肤，请勿配置此项)" value=""/>
    <property type="string" name="tabbar_background_color" displayName="tab标签背景色(请以RGBA格式输入，如00FF00FF表示alpha为1.0的纯绿色)(如要使用动态换肤，请勿配置此项)" value=""/>
    <property type="image" name="tabbar_background_image_android" displayName="Tab标签背景图片(android:支持.9图片)" value="" accept="png,jpeg,jpg,9.png">
           <transfer os="Android" resize="@hdpi,@xhdpi,@xxhdpi"/>
          </property>
    <property type="image" name="tabbar_background_image_ios" displayName="Tab 标签背景图片(iOS:不支持.9图片；图片将被拉伸到Tab尺寸；非纯色图片建议提供标准大小（640x98））" value="">
      <transfer os="iOS" resize="640*98@2x" model="iPhone4"/>
      <transfer os="iOS" resize="750*98@2x" model="iPhone6"/>
      <transfer os="iOS" resize="1242*147@3x" model="iPhone6P"/>
      <transfer os="iOS" resize="1125*249@3x" model="iPhoneX"/>
      <transfer os="iOS" resize="828*166@2x" model="iPhoneXR"/>
      <transfer os="iOS" resize="1242*249@3x" model="iPhoneXSMax"/>
      <transfer os="iOS" resize="1170*249@3x" model="iPhone12"/>
	  <transfer os="iOS" resize="1284*249@3x" model="iPhone12ProMax"/>
    </property>
     <property type="bool" name="is_check_root" desc_true="开启" desc_false="关闭" displayName="检查设备是否root" value="false"/>
     <property type="bool" name="is_check_emulator" desc_true="开启" desc_false="关闭" displayName="检查设备是否为模拟器" value="false"/>
    <property type="int" name="default_tab_index" displayName="打开应用时默认选中的TAB位置（从0开始）" value="0"/>
    <property type="bool" name="apk_resign_check" desc_true="开启" desc_false="关闭" displayName="是否开启应用重签名检查" value="false"/>
    <property type="bool" name="is_show_tab" desc_true="开启" desc_false="关闭" displayName="是否显示tab标签" value="true"/>
    <property type="string" name="sharedUserId" displayName="sharedUserId配置（仅对 Android 生效）" value=""/>
    <property type="string" name="AppId" displayName="Bugly Appid（android）如果崩溃组件有加这个配置就失效" template="false" senior="true">
      <tip>获取内容请点击： https://bugly.qq.com/v2/index</tip>
    </property>
    <property type="bool" name="android_h5_single_task" desc_true="开启" desc_false="关闭" displayName="是否使用singleTask启动H5容器,请勿打开!使用前联系应用工厂开发人员(仅对 Android 生效)" value="false"/>
    <property type="bool" name="is_use_fragment_webview" desc_true="开启" desc_false="关闭" displayName="是否使用fragment加载webview" value="true"/>
	<property type="bool" name="exclude_x5" desc_true="是" desc_false="否" displayName="是否屏蔽X5代码(优先级最高,测试中)" value="false">
		<dependency>
		   <component namespace="com.nd.sdp.component" name="webviewwrapper-x5"/>
		</dependency>
	</property>
    <property type="bool" name="is_global_webview_use_x5" desc_true="开启" desc_false="关闭" displayName="是否使用x5内核加载webview(优先级弱于X5代码屏蔽,仅对 Android 生效)" value="true"/>
    <property type="bool" name="is_multi_web_instance" desc_true="开启" desc_false="关闭" displayName="是否启用单实例web容器" value="false"/>
    <property type="bool" name="set_status_bar_color" desc_true="开启" desc_false="关闭" displayName="是否开启状态栏改色(需API版本大于等于19且各组件实现相应接口)(仅对 Android 生效)" value="false"/>
    <property type="string" name="window_soft_input_mode" displayName="设置窗口和软键盘的交互模式" value=""/>
    <property type="bool" name="is_activity_start_from_history" desc_true="开启" desc_false="关闭" displayName="是否从堆栈历史里启动主界面(仅对 Android 生效)" value="false"/>
    <property type="string" name="androidmax_aspect" displayName="最大屏幕纵横比(官方建议为2.1或更大)(仅 Android 有效)" value="2.1"/>
  	<property type="bool" name="ext_permission" desc_true="是" desc_false="否" displayName="是否显示框架扩展权限" value="true">
		<dependency>
		   <component namespace="com.nd.sdp.component" name="apf-permission"/>
		</dependency>
	</property>
    <property type="bool" name="is_use_popup_web_menu_style" desc_true="开启" desc_false="关闭" displayName="是否使用下拉(旧)样式web菜单" value="false"/>
    <property type="bool" name="is_open_float" displayName="webview是否开启悬浮功能" value="false">
        <dependency>
            <component namespace="com.nd.sdp.component" name="floating-window"/>
        </dependency>
    </property>
    <property type="bool" name="is_show_default_toast_when_request_error" desc_true="开启" desc_false="关闭" displayName="网络请求失败429或503后是否开启吐司提示" value="true"/>
    <property type="bool" name="open_maf_okhttp3_request" desc_true="开启" desc_false="关闭" displayName="开启maf新版网络请求" value="true"/>
    <property type="bool" name="webview_inspectable" desc_true="开启" desc_false="关闭" displayName="webview允许调试(iOS 16.4 以上生效)" value="false"/> 
    <category displayName="HTTP 代理设置" name="HttpProxySettings">
        <property type="enum" name="http_proxy_strategy" displayName="HTTP代理策略">
            <options multi="false">
                <option value="system">系统设置</option>
                <option value="disabled_global">全局禁用</option>
                <option value="disabled_for_domains">针对指定域名禁用</option>
            </options>
        </property>
        <property displayName="禁用 HTTP 代理的域名列表" name="http_proxy_disabled_domains" type="array">
          	<file name="entitlements"/>
        </property>
    </category>
    
    <category displayName="外部打开应用跳转设置" name="OpenAppSettings">
        <property type="enum" name="open_app_allow_external_links" displayName="允许打开外链?">
            <options multi="false">
              <option value="disabled">全部禁用</option>
              <option value="specific_domains_allowed">允许指定域名</option>
              <option value="all_allowed">全部允许</option>
            </options>
        </property>
        <property displayName="允许的域名列表" name="open_app_allowed_domains" type="array">
          	<file name="entitlements"/>
        </property>
    </category>
  </properties>
  <events>
    </events> 
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
        <property type="string" name="system_priority" displayName="初始化系统优先级" value="com.nd.sdp.uc_component;com.nd.sdp.library.cscom;com.nd.sdp.component.nd-net-monitor-component;com.nd.smartcan.appfactory.main_component"/>
      </properties>
      <activity_screen_orientations displayName="要替换界面方向白名单,要有申明才能替换，不支持新增加">
        <activity_screen_orientation value="com.nd.smartcan.appfactory.script.webkit.WebViewActivity"/>
        <activity_screen_orientation value="com.nd.smartcan.appfactory.script.webkit.H5containerActivity"/>
        <activity_screen_orientation value="com.nd.smartcan.appfactory.demo.SplashActivity"/>
        <activity_screen_orientation value="com.nd.smartcan.appfactory.demo.LoadDexActivity"/>		
		<activity_screen_orientation value="com.nd.component.MainContainerActivity"/>
		<activity_screen_orientation value="com.nd.component.ShowPerformActivity"/>
        <activity_screen_orientation value="com.nd.component.ShowPerformListActivity"/>
		<activity_screen_orientation value="com.nd.component.ShowPerformDetailActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.DevToolActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.LightAppUpdateLogActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.UIMonitorActivity"/>
		<activity_screen_orientation value="com.nd.component.SubMainContainerActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.DevToolFragmentActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.DevtoolPreferenceActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.DevToolPerformActivity"/>
		<activity_screen_orientation value="com.nd.component.MainGoPageErrorActivity"/>
		<activity_screen_orientation value="com.nd.component.permission.PermissionListActivity"/>
		<activity_screen_orientation value="com.nd.component.permission.PermissionDetailActivity"/>
		<activity_screen_orientation value="com.nd.component.maintenance.MaintenanceActivity"/>
		<activity_screen_orientation value="com.nd.component.devtool.SchemeGenerateActivity"/>
        <activity_screen_orientation value="com.nd.component.FragmentContainerActivity"/>
        
      </activity_screen_orientations>
    </runtime>
    <build>
        <android>
            <safe_whitelist>
                <activities>
                    <activity name="com.nd.smartcan.appfactory.demo.SplashActivity" detail="未设置exported属性，设置了intent-filter子标签，该组件可导出" describe="外部应用启动当前应用需要" type="activity" owner="苏昌骏"/>
                </activities>  
              	<services>
                    <service name="androidx.work.impl.background.systemjob.SystemJobService" describe="官方androidx声明，无法修改" type="service" owner="邹敏超"/>
                </services>
              	<receivers>
                    <receiver name="androidx.work.impl.diagnostics.DiagnosticsReceiver" describe="官方androidx声明，无法修改" type="receiver" owner="邹敏超"/>
              	</receivers>
           </safe_whitelist>
        </android>
    </build>
  <android>
    <class>com.nd.component.MainComponent</class>
    <dependency><![CDATA[
    ext.maf_version = "3.6.5-release.1"
	def androidx_version = "1.0.0"
    configurations.all {
    resolutionStrategy {     
      force "com.nd.sdp.android:ext-downloadmanager:3.0.1-release.5"
      force "com.nd.component.android:maincomponent:3.3.54-release.1"
      force "com.nd.android.smartcan:smartcan-appfactory:5.5.45-151.2-SNAPSHOT"
	  force "com.nd.sdp.android:apf-interface:3.1.1-stable"
      force "com.nd.sdp.android:apf-assemble:3.1.8-release.1"       
      force "com.nd.sdp.android:h5-implement:3.3.18-release.1"
      force "com.nd.sdp.android:extend-implement:3.1.1-release.1"

      force "com.nd.sdp.android:maf-assemble:3.1.4-release.1"
      force "com.nd.sdp.android:maf-implement:3.1.5-release.1"     
      force "com.nd.sdp.android:maf-interface:3.1.8-release.1"     
 	  force "com.nd.android.smartcan:network-base-aar:${maf_version}"
      force "com.nd.android.smartcan:smartcan-datacollection-aar:${maf_version}"
      force "com.nd.android.smartcan:datatransfer-aar:${maf_version}"
      force "com.nd.android.smartcan:smartcan-core-aar:${maf_version}"
      force "com.nd.android.smartcan:datalayer-aar:${maf_version}"
      force "com.nd.android.smartcan:framework-aar:${maf_version}"
      force "com.nd.android.smartcan:network-aar:${maf_version}"
      force "com.nd.android.smartcan:commons-util-aar:${maf_version}"
      force "com.nd.android.smartcan:smartcanui-aar:${maf_version}"
      force "com.nd.android.smartcan:thread-util-aar:${maf_version}"


      force "com.nd.sdp.android:webviewwrapper:3.5.28-release.1"
	  force "com.nd.sdp.android:webviewwrapper-x5:3.5.28-release.1"
	  force "com.nd.sdp.android:android-sub-app:3.2.4-release.1"
	  force "com.nd.sdp.android:apf-stand-alone-update:3.2.43-release.1"
	  force "com.nd.android.smartcan:i-android-apf:3.1.0-stable"

      force "androidx.appcompat:appcompat:${androidx_version}"
      force "androidx.cardview:cardview:${androidx_version}"
      force "com.google.android.material:material-rc01:${androidx_version}"
      force "androidx.palette:palette:${androidx_version}"
      force "androidx.recyclerview:recyclerview:${androidx_version}"
      force "androidx.annotation:annotation:${androidx_version}"
      force "androidx.legacy:legacy-support-v4:${androidx_version}"
      force "androidx.percentlayout:percentlayout:${androidx_version}"
      force "androidx.legacy:legacy-support-v13:${androidx_version}"
      force "androidx.browser:browser:${androidx_version}"
      force "androidx.legacy:legacy-support-core-utils:${androidx_version}"

      //force "androidx.core:core:${androidx_version}"
      force "androidx.viewpager:viewpager:${androidx_version}"
      force "androidx.coordinatorlayout:coordinatorlayout:${androidx_version}"
      force "androidx.collection:collection:${androidx_version}"
      force "androidx.vectordrawable:vectordrawable-animated:${androidx_version}"
      force "androidx.customview:customview:${androidx_version}"
      force "androidx.swiperefreshlayout:swiperefreshlayout:${androidx_version}"
      force "androidx.vectordrawable:vectordrawable:${androidx_version}"
      force "androidx.drawerlayout:drawerlayout:${androidx_version}"
      force "androidx.versionedparcelable:versionedparcelable:${androidx_version}"
      force "androidx.slidingpanelayout:slidingpanelayout:${androidx_version}"
      force "androidx.legacy:legacy-support-core-ui:${androidx_version}"
      force "androidx.cursoradapter:cursoradapter:${androidx_version}"
      force "androidx.asynclayoutinflater:asynclayoutinflater:${androidx_version}"
      force "androidx.interpolator:interpolator:${androidx_version}"
      force "androidx.gridlayout:gridlayout:${androidx_version}"
      force "androidx.media:media:${androidx_version}"
      force "androidx.fragment:fragment:1.1.0"
	  force "androidx.multidex:multidex:2.0.0"

	  // 和x学习xst-interact-sdk冲突，暂时先降下来
	  force "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.2.2"

// okhttp3的版本升级至4.10.0后，在gradle 5.6.4上构建会有okio冲突，6.5+正常，这里先强制依赖版本，等gradle5.6.4不用之后可以去掉
	  force "com.squareup.okio:okio:3.0.0"
	// 这里先强制版本
 	  force "com.squareup.okhttp3:logging-interceptor:4.10.0"
	  force "com.squareup.okhttp3:okhttp:4.10.0"
	  force "com.squareup.okhttp3:okhttp-urlconnection:4.10.0"
    }
  } 

	implementation 'com.google.android.play:feature-delivery:2.1.0'
	implementation('com.nd.sdp.android:processcheck:3.1.1-release.1@aar') {
        transitive = true
        changing = true 
    }

    implementation('com.nd.sdp.android:maf-interface:3.1.3-release.1@aar') {
        transitive = true
        changing = true 
    }
    implementation('com.nd.component.android:maincomponent:3.3.54-release.1@aar') {
        transitive = true
        changing = true 
    }

    implementation('com.nd.android.smartcan:smartcan-appfactory:3.5.47-release.1@aar') {
        transitive = true
        changing = true
        exclude group:'android.support',module:'android-support-v4'
    }
	
	implementation('com.nd.sdp.android:apf-interface:3.1.1-stable@aar') {
        transitive = true
        changing = true
    }

    implementation('com.nd.sdp.android:apf-assemble:3.1.6-release.1@aar') {
        transitive = true
        changing = true
        exclude group:'android.support',module:'android-support-v4'
    }
    
    implementation('com.nd.sdp.android:maf-assemble:3.1.2-release.1@aar') {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation('com.nd.sdp.android:maf-implement:3.1.4-release.1@aar') {
        transitive = true
        changing = true
    }

    implementation('com.nd.sdp.android:h5-implement:3.3.17-release.1@aar') {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation('com.nd.sdp.android:extend-implement:3.1.1-release.1@aar') {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
	implementation("com.nd.android.smartcan:thread-util-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
	implementation("com.nd.android.smartcan:smartcan-datacollection-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:datatransfer-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:smartcan-core-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:datalayer-aar:${maf_version}") {
        transitive= true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:framework-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:network-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:commons-util-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation("com.nd.android.smartcan:smartcanui-aar:${maf_version}") {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }

    implementation('com.nd.sdp.android:webviewwrapper:3.5.28-release.1@aar') {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
    implementation('com.nd.sdp.android:webviewwrapper-x5:3.5.28-release.1@aar') {
        transitive = true
        changing = true
        exclude group: 'android.support', module: 'android-support-v4'
    }
	implementation('com.nd.android.smartcan:cssdkextend:1.1.4.csextend@aar') {
		transitive = true
		changing = true
		exclude group: 'android.support', module: 'android-support-v4'
	}
	implementation('com.nd.sdp.android:android-sub-app:3.2.4-release.1@aar') {
		transitive = true
		changing = true
	}
	implementation('com.nd.sdp.android:apf-stand-alone-update:3.2.43-release.1@aar') {
        transitive = true
        changing = true
    }
	
	configurations {
		all*.exclude group:'android.support', module: 'android-support-v4'
		all*.exclude group: 'android.support'
		all*.exclude group: 'com.netflix.rxjava'
		all*.exclude group: 'com.nd.android.sdp.demo' , module: 'module_orgtree_ui'
		all*.exclude group: 'com.nd.android.sdp.demo' , module: 'contentServiceSdk'
		all*.exclude group: 'com.nd.android.sdp.demo' , module: 'module_commonResource'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'smartcan-accountclient'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'commons-util'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'network'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'framework'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'datalayer'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'smartcan-core'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'datatransfer'
		all*.exclude group: 'com.nd.android.smartcan' , module: 'smartcan-datacollection'         
		all*.exclude group: 'com.nd.android.smartcan' , module: 'smartcan-func-need-permision'
		all*.exclude group:'com.squareup.okhttp', module: 'okhttp'
		all*.exclude group:'com.squareup.okhttp', module: 'okhttp-urlconnection'
		all*.exclude group:'com.nd.sdp.android', module: 'sdp-common-update'
        all*.exclude group:'com.google.android.play', module: 'core'
	}

android {
    packagingOptions {
        exclude 'META-INF/services/javax.annotation.processing.Processor'
        exclude 'META-INF/module_release.kotlin_module'
		exclude 'META-INF/okio.kotlin_module'
    }
    defaultConfig {
    //apf-ndk-begin
    ndk{
      abiFilters "armeabi-v7a"
      }
    //apf-ndk-end
  }
}
    android.applicationVariants.all { variant ->
        variant.outputs.each { output ->
            def charsetCode = "UTF-8"
            output.processManifest.doLast {
                def targetPath = "${buildDir}/intermediates"
                def fileNum = 0
                def folderNum = 0
                File targetFile = new File(targetPath)
                if (targetFile.exists()) {
                    LinkedList<File> list = new LinkedList<File>()
                    String[] subFiles = targetFile.listFiles()
                    for (String sub : subFiles) {
                        if (new File(sub).isDirectory()) {
                            list.add(sub)
                        } else {
                            if (sub.contains("AndroidManifest.xml")) {
                                def content = new File(sub).getText(charsetCode).replaceAll("_applicationId_", globalApplicationId)
                                println "开始-----替换清单文件Activity横竖屏配置，要在白名单中，并且编辑器设备方向配置有修改"
                                def newData = dealWithdic(content, getScreenOrientation(), getfilterActivity())
                                println "结束-----替换清单文件Activity横竖屏配置，要在白名单中，并且编辑器设备方向配置有修改"
                                new File(sub).write(newData, charsetCode)
                                println "applicationId已修改:"
								println sub
                            }
                        }
                    }
                    File tempFile;
                    while (!list.isEmpty()) {
                        tempFile = new File(list.removeFirst())
                        subFiles = tempFile.listFiles()
                        for (String sub : subFiles) {
                            if (new File(sub).isDirectory()) {
                                list.add(sub)
                            } else {
                                if (sub.contains("AndroidManifest.xml")) {
                                    def content = new File(sub).getText(charsetCode).replaceAll("_applicationId_", globalApplicationId)
                                    println "开始-----替换清单文件Activity横竖屏配置，要在白名单中，并且编辑器设备方向配置有修改"
                                    def newData = dealWithdic(content, getScreenOrientation(), getfilterActivity())
                                    println "结束-----替换清单文件Activity横竖屏配置，要在白名单中，并且编辑器设备方向配置有修改"
                                    new File(sub).write(newData, charsetCode)
                                    println "applicationId已修改:"
									println sub

                                }
                            }
                        }
                    }
                } else {
                    println "intermediates文件不存在"
                }
            }
        }
    }


            ]]></dependency>
    <meta-datas>
    <meta-data name="shareUserId" label="shareUserId" type="attribute" xpath="//manifest" file="/app/AndroidManifest.xml">
       <attribute name="android:sharedUserId" value="${sharedUserId}"/>
    </meta-data>
        <meta-data xpath="//manifest/application" file="/app/AndroidManifest.xml">
          <![CDATA[
            <meta-data android:name="android.max_aspect" android:value="${androidmax_aspect}"/>
			<meta-data android:name="android_h5_single_task" android:value="${android_h5_single_task}"/>
			<meta-data android:name="APF_DEFAULT_CHANNEL" android:value="${CHANNEL_NAME}"/>
          ]]>
        </meta-data>
    </meta-datas>
    <scenes>
          
          <scene name="android.permission.INTERNET" displayName="网络权限" describe="框架提供网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.GET_TASKS" displayName="获取任务权限" describe="框架获取当前任务包名需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" displayName="存储删除文件权限" describe="异常上报需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="获取网络状态权限" describe="框架提供网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.ACCESS_WIFI_STATE" displayName="获取WiFi状态权限" describe="框架提供网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.ACCESS_DOWNLOAD_MANAGER" displayName="下载权限" describe="框架提供大文件下载功能需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.REQUEST_INSTALL_PACKAGES" displayName="未知来源应用安装权限" describe="框架提供安装apk功能需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.WRITE_SETTINGS" displayName="修改系统设置权限" describe="框架提供添加快捷方式需要" isAsk="false" closeable="false" type="permission"/>
          <scene name="com.android.launcher.permission.INSTALL_SHORTCUT" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher.permission.UNINSTALL_SHORTCUT" displayName="移除快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher2.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher2.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher3.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.launcher3.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adw.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adw.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.htc.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.htc.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.qihoo360.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.qihoo360.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.lge.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.lge.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="net.qihoo.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="net.qihoo.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adwfreak.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adwfreak.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adw.launcher_donut.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="org.adw.launcher_donut.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.launcher3.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.launcher3.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.fede.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.fede.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.sec.android.app.twlauncher.settings.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.sec.android.app.twlauncher.settings.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.anddoes.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.anddoes.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.tencent.qqlauncher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.tencent.qqlauncher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.launcher2.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.launcher2.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.mylauncher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.android.mylauncher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.ebproductions.android.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.ebproductions.android.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.oppo.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.oppo.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.miui.mihome2.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.miui.mihome2.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.android.launcher.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="com.huawei.android.launcher.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="telecom.mdesk.permission.READ_SETTINGS" displayName="查询快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="telecom.mdesk.permission.WRITE_SETTINGS" displayName="添加快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="dianxin.permission.ACCESS_LAUNCHER_DATA" displayName="快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.FOREGROUND_SERVICE" displayName="快捷方式权限" describe="适配第三方rom快捷方式创建提供的权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="_applicationid_.permission.appfactory.broadcast" displayName="应用框架自定义广播权限" describe="应用框架自定义广播权限" isAsk="true" closeable="true" type="permission"/>
          <scene name="_applicationId_.permission.APPFACTORY_UPDATE_NETWORK_RECEIVE_BROADCAST" displayName="应用框架升级自定义广播权限" describe="应用框架升级自定义广播权限" isAsk="true" closeable="true" type="permission"/> 
          <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="写权限" describe="框架提供写sdcard能力需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读权限" describe="框架提供读sdcard能力需要" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.change_wifi_state" displayName="wifi权限" describe="框架提供检测wifi状态能力需要" isAsk="true" closeable="true" type="permission"/>
    </scenes>
  </android>
  <ios>
    <class>APFMainComponent</class>
    <dependency><![CDATA[
pod 'APFMainComponent', '0.2.303'
pod 'APFKit', '0.1.499'
pod 'APFContentProvider', '1.0.13'
pod 'MUPFoundationNetworking', '1.0.99'
pod 'MUPFoundationNetworkingLegacy', '0.0.13'
pod 'AFNetworking', '3.2.3-APF'
pod 'SmartCan', '0.5.106'
pod 'APFWebKit', '1.0.130'
pod 'SMCDataLayer', '0.4.57'
pod 'MUPFoundation', '0.5.76'
pod 'MUPFoundationUtils', '1.0.32'
pod 'APFUIKit', '1.0.20'
pod 'SUIAlertController', '1.0.9'
pod 'MUPFoundationProfiler', '1.0.30'
pod 'VersionHistorySDK', '1.0.6'
pod 'MUPAssetsKit', '1.0.29'
pod 'MUPSQLiteORM', '0.2.11'
pod 'PSPDFUIKitMainThreadGuard-SDP', '1.19.1'
pod 'FMDB', '2.7.5'
pod 'APFAppUpgradeSDK', '1.0.6'
pre_install do
    system("sed -i '' '/UITextField/d' Pods/BlocksKit/BlocksKit/BlocksKit+UIKit.h")
    system('rm Pods/BlocksKit/BlocksKit/UIKit/UITextField+BlocksKit.h')
    system('rm Pods/BlocksKit/BlocksKit/UIKit/UITextField+BlocksKit.m')
end
            ]]></dependency>
    <scenes>
    <scene name="LaunchImage"/>
    <scene name="PermissionSettingExplain"/>
    <scene name="InformationSecurity"/>
    <scene name="LaunchScreenBackgroundImage"/>
    <scene name="LaunchScreenCenterImage"/>
    <scene name="LaunchScreenBottomImage"/>
    <scene name="associated-domains"/>
    <scene name="changeRuntimeConfig"/>
    <scene name="NSPhotoLibraryAddUsageDescription" describe="允许用户将 H5 页面截长图后保存到相册中"/>
    <scene name="deviceSupport"/>
    <scene name="UIRequiresFullScreen"/>
    <scene name="verifySignature"/>      
    <scene name="UISupportedInterfaceOrientations" describe="设备方向支持"/>
    <scene name="UISupportedInterfaceOrientations~ipad" describe="设备方向支持（iPad）"/>
    </scenes>
    <ruby>
      <!--入口声明，必须提供且唯一-->
      <entry>APFMainBuildExecutor</entry>
      <dsl>
        <pre_dependency_install>
          <![CDATA[
		require 'xcodeproj'

        # todo: 考虑提供环境变量
        # 1. 项目名
        # 2. 项目基础地址

        # 获取当前路径
        current_dir = Pathname(Dir.pwd)

        # 搜索到项目列表
        projects = Dir.glob(current_dir.join('*.xcodeproj'))
        if projects.length != 1
            puts 'can\'t ensure unique xcodeproj file.'
            return
        end

        # 获取 local.json 文件数据
        local_json_file_path = current_dir.join('sdp/local.json')
        unless File.exist? local_json_file_path
            puts 'can\'t found sdp/local.json.'
            return
        end
        local_json_content_string ||= File.open(local_json_file_path, 'r:utf-8', &:read)
        local_json_content = JSON.parse(local_json_content_string)

        # target config
        target_configs = local_json_content['target_config'] || []
        if target_configs.empty?
            puts '[local.json] require target_config.'
            return
        end

        # 配置项目 xocdeproj
        xcode_project_path = projects.first
        xcode_project = Xcodeproj::Project.open(xcode_project_path)

        # 配置 target config
        target_configs.each do |target_config|
            local_json_target_name = target_config['target_name']
            xcode_project_target = xcode_project.targets.select do |item|
                item.name.strip == local_json_target_name
            end.first
            unless xcode_project_target
               puts "target(#{local_json_target_name})不存在，不处理"
               next
            end

            # 获取 bundleid
            bundleid = target_config['properties']['package_name']
            if bundleid.empty?
                puts "target(#{local_json_target_name}) 不存在包名，不处理"
                next
            end

            # 获取 build configurations
            build_configurations = xcode_project_target.build_configuration_list.build_configurations
            build_configurations.each do |build_configuration|
                build_configuration.build_settings['PRODUCT_BUNDLE_IDENTIFIER'] = bundleid
            end
        end

        # 保存 xcodeproj
        xcode_project.save
			]]>
        </pre_dependency_install>
        <post_dependency_install>
          <![CDATA[
            require 'pathname'
            require 'json'
            require 'net/http'
            current_dir = Pathname(Dir.pwd)
            xcode_projects = Dir.glob(current_dir.join('*.xcodeproj'))
            raise Informative, 'require a xcodeproj.' if xcode_projects.empty?
            raise Informative, 'too many xcodeproj.' if xcode_projects.length > 1
            project_name = File.basename(xcode_projects.first, '.xcodeproj')
            components_path = current_dir + project_name + "Resources" + "ci" + "components.json"
            capabilities_path = current_dir + project_name + "Resources" + "ci" + "component_capabilities.json"

            puts "### 开始添加component_capabilities.json文件:#{capabilities_path}"

            # 1. 获取 components.json 文件内容
            unless File.exist? components_path
                puts "目录不存在，跳过处理：#{components_path}"
                return
            end	
            components_content = File.read(components_path)
            components_map = JSON.parse(components_content)

            # 2. 获取默认模板组件内容
            uri = URI('http://app-native-storage.web.sdp.101.com/v0.8/items/93171cb2-88da-41ca-9c74-259d81a89f8a/content')
            content = Net::HTTP.get(uri)
            forced_choiced_components = JSON.parse(content) || []

            # 3. 比较 1 和 2 内容生成 component_capabilities.json 文件
            component_dependency_map = components_map['component_dependency']
            capabilities = []
            forced_choiced_components.each { |forced_choiced_component|
                capability = {}
                component = forced_choiced_component['component']
                component_id = component['namespace'] + ':' + component['name']
                capability['name'] = component['name']
                capability['namespace'] = component['namespace']
                capability['capability_detail'] = ' '
                capability['enable'] = false
                capability['dependencies'] = []
                if component_dependency_map.has_key?(component_id)
                    capability['enable'] = true
                    capability['dependencies'] = component_dependency_map[component_id]
                end
                capabilities << capability
            }

            output = JSON.generate(capabilities)
            file = File.new(capabilities_path, "w")
            file.write(output.to_s)
            file.close

            puts "### 添加完成"
			]]>
    	</post_dependency_install>
      </dsl>
    </ruby>
  </ios>
</component><component namespace="com.nd.sdp.library" name="cscom" display="内容服务">
    <sdk>
      <js-sdk>
        <name>cs-jssdk</name>  <!-- 必须 -->
        <version>1.0</version>  <!-- 必须 -->
        <ios>
            <js-class/>   <!-- 可选 -->
        </ios>
        <android>
            <js-class>com.nd.sdp.cs.js.CsCommonJsInjectorProvider</js-class> <!-- 可选 -->
            <react-class>com.nd.sdp.cs.js.CsCommonJsInjectorProvider</react-class>  <!-- 仅android需要此标签， 可选 -->
        </android>
      </js-sdk>
    </sdk>
	<pages>
	</pages>
	
	<properties>
      <property type="bool" name="open_cs_uploadlog" desc_true="显示" desc_false="隐藏" displayName="开启全球化" value="false"/>
      <property type="bool" name="open_cdn_download" desc_true="开启" desc_false="关闭" displayName="开启CDN下载" value="false"/>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
      </properties>
    </runtime>
	<android>
		<class>com.nd.sdp.cs.CsComponent</class>
		<dependency>
			<![CDATA[
                compile('com.nd.sdp:cs_component:0.0.8.0.release'){
					transitive = true
					changing = true 
				}
                compile ('com.nd.android.smartcan:content:1.4.4.11.cs.release')
                compile('com.nd.android.smartcan:content-s3:0.0.6.22.s3.release')
				compile('com.nd.android.smartcan:cs-object-sdk:0.0.8.66.release')
                compile('com.nd.android.smartcan:cs-base-sdk:0.0.5.36.release')
                compile('com.nd.android.smartcan:cssdkextend:2.0.0.3.csextend@aar'){
					transitive = true 
					changing = true 
					exclude group: 'android.support', module: 'android-support-v4' 
				}
                compile('com.nostra13.universalimageloader:universal-image-loader:2.1.0.3@aar') {
                    transitive = true
                    changing = true
                }
                configurations {
                  all*.exclude group:'android.support', module: 'android-support-v4'
                }
             ]]>
		</dependency>
      	<groovy>
          <![CDATA[
android {
	compileOptions {
		sourceCompatibility 1.8
		targetCompatibility 1.8
	}
}
          ]]>
	   </groovy>
                   
	</android>
  
      <ios>
        <class>CSComponent</class>

        <dependency>
            <![CDATA[
			pod 'ContentServiceSDK', '0.2.83'
            pod 'CSComponent', '1.0.23'
            pod 'CephS3SDK','1.4.20'
            pod 'CSObjectSDK', '1.1.102'
            pod 'CSBaseSDK', '1.0.9' 
             ]]>
        </dependency>
		<ats-exceptions>
            <ats-exception domain="sl3s3.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="pres3.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="presls3.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="wx-s3-4.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="wx-ecpool-1.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-wxcs-sec.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-sec-1.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-sec-2.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-pres3-1.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-pres3-2.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-1.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-2.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-3.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-4.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-5.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-6.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-7.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-8.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-s3-9.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-1.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-2.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-3.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-4.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-5.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-6.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-7.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-8.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
            <ats-exception domain="nds-ecpool-9.101.com" include-sub-domain="true" minimum-tls-version="TLSv1.2" require-forward-secrecy="false" require-certificate-transparency="false"/>
        </ats-exceptions>
    </ios>

</component><component namespace="com.nd.social" name="flashchat" display="闪聊动画控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
 
  	<runtime>
	<properties>
     	 <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      	 <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>	
  
  
	<events>
	</events>

	<handlers>
	</handlers>
  
  <android>
    <class/>
    <dependency>
      <![CDATA[
        compile('com.nd.android.sdp.texteffect:module_texteffect:0.3.133.develop'){
          transitive = true
          changing = true
        }
       ]]>
    </dependency>
  </android>
  <ios>
    	<class/>
        <dependency>
            <![CDATA[
                pod 'MUIFlashChatMainPanelView', '0.0.10'
               ]]>
        </dependency>
 </ios>
</component><component namespace="com.nd.sdp.component" name="userinfo-view-single-app" display="用户信息显示" type="library">
	<pages>
      <page type="cmp" name="userview" display="用户视图test" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
      <property type="int" name="uv_cache_expiration_second" displayName="缓存过期时间(秒)" value=""/>
      <property type="int" name="uv_update_time_expire_second" displayName="模板缓存过期时间(秒)" value=""/>
      <property type="bool" name="uv_need_cancel_user" displayName="显示UC注销用户" desc_true="开启" desc_false="关闭" value="false"/>
	</properties>
  
  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
     <handlers>
        <handler name="not-ios://onLangChange" desc="获取活动最大id" receive_event="event_app_language_changed"/>
        <handler name="not-ios://onRefreshDataSource" desc="获取缓存" receive_event="userinfo_event_refresh_data_source"/>
      </handlers>
  </runtime>
	
	<events>
      <event name="uv_on_click_person_avatar" desc="点击个人主页头像设置个人头像"/>
	</events>

	<handlers>
	</handlers>
  <android>
		<class>com.nd.sdp.userinfoview.group.UserInfoGroupViewComponent</class>
		<dependency>
            <![CDATA[
   				 compile ('com.nd.sdp.android:userinfo-view-group-component-android:1.1.1.release'){
	                    transitive = true
	                    changing = true
	             }
				compile "com.nd.sdp.android:userinfo-view-single-component-android:3.1.358.master"
				compile "com.nd.sdp.android:avatarext:3.1.358.master"
				compile "com.nd.sdp.android:userinfo-view-sdk-android:1.2.1"
				android {
                    compileOptions {
                        sourceCompatibility 1.8
                        targetCompatibility 1.8
                    }
                }
             ]]>
		</dependency>
	</android>
  
  <ios>
    <class>UserViewGroupComponent</class>
		<dependency>
			<![CDATA[
			pod 'UserViewGroupComponent', '0.1.50'
            pod 'UserViewComponent', '0.1.25'
			pod 'UserViewSDK', '0.1.52'
             ]]>
		</dependency>

	</ios>

</component><component namespace="com.nd.sdp.component" name="ui-qrcode" display="二维码控件" type="library">
	<pages>
	</pages>
	
    <runtime>
		<properties>
      		<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      		<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
    </runtime>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
	<android>
		<dependency>
			<![CDATA[
				compile('com.nd.android.sdp.qrcode:qr-core:0.3.45.develop') {
					transitive = true
                    changing = true
                }
                configurations {
                    all*.exclude group: 'com.google.zxing', module: 'core'
                }
			]]>
		</dependency>
	</android>
  
  	<ios>
		<class/>
		<dependency>
            <![CDATA[
            pod 'MUIQRCode', '0.0.31'
             ]]>
		</dependency>  
		<meta-datas>
       	 <meta-data xpath="//plist/dict" key="NSPhotoLibraryUsageDescription" type="string" file="/ComponentAppBase/Info.plist">
         	 <![CDATA[
    			App need your consent to visit the album
        	  ]]>
         </meta-data>
         <meta-data xpath="//plist/dict" key="NSCameraUsageDescription" type="string" file="/ComponentAppBase/Info.plist">
          <![CDATA[
             App need your consent to access the camera
          ]]>
          </meta-data>
   		 </meta-datas>
	</ios>

</component><component namespace="com.nd.sdp.component.common" name="nd-avatarloader" display="头像控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
      </properties>
    </runtime>
    <android>
		<class/>
		<dependency>
          <![CDATA[
            compile('com.nd.sdp.android.common.ui:nd-avatar-imageview:2.1.3.4.release') {
                transitive = true
                changing = true;
            }
            compile('com.nd.sdp.android.common.ui:nd-avatar-loader-iml:2.1.3.4.release') {
                transitive = true
                changing = true;
            }
          ]]>
		 </dependency>
	</android>
	<ios>
        <class>MUIAvatar</class>
        <dependency>
            <![CDATA[
   			pod 'MUIAvatar', '1.0.58'
             ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="ui-emotion-panel" display="表情面板控件" type="library">
	<pages>
	</pages>
	<runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      </properties>
  	</runtime>
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
        <android>
          <dependency>
              <![CDATA[
                  compile('com.nd.android.sdp.im.common.widget:emotion:3.0.268.release')
				  annotationProcessor "com.nd.android.sdp.im.emotion_cfg:module_build_res_di_app_processor:20.19.release"
                  afterEvaluate { project ->
                  new File("${rootProject.getRootDir().getAbsoluteFile()}/appConfig.tmp")
                      .write("${project.projectDir}/assets")
                  }
              ]]>
          </dependency>
      </android>
  
	<ios>
        <dependency>
            <![CDATA[
                pod 'MUISmiley', '0.2.103'
            ]]>
        </dependency>
    </ios>

</component><component namespace="com.nd.hy.android" name="reader" display="教育-播放-文档" type="function_library">
	<pages>
		<!--<page type="cmp" name="document" display="文档" toplevel="2" android_class="com.nd.hy.android.reader.biz.ReaderActivity"></page>-->
	</pages>
  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
	<properties>
		<!--<property type="string" name="org" displayName="组织名" value="nd" />-->
	</properties>
	
	<events>
	</events>

	<handlers>
        <handler name="ios://eventHandlerProgressChanged" desc="进度上报回调事件" receive_event="elearning_resource_progress_changed"/>
        <handler name="ios://smartlinkGenerateLinkResult" desc="smartLink获取成功" receive_event="smartlink_generate_link_result"/>
        <handler name="ios://smartlinkGenerateLinkFailed" desc="smartLink获取失败" receive_event="smartlink_generate_qrcode_image_result"/>
	</handlers>

	<android>
		<class>com.nd.hy.android.reader.biz.ReaderComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.hy.android.reader:reader-player:0.2@aar') {
                    exclude group: 'com.android.support'
                    exclude(group: "com.nd.sdp.ele.android.reader", module: "reader-pdf")
			        transitive = true
			        changing = true
			    }

                compile "com.nd.sdp.ele.android.reader:reader-image:2.0.7-rc8"
             ]]>
		</dependency>
	</android>

	<ios>
		<class>ElearnDocumentComponent</class>
        <dependency>
            <![CDATA[
            pod 'elearn_document', '2.5.81'
             ]]>
        </dependency>
	</ios>
</component><component namespace="com.nd.social" name="socialShare" display="社会化分享">
   <properties>
      <property type="string" name="umeng_sina_appkey_ios" displayName="新浪微博的appkey（iOS）" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='weiboshare']">
         <tip>获取内容请点击：http://open.weibo.com/</tip>
      </property>
      <property type="string" name="umeng_sina_scheme_ios" displayName="新浪微博的scheme（iOS）" iOS_URL_Types="1" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='weiboshare']">
         <tip>获取内容请点击：http://open.weibo.com/</tip>
      </property>
      <property type="bool" name="support_sina_weibo_share" displayName="支持分享到新浪微博" senior="true" value="true">
        <dependency>
          <component namespace="com.nd.social" name="weiboshare" display="新浪微博分享"/>
        </dependency>
      </property>
     
      <property type="string" name="umeng_qq_appkey_ios" displayName="QQ/Qzone的AppId（iOS）" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='qqshare']">
         <tip>获取内容请点击：http://open.qq.com/</tip>
      </property>
      <property type="string" name="umeng_qq_QQScheme_ios" displayName="QQ/Qzone的QQScheme（iOS）" iOS_URL_Types="1" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='qqshare']">
         <tip>填写规则scheme=QQ+APPID（iOS）转化成十六进制后的字符，例如：scheme=QQ41E51EA3；进制转化在线工具：http://tool.lu/hexconvert/</tip>
      </property>
      <property type="string" name="umeng_qq_tencentScheme_ios" displayName="QQ/Qzone的tencentScheme（iOS）" iOS_URL_Types="1" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='qqshare']">
         <tip>填写规则tencentScheme=tencent+APPID（iOS），例如tencent1105534627</tip>
      </property>
      <property type="bool" name="support_qq_share" displayName="支持分享QQ、Qzone" senior="true" value="true">
        <dependency>
          <component namespace="com.nd.social" name="qqshare" display="QQ分享"/>
        </dependency>
      </property>
     
      <property type="string" name="umeng_wechat_appid_ios" displayName="微信的AppId（iOS）" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='wechatshare']">
         <tip>获取内容请点击：https://open.weixin.qq.com/</tip>
      </property>
      <property type="string" name="umeng_wechat_scheme_ios" displayName="微信的scheme（iOS）" iOS_URL_Types="1" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='wechatshare']">
         <tip>填写规则scheme=tencent+APPID(iOS)，例如tencent110553027</tip>
      </property>
      <property type="bool" name="support_wechat_share" displayName="支持分享微信" senior="true" value="true">
        <dependency>
          <component namespace="com.nd.social" name="wechatshare" display="微信分享"/>
        </dependency>
      </property>
     
      <property type="string" name="sina_app_key_android" displayName="必填，新浪微博的appkey（Android）" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='weiboshare']">
         <tip>获取内容请点击：http://open.weibo.com/</tip>
      </property>
      <property type="string" name="sina_redirect_Url" displayName="选填，新浪微博的重定向URL（Android），默认https://api.weibo.com/oauth2/default.html" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='weiboshare']"/>
      <property type="string" name="youmen_app_key_android" displayName="友盟App KEY(Android)" senior="true">
         <tip>获取内容请点击：http://www.umeng.com/</tip>
      </property>
      <property type="string" name="weixin_app_id_android" displayName="微信App id(Android)" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='wechatshare']">
         <tip>获取内容请点击：https://open.weixin.qq.com/</tip>
      </property>
      <property type="string" name="weixin_app_secret_android" displayName="微信App Secret(Android)" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='wechatshare']">
         <tip>获取内容请点击：https://open.weixin.qq.com/</tip>
      </property>
      <property type="string" name="qq_app_id_android" displayName="QQ App ID(Android)" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='qqshare']">
         <tip>获取内容请点击：http://open.qq.com/</tip>
      </property>
      <property type="string" name="qq_app_key_android" displayName="qq App key(Android)" senior="true" deprecated="//component[@namespace='com.nd.social' and @name='qqshare']">
         <tip>获取内容请点击：http://open.qq.com/</tip>
      </property>
      <property type="bool" name="showSocialShareItem" desc_true="显示" desc_false="隐藏" displayName="社会化分享" value="true"/>
      <property type="bool" name="showCmpShareItem" desc_true="显示" desc_false="隐藏" displayName="组件间分享" value="false"/>
      <property type="bool" name="showWebMenuItem_ios" desc_true="显示" desc_false="不显示" displayName="web页面弹框菜单是否显示分享（iOS有效）" value="true"/>
      <property type="bool" name="showFacebookShareItem" desc_true="显示" desc_false="隐藏" displayName="是否需要分享到Facebook（Android）" value="false"/>
      <property type="bool" name="showMessengerShareItem" desc_true="显示" desc_false="隐藏" displayName="是否需要分享到Messenger（Android）" value="false"/>
      <property type="bool" name="showTwitterShareItem" desc_true="显示" desc_false="隐藏" displayName="是否需要分享到Twitter（Android）" value="false"/>
      <property type="bool" name="support_facebook_messenger_share" displayName="支持facebook、messenger分享" value="false">
        <dependency>
          <component namespace="com.nd.sdp.facebookmessengershare" name="facebook-messenger-share" display="facebook-messenger分享插件"/>
        </dependency>
	  </property>

     <property type="bool" name="support_twitter_share" displayName="支持twitter分享（仅安卓）" value="false">
        <dependency>
          <component namespace="com.nd.social" name="twittershare" display="twitter分享插件"/>
        </dependency>
     </property>
     
     <property type="bool" name="support_line_share" desc_true="显示" desc_false="隐藏" displayName="支持line分享" value="false">
        <dependency>
          <component namespace="com.nd.social" name="lineshare" display="line分享插件"/>
        </dependency>
     </property>
     
     <property type="bool" name="showMessageShareItem" desc_true="显示" desc_false="隐藏" displayName="短信是否显示" value="false">
        <dependency>
          <component namespace="com.nd.social" name="messageshare" display="message分享插件"/>
        </dependency>
     </property>
     
     <property type="bool" name="showCopyItem" desc_true="显示" desc_false="隐藏" displayName="是否需要复制链接功能" value="false"/>
     <property type="bool" name="showWhatsAppItem" desc_true="显示" desc_false="隐藏" displayName="是否需要WhatsApp分享渠道" value="false"/>
     
      <property type="string" name="facebook_appid" displayName="Facebook的appkey（iOS）" value="" deprecated="//component[@namespace='com.nd.sdp.facebookmessengershare' and @name='facebook-messenger-share']"/>
      <property type="string" name="facebook_scheme_ios" displayName="Facebook的Scheme（iOS）" iOS_URL_Types="1" deprecated="//component[@namespace='com.nd.sdp.facebookmessengershare' and @name='facebook-messenger-share']"/>
      <property type="string" name="facebook_app_name" displayName="Facebook的应用显示名称（iOS）" deprecated="//component[@namespace='com.nd.sdp.facebookmessengershare' and @name='facebook-messenger-share']"/>
      <property type="bool" name="showSystemShareItem_ios" desc_true="显示" desc_false="不显示" displayName="是否使用系统自带分享功能（iOS）" value="false"/>
      <property type="enum" name="singleRowNum" displayName="分享弹框单行渠道数" value="5">
		<options multi="false">
			<option value="3">3</option>
			<option value="4">4</option>
          	<option value="5">5</option>
		</options>
	  </property>
      <property type="enum" name="theme" displayName="主������">
		<options multi="false">
			<option value="xstudy">x学习</option>
		</options>
 	  </property>
<property type="bool" name="forceShareDefaultCoverForOuter" desc_true="显示" desc_false="隐藏" displayName="强制默认图片作为对外分享封面（仅支持图文分享）" value="false"/>   </properties>
  
   <events>
   </events>
  
   <handlers>
   </handlers>
  
  <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启延迟初始化" value="false"/>
      </properties>
   </runtime>
  
<android>
<class>com.nd.android.socialshare.config.ShareComponent</class>
<dependency>
compile('com.nd.android.sdp.social:module_share:26.8.6.560f053') { 
  	transitive = true
  	exclude group: 'com.nd.android.sdp.im.common.widget', module: 'emotion'
  }
</dependency>
  <scenes>
    <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="获取网络状态" describe="获取网络数据需要" isAsk="false" closeable="true" type="permission"/>
    <scene name="android.permission.ACCESS_WIFI_STATE" displayName="获取WIFI网络状态" describe="获取mac地址作为用户的备用唯一标识" isAsk="false" closeable="true" type="permission"/>
    <scene name="android.permission.INTERNET" displayName="网络权限" describe="获取网络数据需要" isAsk="false" closeable="true" type="permission"/>
    <scene name="android.permission.GET_TASKS" displayName="允许一个程序获取信息有关当前或最近运行的任务" describe="QQ、QQ空间所需权限" isAsk="false" closeable="true" type="permission"/>
    <scene name="android.permission.QUERY_ALL_PACKAGES" displayName="查询所有应用" describe="查询所有应用" isAsk="false" closeable="true" type="permission"/>
  </scenes>
</android>
  
<ios>
<class>SocialShareComponent</class>
<dependency>
<![CDATA[
  pod 'SocialShareComponent', '26.9.21'
  pod 'SocialShareSDK', '1.0.4'
]]>
</dependency>

<meta-datas>
  <meta-data xpath="//plist/dict" key="LSApplicationQueriesSchemes" type="array" file="/ComponentAppBase/Info.plist">
  <![CDATA[
<string>sinaweibohd</string> <string>sinaweibo</string> <string>weibosdk</string> <string>weibosdk2.5</string> <string>wechat</string> <string>weixin</string> <string>weixinULAPI</string> <string>mqq</string> <string>mqzone</string> <string>wtloginmqq2</string> <string>mqqopensdkapiV3</string> <string>mqqopensdkapiV2</string> <string>mqqwpa</string> <string>mqqOpensdkSSoLogin</string><string>mqqapi</string><string>mqqbrowser</string><string>mttbrowser</string>
<string>fbapi</string> <string>fb-messenger-share-api</string> <string>fbauth2</string> <string>fbshareextension</string> <string>line</string> <string>whatsapp</string>
]]>
  </meta-data>  
</meta-datas>
  
</ios>
   <build>
    <android>   
      <safe_whitelist>
        <activities>
          <activity name="com.nd.android.socialshare.activity.TransferActivity" describe="用于网页启动app，不修改" type="activity" owner="黄永鑫（102210）"/>
        </activities>
      </safe_whitelist>
    </android>
  </build>
</component><component namespace="com.nd.sdp.component" name="rbaccmp" display="RBAC控件" type="library">
	<pages>
	</pages>
	
	<properties>
      <property type="bool" name="enable" displayName="是否启用RBAC功能" value="false"/>
      <category name="接口降级策略">
        <property name="degrade_strategy_count" displayName="触发降级错误次数" type="string" value="1">
          <tip>
            获取resource/role出现超时或5xx错误达到该配置的错误数，则对接口进行降级。
          </tip>
        </property>
        <property name="degrade_strategy_duration" displayName="降级时长" type="string" value="300">
          <tip>
            降级时长，单位为秒，默认300秒。
          </tip>
        </property>
      </category>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
  <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
      </properties>
        
	  <handlers>
		<handler name="not-ios://rbacHandler" desc="商城延迟加载事件" receive_event="event_send_open_tab_activity"/>
      </handlers>
   </runtime>
  
    <android>    
      <class>com.nd.social.rbac.RBACComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.android.sdp.social:module_rbac:20.0.1.0.release') {
			        transitive = true
			        changing = true
					exclude group: 'com.nd.android.sdp.im.common.widget', module: 'emotion'
			    }
                compile('com.nd.android.sdp.social:module_rbacsdk:17.3.6.rbacsdk.release')
             ]]>
		</dependency>
    </android>  
  
  	<ios>
        <class>RbacComponent</class>
        <dependency>
            <![CDATA[
              pod 'RbacComponent', '1.0.53'
            ]]>
        </dependency>
    </ios>

</component><component namespace="com.nd.sdp.sensitivewordfilter" name="sensitivewordfilter" display="敏感词移动端SDK业务组件" type="library">
	<pages/>
	<properties/>
	<events/>
	<handlers/>
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
		</properties>
	</runtime>
   <android>
    	<class>com.nd.android.censorsdk.CensorComponent</class>
    	<dependency>
      		<![CDATA[
                compile('com.nd.sdp.android:censor-sdk:19.0.7.442d96a')
                compile('com.nd.android.sdp.social:module_commonResource:17.0.0.andriodx') {
				    exclude group: 'com.android.support'
                }
          ]]>
     	</dependency>
     	<scenes>
          <scene name="android.permission.INTERNET" displayName="网络权限" describe="" isAsk="false" closeable="true" type="permission"/>
          <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="修改或删除存储卡中的内容" describe="下载词库" isAsk="true" closeable="true" type="permission"/>
          <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储卡中的内容" describe="读取词库" isAsk="true" closeable="true" type="permission"/>
     	</scenes>
  	</android>
  	<ios>
		<class>SensitiveWordComponent</class>
		<dependency>
			<![CDATA[pod 'SensitiveWordFilterSDK', '1.0.56']]>
		</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="video-player-sdk" display="教育-视频控件SDK">
	<pages>
      <page type="cmp" name="test" display="测试" toplevel="1"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  	<android>
		<class>com.nd.ele.android.exp.main.ExamPlayerComponent</class>
		<dependency>
			<![CDATA[
              compile('com.nd.sdp.ele.android.video:video:1.3.7-rc7') 
             ]]>
		</dependency>
	</android>
  <ios>
		<class>ELMediaSDKComponent</class>
		<dependency>
			 <![CDATA[
			pod 'ElearningVideoSDK', '1.0.159'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="imagepicker" display="[AQI]选图控件" type="library">
  
  <sdk>
    <js-sdk>
      <name>ui-jssdk</name>
      <version>1.0</version>
      <android>
        <js-class>com.nd.android.sdp.common.photopicker.js.PhotoPickerJsInjectorProvider</js-class>
      </android>
    </js-sdk>
  </sdk>

  
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>
  
	<handlers>
	</handlers>
  
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="false"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启IOS延迟初始化" value="false"/>
      </properties>
      <activity_screen_orientations displayName="要替换界面方向白名单,要有申明才能替换，不支持新增加">
        <activity_screen_orientation value="com.nd.android.sdp.common.ChooseACropImageActivity"/>
        <activity_screen_orientation value="com.nd.android.sdp.common.photopicker.PreviewActivity"/>
         <activity_screen_orientation value="com.nd.android.sdp.common.photopicker.PhotoPickerActivity"/>
        <activity_screen_orientation value="com.nd.android.sdp.common.photopicker.DragImageActivity"/>
      </activity_screen_orientations>
    </runtime>
    <android>
		<class>com.nd.sdp.android.photosbridge.PhotosbridgeComponent</class>
		<dependency>
          <![CDATA[
            compile 'com.nd.sdp.android:photosbridge:3.0.6-release.1'
            def photo_pick_version = "3.11.5-release.3"

configurations.all {
    resolutionStrategy {      
      force "com.nd.android.sdp.common:photopicker:${photo_pick_version}"
      force "com.nd.android.sdp.common:photopicker-js:${photo_pick_version}"

}
}
    		compile("com.nd.android.sdp.common:photopicker:${photo_pick_version}") {
        		exclude group: 'com.android.support'
                exclude group: 'com.nd.android.sdp.common'
    		}
    		compile("com.nd.android.sdp.common:photopicker-js:${photo_pick_version}") {
        		exclude group: 'com.android.support'
                exclude group: 'com.nd.android.sdp.common'
    		}
            def mediacompress_version = "1.3.1"
			compile "com.nd.sdp.android.common.ui.mediacompress:base:${mediacompress_version}"
			compile "com.nd.sdp.android.common.ui.mediacompress:image:${mediacompress_version}" // 图片压缩
			compile "com.nd.sdp.android.common.ui.mediacompress:video:${mediacompress_version}"
 			compile("com.nd.hy.component:CropImage:1.9.16") {
        			transitive = true
        			exclude group: 'android.support'
        			exclude group: 'com.afollestad.material-dialogs'
    		}
          ]]>
		 </dependency>
         <groovy>
          <![CDATA[
		    android {
				configurations {
					 all*.exclude group: 'android.support'
					 all*.exclude group: 'com.netflix.rxjava'
                }
             }
          ]]>
         </groovy>

<scenes>
    <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="存储权限" describe="图片缓存" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储权限" describe="图片加载" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.CAMERA" displayName="相机权限" describe="拍摄需要的权限" isAsk="true" closeable="true" type="permission"/>
</scenes>

	</android>
  
    <ios>
        <class>MUIPhotoSelector</class>
        <dependency>
            <![CDATA[
              pod 'MUIImagePickerController', '0.2.87'
              pod 'MUIPhotoPickerController', '0.0.111'
              pod 'MUIPhotoSelector', '0.0.20'
            ]]>
        </dependency>
      	<scenes>
          	<scene name="NSCameraUsageDescription" describe="为了给予相册选图控件相机功能"/>
          	<scene name="NSPhotoLibraryUsageDescription" describe="为了给予相册选图控件相册功能"/>
          	<scene name="NSPhotoLibraryAddUsageDescription" describe="为了给予相册选图控件相册功能"/>
        </scenes>
    </ios>
  
</component><component namespace="com.nd.sdp.app.factory.build" name="js-build-tool" display="ReactNative运行框架">
    <pages/>
    <properties/>
    <events/>
    <handlers/>
    <build>
        <properties>

            <property type="string" name="react-widget_git" displayName="react-widget的git地址" value="git@git.sdp.nd:app-factory/react-native-main-template.git"/>

            <property type="string" name="react-widget_git_commitid" displayName="react-widget的git commit-id" value="v1.0.37"/>

            <property type="string" name="react-widget_build_tool" displayName="react-widget的构建工具" value="@sdp.nd/react-native-widget-builder@0.0.68"/>

            <property type="string" name="react_git" displayName="react的git地址" value="git@git.sdp.nd:app-factory/react-native-main-module.git"/>

            <property type="string" name="react_git_commitid" displayName="react的git commit-id" value="v0.0.19"/>

            <property type="string" name="react_build_tool" displayName="react的构建工具" value="@sdp.nd/react-native-component-builder@0.0.37"/>
        </properties>

    </build>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>

            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
        </properties>
    </runtime>
  <android>
    <class/>
    <dependency><![CDATA[
        configurations.all {
         resolutionStrategy {
           force "com.facebook.soloader:soloader:0.6.1-nd"
           force "com.nd.sdp.android:react-wrapper:0.9.0"
           force "com.facebook.react:react-native:0.59.9-nd-hermes-androidx.1"
         }
        }
        compile('com.facebook.soloader:soloader:0.6.1-nd@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }
        compile('com.nd.sdp.android:react-wrapper:0.9.0@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }
        compile('com.nd.sdp.android:rn-implement:1.0.0@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }
        compile('com.nd.sdp.android:plugin-implement:2.1.0@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }
       
afterEvaluate {
    def isAndroidLibrary = plugins.hasPlugin("com.android.library")
    def variants = isAndroidLibrary ? android.libraryVariants : android.applicationVariants
    variants.all { def variant ->
        // Create variant and target names
        def targetName = variant.name.capitalize()
        def targetPath = variant.dirName
        // Delete the VM related libraries that this build doesn't need.
        def libDir = "$buildDir/intermediates/transforms/"
        def vmSelectionAction = {
            fileTree(libDir).matching {
                // For Hermes, delete all the libjsc* files
                include "**/libjsc*.so"
            }.visit { details ->
                def targetVariant = ".*/transforms/[^/]*/${targetPath}/.*"
                def path = details.file.getAbsolutePath().replace(File.separatorChar, '/' as char)
                if (path.matches(targetVariant) && details.file.isFile()) {
                    details.file.delete()
                }
            }
        }

        def task = tasks.findByName("package${targetName}")
        task.doFirst(vmSelectionAction)
    }
}

      ]]></dependency>
    </android>
    <ios>  
      <dependency> <![CDATA[
              pod 'APFReactNativeImplement', '1.0.8'
              pod 'APFReactNativeKit', '1.2.25'
               ]]> </dependency> 
    </ios>
</component><component namespace="com.nd.sdp.android.org.server.adapter" name="orgserveradapter" display="新组织服务适配" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
    <android>
        <class>com.nd.sdp.cq.commonres.UserAdapterComponent</class>
        <dependency>
            <![CDATA[
                compile('com.nd.sdp.android:org.server.adapter:1.0.28.androidx')
                compile('com.nd.android.im:userinfo_extend:0.1.208.release')
             ]]>
        </dependency>
    </android>
</component><component namespace="com.nd.sdp.component" name="e101-exam" display="教育-测评">
	<pages>
	</pages>
	
	<properties>
      
         <property type="bool" name="elearning-exam-player" displayName="测评V3" value="true">
            <dependency>
                <component namespace="com.nd.sdp.component" name="elearning-exam-player"/>
            </dependency>
         </property>
      
         <property type="bool" name="barrierV2" displayName="闯关V2" value="true">
            <dependency>
                <component namespace="com.nd.sdp.component" name="elearning-barrier"/>
            </dependency>
         </property>
      
       <property type="bool" name="e101-mark" displayName="人工批改" value="false">
            <dependency>
                <component namespace="com.nd.sdp.component" name="e101-mark"/>
            </dependency>
         </property>

      

      
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="e101-assist" display="教育-辅助">
	<pages>
	</pages>
	
	<properties>
      
         <property type="bool" name="ele-qa" displayName="问答" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-qa"/>
            </dependency>
        </property>
      
        <property type="bool" name="e101-collection" displayName="收藏" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-collection"/>
            </dependency>
         </property>
      
         <property type="bool" name="elearning-share" displayName="分享" value="true">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="elearning-share"/>
             </dependency>
          </property>
        
       <property type="bool" name="ele-note" displayName="笔记" value="true">
        <dependency>
            <component namespace="com.nd.sdp.component" name="ele-note"/>
       </dependency>
         </property>
         
       <property type="bool" name="ele-search" displayName="搜索" value="true">
            <dependency>
                <component namespace="com.nd.sdp.component.elsearch" name="ele-search"/>
           </dependency>
        </property>
      
        <property type="bool" name="ele-certificate" displayName="证书" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-certificate"/>
            </dependency>
        </property>  
      
        <property type="bool" name="feedback-comp" displayName="用户反馈" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="elearning-feedback-comp"/>
            </dependency>
        </property>  
      
        <property type="bool" name="elearning-act" displayName="活动（旧）" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="elearning-act"/>
            </dependency>
        </property> 
         
           
       <property type="bool" name="ele-students-report" displayName="学习统计报告" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-students-report"/>
            </dependency>
        </property>  
     
         <property type="bool" name="ele-create-community" displayName="学习社区" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-create-community"/>
            </dependency>
        </property> 
      
        <property type="bool" name="ele-rank" displayName="RN排行榜" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-rank"/>
            </dependency>
        </property>  
      
         <property type="bool" name="ele-discovery" displayName="发现" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-discovery"/>
            </dependency>
        </property>   
      
         <property type="bool" name="ele-subscription" displayName="订阅" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-subscription"/>
            </dependency>
        </property>  
      
        <property type="bool" name="e101-subject-analysis" displayName="学科学情分析" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-subject-analysis"/>
            </dependency>
        </property> 
      
         <property type="bool" name="e101-stu-analysis" displayName="学生学情分析" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-stu-analysis"/>
            </dependency>
        </property> 
      
        <property type="bool" name="ele-classroom-assessment" displayName="课堂评价" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-classroom-assessment"/>
            </dependency>
        </property> 
      
        <property type="bool" name="elearning-appraise-pro" displayName="评价（新）" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="elearning-appraise-pro"/>
            </dependency>
        </property> 
      
      	<property type="bool" name="el-smartlink" displayName="教育-二维码" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="el-smartlink"/>
            </dependency>
         </property> 
      
        <property type="bool" name="wjtuc" displayName="网教通登录" value="false">
             <tip>用户登录组件的新版界面与旧版界面必须都关闭，才能开启网教通登录，否则会冲突。</tip>
             <dependency>
                <component namespace="com.nd.sdp.component" name="wjt-uc-biz" display="网教通登录"/>
             </dependency>
        </property>
      

      
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="e101-extend" display="教育-扩展">
	<pages>
	</pages>
	
	<properties>
      
        <property type="bool" name="elearn-enroll" displayName="报名组件" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="elearn-enroll"/>
            </dependency>
        </property>
      
        <property type="bool" name="ele-pay-component" displayName="付费组件" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-pay-component"/>
            </dependency>
        </property>
      
        <property type="bool" name="custom-form" displayName="自定义表单" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="custom-form"/>
            </dependency>
        </property>
      
        <property type="bool" name="elearning-h5" displayName="H5(线下签到)" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="elearning-h5"/>
            </dependency>
        </property>
    
        <property type="bool" name="ele-assist" displayName="网教通辅助" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-assist"/>
            </dependency>
        </property>
      
        <property type="bool" name="e101-reward" displayName="学习打赏" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-reward"/>
            </dependency>
        </property>
      
        <property type="bool" name="e101-invitation" displayName="邀请函" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-invitation"/>
            </dependency>
        </property>     
        <property type="bool" name="ele-res-distribute" displayName="资源分发" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-res-distribute"/>
            </dependency>
        </property>  
      
        <property type="bool" name="e101-new-resdist" displayName="资源分发V2" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-new-resdist"/>
            </dependency>
        </property>
      
        <property type="bool" name="el-resmall" displayName="资源超市" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="el-resmall"/>
            </dependency>
        </property> 
      
        <property type="bool" name="e101-new-resmall" displayName="资源超市V2" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-new-resmall"/>
            </dependency>
        </property> 
      
         <property type="bool" name="e101-promotion" displayName="推广分成" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-promotion"/>
            </dependency>
        </property>
      
        <property type="bool" name="app-market-biz" displayName="应用超市" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="app-market-biz"/>
            </dependency>
        </property>
      
        <property type="bool" name="ele-classmember" displayName="班级管理" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-classmember"/>
            </dependency>
        </property>  
      
        <property type="bool" name="local-data-managemen" displayName="本地数据管理" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="local-data-management"/>
            </dependency>
        </property> 
      
        <property type="bool" name="lecture-management2" displayName="讲师" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="lecture-management2"/>
            </dependency>
        </property>
      
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
 
  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="e101-player" display="教育-播放">
	<pages>
	</pages>
	
	<properties>
        <property type="bool" name="video" displayName="音视频播放器" value="true">
            <dependency>
                 <component namespace="com.nd.hy.android.video" name="video"/>
            </dependency>
        </property>
      
        <property type="bool" name="reader" displayName="文档阅读器" value="true">
            <dependency>
                 <component namespace="com.nd.hy.android" name="reader"/>
            </dependency>
        </property>
      
        <property type="bool" name="ele-fullscreen-video" displayName="旧版课程V5全屏播放器" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="ele-fullscreen-video"/>
            </dependency>
        </property>
      
        <property type="bool" name="cect-video-active" displayName="v5视频活动" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="cect-video-active"/>
            </dependency>
        </property>
      
        <property type="bool" name="cect-document-active" displayName="v5文档活动" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="cect-document-active"/>
            </dependency>
        </property>
      
      
        <property type="bool" name="vr360" displayName="Android VR 播放器" value="false">
            <dependency>
                 <component namespace="com.nd.sdp.component.el" name="vr360"/>
            </dependency>
        </property>
      
      
      
      
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="e101-teach" display="教育-教学">
	<pages>
	</pages>
	
	<properties>
      
        <property type="bool" name="train" displayName="培训认证" value="true">
        	<dependency>
           	 <component namespace="com.nd.elearning" name="train"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="elearning_courseV2" displayName="课程组件V2" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="elearning-course"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="elearning-businesscourse" displayName="课程组件V3" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="elearning-businesscourse"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="elearning_courseV5" displayName="课程组件V5" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="cect-course-v5"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="e-exercise-course" displayName="练习课" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="e-exercise-course"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="resources-activity" displayName="资源活动" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="ele-resources-activity"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="ele-fine" displayName="精品推荐_old" value="false">
        	<dependency>
           	 <component namespace="com.nd.sdp.component.fine" name="ele-fine"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="ele-specialty-course" displayName="培养计划" value="false">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="ele-specialty-course"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="recommend-course" displayName="推荐课" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="e-recommend-course"/>
       		</dependency>
     	</property>
      
               <property type="bool" name="e101-job-standard-exam" displayName="达标作业" value="false">
            <dependency>
                <component namespace="com.nd.sdp.component" name="e101-job-standard-exam"/>
            </dependency>
         </property>
      
      
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.social" name="mypagesdk" display="我页面sdk" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
    <android>
             <class>com.nd.android.pagesdk.MypageSdkComponent</class>
             <dependency>
              <![CDATA[
				    compile('com.nd.android.sdp.social:module_pagesdk:13.0.0@aar') {
                        transitive = true
                        changing = true
                    }
             ]]>
             </dependency>
         </android>
</component><component namespace="com.nd.sdp.component" name="demo-rn" display="RN公共控件">
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
    <runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      </properties>
    </runtime>
  
  	<sdk> 
      <js-sdk> 
        <name>rn-common</name>  
        <version>1.1</version>  
        <ios>  
          <js-class>RnCommonJsBridgeProvider</js-class>
        </ios>
        <android> 
          <js-class>com.nd.sdp.android.rncommon.RnCommonJsSdkProvider</js-class>
          <react-class>com.nd.sdp.android.rncommon.RnCommonProvider</react-class> 
        </android> 
      </js-sdk> 
    </sdk>
  
    <android>
      <class>com.nd.sdp.android.rncommon.demo.RNCommonComponent</class>
      <dependency>
        <![CDATA[
			compile 'com.nd.sdp.android:rn-common-native:2.1.0'
		]]>
      </dependency>
    </android>
    <ios>
      <class>RNCommonComponent</class>
      <dependency>
		<![CDATA[
			pod 'rn_common_native', '0.0.12'
            pod 'APFWebView', '0.0.3'
        ]]>
	  </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="el-load-lib" display="教育-加载管理库" type="library">
	<pages>
      <page name="test" display="测试" toplevel="1" type="cmp"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<android>
		<dependency>
			<![CDATA[
                // 状态库
			    compile 'com.nd.sdp.android:e-state-view:0.3.1-rc7'
                // 通用组件统一异常处理
                compile 'com.nd.sdp.android:ele_common_widget:0.3-rc8'
             ]]>
		</dependency>
	</android>
    <ios>
		<class> </class>
		<dependency>
			<![CDATA[
			pod 'elearn_loading_interaction', '1.0.17'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="ui-universal-popup" display="通用弹窗控件" type="library">
	  <pages>
    </pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<android>
        <class>com.nd.module_popup.CommonPopupComponent</class>
        <dependency>
            <![CDATA[
                compile('com.nd.sdp.component:ui-universal-popup:0.2.6.9@aar') {
        			exclude group: 'android.support', module: 'android-support-v4'
        			exclude group: 'com.android.support', module: 'support-v4'
        			transitive = true
        			changing = true
				}
       	]]>
        </dependency>
    </android>
  
      <ios>
        <class>BirthdayWishesComponent</class>
        <dependency>
            <![CDATA[
                pod 'MUIUniversalPopup', '0.0.6'
               ]]>
        </dependency>
    </ios>
  
</component><component namespace="com.nd.sdp.component" name="appfontcomponent" display="字体大小设置">
  <sdk>
      <js-sdk>
          <name>imAppSettingFontSize</name>  <!-- 必须 -->
          <version>1.0</version>  <!-- 必须 -->
          <android>
              <js-class>com.nd.appfont.component.im.js_module.GetCurFontInfosProvider</js-class> <!-- 可选 -->
          </android>
      </js-sdk>
      <android-plugin>
          <version>1.1</version>
      </android-plugin>
  </sdk>  
  
	<pages>
	</pages>
	<routes>
      <route source="cmp://com.nd.social.im/fontsize_setting" destination="cmp://com.nd.sdp.component.appfontcomponent/fontsize_setting"/>
    </routes>
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
    <runtime>
        <providers>
            <provider name="com.nd.sdp.component.appfontcomponent.ComponentLaunched" filter="com.nd.sdp.component.appfontcomponent.ComponentLaunched" desc=""/>
        </providers>
    </runtime>
  
 	<android>
      <class>com.nd.appfont.component.FontSizeComponent</class>
      <dependency>
            <![CDATA[
              compile('com.nd.sdp.android:im-app-font:1.2.17.develop') {     
    				exclude group: 'com.android.support'
    				transitive = true
    				changing = true
			  }
            ]]>
      </dependency>
    </android>
  
    <ios>
		<class>MUPAppFontComponent</class>
		<dependency>
            <![CDATA[
            pod 'MUPAppFontComponent', '0.0.11'
            pod 'MUPAppFontSDK', '0.0.7'
              ]]>
		</dependency>
	</ios>
  
</component><component namespace="com.nd.sdp.component" name="monet-glide" display="公共图片加载库">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
		</properties>
	</runtime>
  	<android>
		<dependency>
			<![CDATA[
			    compile 'com.nd.android.monet:load-wrapper:0.2.0-rc01'
				compile 'com.nd.android.monet:ext-glide:0.2.0-rc01'
             ]]>
		</dependency>
	</android>
</component><component namespace="com.nd.sdp" name="uc_component" display="用户登录">
  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
    <activity_screen_orientations displayName="要替换界面方向白名单,要有申明才能替换，不支持新增加">
            <activity_screen_orientation value="com.nd.sdp.nduc.base.container.NdUcContainerActivity"/>
    </activity_screen_orientations>
  </runtime>
    <pages>
        <page type="cmp" name="login" display="登录" toplevel="2" android_class="com.nd.sdp.uc.ui.UcLoginActivity" allow_guest="true">
            <properties>
                <property type="string" name="user_name" displayName="用户名" value="" oldProperty="user_name" deprecated=""/>
                <property type="string" name="password" displayName="密码" value="" oldProperty="password" deprecated=""/>
                <property type="bool" name="auto_login" desc_true="开启" desc_false="关闭" displayName="自动登录" value="false" oldProperty="auto_login" deprecated=""/>
                <property type="string" name="account_hint" displayName="登录名提示文字" value="" oldProperty="account_hint" i18n="true">
                    <tip>登录名提示文字</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/login_hint.jpg"/>
                </property>
                <property type="string" name="psw_hint" displayName="密码提示文字" value="" oldProperty="psw_hint" i18n="true">
                    <tip>密码提示文字</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/password_hint.jpg"/>
                </property>
                <property type="bool" name="open_forget_password" displayName="忘记密码" oldProperty="open_forget_password">
                    <tip>是否开启忘记密码功能</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/password2.jpg"/>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/password.jpg"/>
                </property>
                <property type="int" name="password_level" displayName="密码强度等级(数字越大，密码强度越高)" value="0">
                    <tip>0表示6位单字符，1表示8位双字符，2表示8位三字符</tip>
                </property>
                <property type="bool" name="open_register_account" displayName="注册功能" oldProperty="open_register_account">
                    <tip>是否开启注册账号功能</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/register2.jpg"/>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/register.jpg"/>
                </property>
                <property type="bool" name="open_register_account_by_email" displayName="邮箱相关功能" desc_true="开启" desc_false="关闭" value="false">
                    <tip>是否开启邮箱注册账号及找回密码功能</tip>
                </property>
                <property type="bool" name="open_need_complete_userinfo" displayName="完善用户信息" oldProperty="open_need_complete_userinfo" deprecated="">
                    <tip>是否开启完善用户信息入口</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/complete.jpg"/>
                </property>
                <property type="bool" name="open_sms_login" desc_true="开启" desc_false="关闭" displayName="是否开启短信登录" value=""/>
                <property type="bool" name="open_third_login" desc_true="开启" desc_false="关闭" displayName="是否开启第三方登录" value="" oldProperty="open_third_login"/>
                <property type="bool" name="open_third_login_text" desc_true="�������启" desc_false="关闭" displayName="是否开启第三方登录文字提示" value="" oldProperty="open_third_login_text"/>
                <property type="bool" name="open_third_bind" desc_true="开启" desc_false="关闭" displayName="是否开启第三方绑定（需要先开启第三方登录）" value="false"/>
                <property name="third_login_bind_mobile" desc_false="关闭" desc_true="开启" displayName="第三方登录绑定手机" type="bool"/>
                <property name="third_login_bind_mobile_can_ignore" desc_false="否" desc_true="是" displayName="第三方登录绑定手机允许跳过" type="bool"/>
                <property name="redirect_to_third_login" displayName="重定向到第三方登录" type="string">
                    <tip>重定向到第三方登录，填写的第三方平台名（区分大小写）正确且开启时，进行登录页会自动打开该第三方登录。
                        目前支持：qq weixin sinawb nd99
                        facebook twitter google UNT
                        LINE DROPBOX EBOOK
                    </tip>
                </property>
                <property type="page" name="on_reset_password_button_click" os="all" displayName="点击忘记密码按钮跳转" oldProperty="on_reset_password_button_click">
                    <tip>允许配置忘记密码页面，如果不配置则默认跳转组件内部的重置密码页面</tip>
                </property>
                <property type="page" name="on_account_register_button_click" os="all" displayName="点击注册账号按钮跳转" oldProperty="on_account_register_button_click">
                    <tip>允许配置注册账号页面，如果不配置则默认跳转到组件内部的注册账号面</tip>
                </property>
                <property type="bool" name="show_password_switch" desc_true="开启" desc_false="关闭" displayName="登录页显示明暗文切换按钮" value="false" oldProperty="show_password_switch"/>

                <property type="string" name="customer_service_phone" displayName="客服电话,为空则不显示" value="" oldProperty="customer_service_phone"/>
                <property type="page" name="login_success_page" os="all" displayName="登录成功后跳转页面" oldProperty="login_success_page"/>
                <property type="image" name="logo" displayName="引导图标" value="" senior="true" template="true" oldProperty="logo">
                    <tip>图标要求png格式，大小32*32</tip>
                    <img src="http://cdncs.101.com/v0.1/static/app_portal/component/uc/guide.jpg"/>
                </property>
                <property type="bool" name="uc_is_landscape" desc_true="开启" desc_false="关闭" displayName="横屏显示，默认为竖屏" value=""/>
                <property type="string" name="take_over_login_url_android" displayName="接管登录接口地址（Android）" value=""/>
                <property type="string" name="take_over_app_key_android" displayName="接管登录app_key（Android）" value=""/>
                <property type="string" name="take_over_app_secret_android" displayName="接管登录app_secret（Android）" value=""/>
                <property type="string" name="take_over_login_url_ios" displayName="接管登录接口地址（iOS）" value=""/>
                <property type="string" name="take_over_app_key_ios" displayName="接管登录app_key（iOS）" value=""/>
                <property type="string" name="take_over_app_secret_ios" displayName="接管登录app_secret（iOS）" value=""/>
                <property type="page" name="login_uri" os="all" displayName="接管登录页面">
                    <tip>允许配置登录页面，如果不配置则默认跳转到组件内部的登录页面</tip>
                </property>
                <property type="bool" name="open_guide_login" desc_true="开启" desc_false="关闭" displayName="是否开启引导登录" value="false"/>
                <property type="string" name="email_suffix_list" os="all" displayName="邮箱后缀列表" value="@qq.com,@163.com,@126.com,@sina.com,@139.com,@sohu.com,@263.net,@vip.sina.com,@vip.163.com,@21cn.com,@tom.com,@foxmail.com,@189.cn,@yeah.net,@outlook.com,@yahoo.com,@hotmail.com,@gmail.com,@gmx.com,@aol.com,@zoho.com,@lycos.com,@inbox.com,@hushmail.com">
                    <tip>
                        邮箱后缀列表，用于邮箱自动补齐。以","分隔
                    </tip>
                </property>
                <property type="page" name="register_success_page" os="all" displayName="注册成功后跳转页面">
                    <tip>
                        注册成功后跳转页面
                    </tip>
                </property>
                <property type="page" name="agreement_success_page" os="all" displayName="用户协议同意后跳转页面">
                    <tip>
                       用户协议同意后跳转页面
                    </tip>
                </property>
                <property type="bool" name="open_sms_login" desc_true="开启" desc_false="关闭" displayName="是否开启短信登录" value=""/>
                <property type="bool" name="open_change_user" desc_true="开启" desc_false="关闭" displayName="登录后有多个组织账号弹出组织选择界面（只在新认证有效）" value=""/>
                <property name="bind_mobile_prompt" desc_false="关闭" desc_true="开启" displayName="绑定手机提示" type="bool"/>
                <property name="bind_mobile_prompt_interval" displayName="绑定手机提示间隔（天） " type="int"/>
                <property type="bool" name="show_wechat_jayme_migration" desc_true="开启" desc_false="关闭" displayName="是否开启微信迁移" value="false" oldProperty="show_user_agreement">
                    <tip>只给JayMe使用，其他应用配置请勿开启</tip>
                </property>
                <property type="bool" name="open_user_filter" desc_true="开启" desc_false="关闭" displayName="是否开启用户筛选" value="false">
                    <tip>是否开启用户筛选</tip>
                </property>
            </properties>
        </page>
      <page type="cmp" name="logout" display="登出（无界面）" toplevel="0" allow_guest="true"/>
      <page type="cmp" name="register" display="注册界面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="third_login_success" display="第三方登录成功" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="setting" display="设置(andriod,只用于测试)" toplevel="1"/>  
      <page type="cmp" name="bind_mobile" display="绑定手机" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="setup_password" display="设置密码" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="user_agreement" display="用户协议" toplevel="2" allow_guest="true"/>
    </pages>
    <properties>
      <property type="string" name="org" displayName="组织名" value="nd" os="all"/>
      <property type="string" name="v_org" displayName="虚拟组织名" value=""/>
      <property type="bool" name="open_choose_identity" displayName="启用身份选择，默认不启用（启用后，如果用户节点不为空，会弹出身份选择界面）" value=""/>        
      <property type="int" name="choose_identity_org_name_level" displayName="身份选择-组织名称显示层级(数字越大，显示层级越少。0表示显示全部层级)" value="0"/>
      <property type="string" name="uc_app_group_id" displayName="给 UC 用的 App Group ID（唯一）" value="" iOS_URL_Types="2"/>
      <property type="bool" name="open_guest_mode" desc_true="开启" desc_false="关闭" displayName="启用游客模式，允许未登录直接进入主页面" value="false"/>
      <property type="string" name="org_node_id" displayName="组织节点ID" value="" os="all">
           <tip>用户注册到的父节点ID，必须是配置组织内的。包括手机注册、邮件注册和第三方登录</tip>
      </property>
      <property type="bool" name="use_orgname_in_vorg_login" desc_true="开启" desc_false="关闭" displayName="是否在虚拟组织登录时传入组织名" value="false"/>
      <property type="bool" name="use_sdp_token" desc_true="开启" desc_false="关闭" displayName="是否使用带sdp的签名算法" value="false"/>
      <property type="bool" name="use_default_search_sort" desc_true="开启" desc_false="关闭" displayName="是否使用默认搜索策略" value="false"/>
      <property type="bool" name="open_login_device_manage" desc_true="开启" desc_false="关闭" displayName="是否开启登录设备管理" value="">
      </property>
      <property type="bool" name="open_login_records" desc_true="开启" desc_false="关闭" displayName="登录记录" value="">
      </property>
      <category name="界面及流程(新版界面需配置基础属性-&gt;UC版本为1.1)">
            <property type="bool" name="old_uc" displayName="旧版界面" value="true">
                <tip>旧版界面，与新版界面只能选一个。只支持UC0.93</tip>
            	<dependency>
                	<component namespace="com.nd.sdp.component" name="adaptercomponent" display="用户登录适配组件"/>
            	</dependency>
        	</property>
        	<property type="bool" name="nduc" displayName="新版界面" value="false">
                 <tip>新版界面，与旧版界面只能选一个。只支持UC1.1</tip>
            	<dependency>
                	<component namespace="com.nd.sdp.component" name="nduccomponent" display="用户登录1.1组件"/>
            	</dependency>
        	</property>
        	<property type="bool" name="edauc" displayName="eda定制界面" value="false">
                 <tip>eda版界面，与旧版界面、新版界面只能选一个。支持UC1.1</tip>
            	<dependency>
                	<component namespace="com.nd.sdp.component" name="edaucccomponent" display="EDA定制用户登录组件"/>
            	</dependency>
        	</property>
      </category>
      <property type="bool" name="uc-avatar-edit" displayName="开启修改头像" value="true">
           <tip>UC修改头像控件</tip>
           <dependency>
               <component namespace="com.nd.sdp.component" name="uc-avatar-edit" display="UC修改头像控件"/>
           </dependency>
      </property>
  </properties>

    <events>
    </events>
    
    <handlers>
    </handlers>
	<sdk>
        <js-sdk>
            <name>uc-jssdk</name>
            <version>1.1</version>
            <ios>
            </ios>
            <android>
                <js-class>com.nd.sdp.uc.js.UcJsInjectorProvider</js-class>
            </android>
        </js-sdk>
    </sdk>
    <android>
        <network-security-config>
            <debug-overrides>
                <trust-anchors>
                    <certificates src="system"/>
                    <certificates src="user"/>
                </trust-anchors>
            </debug-overrides>
        </network-security-config>
        <class>com.nd.sdp.uc.UcComponent</class>
        <dependency>
          	<![CDATA[
			def ucComponentVersion = "0.8.8.7.uccom.release"
			def ndUcSdkVersion = "0.2.1.3.nducsdk.release"
			def ucSdkVersion = "1.3.1.9.ucsdk.release"

			implementation "com.nd.sdp:uc_component:${ucComponentVersion}"
			implementation "com.nd.sdp.uc:nducsdk_implenment:${ndUcSdkVersion}"
			implementation "com.nd.sdp.uc:nducsdk:${ndUcSdkVersion}"
			implementation "com.nd.sdp.uc:nduc_base:${ndUcSdkVersion}"
			
            implementation "com.nd.android.smartcan:smartcan-accountclient-aar:${ucSdkVersion}"
            implementation "com.nd.android.smartcan:virtualorgsdk:0.0.6.8.vorgsdk.release"
			
            implementation "com.nd.uc:auth2:1.0.0.2.ucauth2sdk.release"
            implementation "com.nd.uc:auth2_password_impl:1.0.0.2.ucauth2sdk.release"
            implementation "com.nd.uc:auth2_device_impl:1.0.0.2.ucauth2sdk.release"
			implementation "com.nd.uc:uc-sdk-adapter:0.0.0.7.ucsdkadapter.release"
			implementation "com.nd.sdp.android:ucx-sdk:0.0.0.9.ucxsdk.release"
            implementation "com.nd.uc:thirdlogin:1.0.1.8.release"
            implementation "com.nd.sdp.android.common.ui:uc-user-textview:0.0.1.2.release"
            configurations.all {
                  resolutionStrategy {
                      force "com.nd.sdp:uc_component:${ucComponentVersion}"
					  force "com.nd.sdp.uc:nducsdk_implenment:${ndUcSdkVersion}"
				      force "com.nd.sdp.uc:nducsdk:${ndUcSdkVersion}"
				      force "com.nd.sdp.uc:nduc_base:${ndUcSdkVersion}"
					  force "com.nd.android.smartcan:smartcan-accountclient-aar:${ucSdkVersion}"
					  force "com.nd.android.smartcan:virtualorgsdk:0.0.6.7.vorgsdk.release"
                      force "com.nd.uc:auth2:1.0.0.2.ucauth2sdk.release"
                      force "com.nd.uc:auth2_password_impl:1.0.0.2.ucauth2sdk.release"
                      force "com.nd.uc:auth2_device_impl:1.0.0.2.ucauth2sdk.release"
				      force "com.nd.sdp.android:ucx-sdk:0.0.0.9.ucxsdk.release"
                      force "com.nd.uc:thirdlogin:1.0.1.8.release"
                      force "com.nd.sdp.android.common.ui:uc-user-textview:0.0.1.2.release"
                  }
              }
            ]]>
        </dependency>      
        <groovy>
          <![CDATA[
				android {
                  dataBinding {
                      enabled true
                  }
			}
          ]]>
	    </groovy>
    </android>

    <ios>
        <class>UCComponent</class>

        <dependency>
            <![CDATA[
pod 'UCComponent', '0.2.299'
pod 'UCSDK','0.10.250'
pod 'VirtualOrgSDK','1.0.50'
pod 'UCExtend', '0.2.81'
pod 'UCThirdPartySDK','0.0.18'
pod 'UCAuth2SDK','0.0.12'
pod 'UCCoreSDK', '1.0.234'
             ]]>
        </dependency>

    </ios>
</component><component namespace="com.nd.xst" name="x-cicada-player" display="阿里视频SDK(x-cicada-player)" type="function_library">
	<pages>
      <page type="cmp" name="player" display="播放页" toplevel="1" allow_guest="true"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
    <ios>
        <class>XSTCicadaplayerComponent</class>
        <dependency>
            <![CDATA[
                pod 'xst_cicada_player_sdk', '0.0.1'
               ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="download-manager" display="IM公共下载库">
 	<sdk>
      <js-sdk>
          <name>downloader-jssdk</name>  <!-- 必须 -->
          <version>0.1</version>  <!-- 必须 -->
          <android>
              <js-class>com.nd.sdp.android.common.downloader.jswrapper.DownloaderJsInjectorProvider</js-class> <!-- 可选 -->
          </android>
      </js-sdk>
    </sdk>  
    <pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
    <android>
        <class/>
      
<scenes>
    <scene name="android.permission.INTERNET" displayName="网络权限" describe="文件下载" isAsk="false" closeable="false" type="permission"/>
    <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="网络状态变化权限" describe="下载中自动暂停" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="存储权限" describe="文件下载" isAsk="true" closeable="true" type="permission"/>  
    <scene name="android.permission.FOREGROUND_SERVICE" displayName="前台服务权限" describe="下载文件使用前台服务" isAsk="false" closeable="false" type="permission"/>  
</scenes>

        <dependency>
            <![CDATA[
              compile('com.nd.sdp.android:downloader-jswrapper:0.2.7')
              compile('com.nd.android.sdp.common:downloadmanager:1.8.235.release')
              compile('com.nd.android.file:file_provider:1.8.101.release')
       ]]>
        </dependency>
    </android>
</component><component namespace="com.nd.edu.component" name="el-router" display="教育-页面路由">
	<pages>
        <page type="cmp" name="test" display="页面路由-QA" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="router" display="路由容器页面" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="h5Address" display="H5页面" toplevel="1" allow_guest="true"/>
      
    
	</pages>
	
	<properties>
        <property type="bool" name="router_switch" displayName="路由中间页开关" value="false" senior="false">
           <tip>是否开启路由中间页，开启时需要确认是否使用到租户化相关组件；如使用学习社区组件时，必须开启。</tip>
        </property>
       <property type="bool" name="is_open_limit_flow" displayName="是否启用限流" value="false" senior="false">
           <tip>是否启用限流。</tip>
        </property>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <providers>
        	<provider name="com.nd.edu.component.el-router.delegate_provider" filter="com.nd.edu.component.el-router.delegate_provider.filter" desc="占位符替换" iosClass="ELERPlaceholderProvider" anClass="com.nd.edu.router.sdk.provider.RouterDelegateProvider"/>
    	</providers>
	</runtime>

  <android>
		<class>com.nd.edu.router.sdk.EleRouterComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.edu.router:el-router-sdk:0.0.12-rc04@aar') {
                    exclude module: 'active-android'
			        transitive = true
			        changing = true
			    }
                android {

	              packagingOptions {
	              exclude 'LICENSE.txt'
	            }
	}

             ]]>
		</dependency>
	</android>
  	<ios>
		<class>ELERouterComponent</class>
		<dependency>
			<![CDATA[
            pod 'el_router_ios', '0.0.28'
             ]]>
		</dependency>

	</ios>
</component><component namespace="com.nd.sdp.component" name="muicontentfilterpanellibrary" display="[AQI] 内容过滤控件" type="library">
		
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
		</properties>
	</runtime>
  <android>    
    <scenes>
   <scene name="_applicationId_.permission.SORTFILTER_RECEIVE_BROADCAST" displayName="自定义动态注册广播" describe="自定义动态注册广播" isAsk="false" closeable="true" type="permission"/>
   
      </scenes>
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android:nd-sort-filter-view:3.0.3-release.1'
            compile 'com.nd.sdp.android.common.ui:nd-button:1.3.3'
             ]]>
		</dependency>    
</android>
  
  <ios>
        
        <dependency>
            <![CDATA[
                pod 'MUIContentFilterPanel', '1.0.50'
               ]]>
        </dependency>
    </ios>
  
</component><component namespace="com.nd.sdp.component" name="imcommonjsbridge" display="IM桥接JS库">
	<sdk>
    	<js-sdk>
        	<name>IMJsBridgeSdk</name>
          	<version>1.0</version>
          	<ios>
            	<js-class>IMJsBridgeSdkModuleProvider</js-class>
          	</ios>
          	<android>
              <js-class>com.nd.sdp.android.jssdk.common.ImJssdkJsInjectorProvider</js-class>
              <react-class>com.nd.sdp.android.jssdk.common.ImJssdkReactInjectorProvider</react-class>
          	</android>
        </js-sdk>
  	</sdk>
  	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
    <android>
    	<class/>
		<dependency>
			<![CDATA[
			  compile('com.nd.sdp.android:im-jssdk:1.1.3.develop')
			]]>
		</dependency>    
 	</android>
  
    <ios>
      <class>IMJSBridgeComponent</class>
        <dependency>
          <![CDATA[
             		pod 'IMJSBridge', '1.0.0'
          ]]>
        </dependency>
      <privacies>
      </privacies>
    </ios>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="el-rescard" display="教育-学习内容卡片">
	<pages>
             <page type="cmp" name="test" display="测试" toplevel="1"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

  <handlers>      
  	<handler name="not-ios://doLogInOutStuff" desc="接收事件" receive_event="uc_on_login_success,uc_on_logout,event_app_language_changed,event_start_ele_appkey,event_ele_reinit_card_data"/>
    <handler name="ios://doLogInOutStuff" desc="接收事件" receive_event="uc_on_login_success,uc_on_logout,event_app_language_changed,event_start_ele_appkey,event_ele_reinit_card_data"/> 
  </handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<android>
		<class>com.nd.hy.android.refactor.elearning.carlibrary.ElCardComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.android:el-rescard-android:13.1.8-rc.3@aar') {
			        transitive = true
			        changing = true
			    }

             ]]>
		</dependency>
	</android>
  	<ios>
    	<class>el_rescard_ios_Component</class>
			<dependency>
				<![CDATA[
	            pod 'el_rescard_ios', '1.0.41'
    	         ]]>
			</dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="nd-calender2" display="[AQI] 日历控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  <android>    
    <scenes>
   <scene name="_applicationId_.permission.CALENDAR_RECEIVE_BROADCAST" displayName="自定义动态注册广播" describe="自定义动态注册广播" isAsk="false" closeable="true" type="permission"/>
   
      </scenes>
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android.common.ui:nd-calendar2:3.0.4-release.1'
             ]]>
		</dependency>    
</android>
   <ios>       
        <dependency>
             <![CDATA[
                pod 'MUICalendar','0.0.6'
				pod 'MUIV2Calendar', '1.0.13'
             ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="configure" display="产品配置">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
          	<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
		</properties>
	</runtime>
    <android>    
      <class>com.nd.sdp.android.centralsdk.ConfigCentralComponent</class>
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android.centralsdk:configuration-central-sdk:3.0.0.13.release'
             ]]>
		</dependency>    
    </android>
    <ios>
		<class>CCCConfigurationCentralComponent</class>
		<dependency>
            <![CDATA[
             pod 'ConfigurationCentralComponent', '1.0.2'
             pod 'ConfigurationCentralSDK', '1.0.2'
             ]]>
		</dependency>
	</ios>
    
</component><component namespace="com.nd.sdp.component" name="uc-avatar-edit" display="UC修改头像控件" type="function_library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="changeAvatar" desc="修改头像" receive_event="changeAvatar"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
    <android>
        <class>com.nd.sdp.uc.avataredit.UcAvatarEditComponent</class>
        <dependency>
            <![CDATA[            	
                compile('com.nd.sdp.uc:avataredit:2.1.1.6.release')
            ]]>
        </dependency>
        <scenes>
           <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取存储卡中的内容" describe="上传和编辑头像需要读写存储卡" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="修改或删除存储卡中的内容" describe="上传和编辑头像需要读写存储卡" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.CAMERA" displayName="拍摄照片和录制视频" describe="头像拍照功能" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.INTERNET" displayName="网络权限" describe="网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_WIFI_STATE" displayName="WIFI状态" describe="网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="网络状态" describe="网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
        </scenes>
    </android>
  	<ios>
        <scenes>
          <!-- UsageDescription 的 scene 必须加上 describe 属性 -->
          <scene name="NSPhotoLibraryAddUsageDescription" describe="请允许APP保存图片到相册"/>
          <scene name="NSPhotoLibraryUsageDescription" describe="请允许APP访问您的相册"/>
          <scene name="NSCameraUsageDescription" describe="请允许APP访问您的相机"/>
      	</scenes>
        <class>MUIAvatarEditor</class>
        <dependency>
            <![CDATA[
				pod 'MUIAvatarEditor', '1.0.2'
             ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="tag-sdk" display="标签sdk">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
 
      <android>
        
        <dependency>
            <![CDATA[
              compile('com.nd.sdp.component:tag_sdk:0.1.21.release@aar') {
                  transitive = true
                  changing = true
              }               
            ]]>
        </dependency>
     </android>    
  
   <ios>
        <class>TagsManager</class>

        <dependency>
            <![CDATA[
				pod 'tag_ios_sdk', '1.0.8'
             ]]>
        </dependency>

    </ios>
</component><component namespace="com.nd.sdp.component" name="ndtimepicker2" display="[AQI]时间选择控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
<android>    
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android.common:nd-timepicker2:3.1.4-release.1'
            compile 'com.nd.sdp.android:time-picker-jssdk:0.0.4'
             ]]>
		</dependency>    
</android>
  <ios>       
        <dependency>
             <![CDATA[
                pod 'MUIV2TimePicker','0.0.22'
				pod 'MUIV2TimePickerComponent','0.0.3'
             ]]>
        </dependency>
    </ios>
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  	<sdk>
    <js-sdk>
        <name>time-picker-jssdk</name>  
        <version>1.0</version>  
        <ios>
            <js-class>MUIV2TimePickerJsBridgeProvider</js-class>  
        </ios>
        <android>
            <js-class>com.nd.sdp.android.timepickerjssdk.TimePickerJsSdkProvider</js-class>
        </android>
    </js-sdk>
  </sdk>
</component><component namespace="com.nd.sdp.component" name="edu-studycontent" display="教育-学习内容库">
	<pages>
       <page type="cmp" name="test" display="测试" toplevel="1"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
       <handler name="not-ios://doStuff" desc="直播创建成功" receive_event="broadcast_apply_success"/>
       <handler name="ios://handleBroadcastApply" desc="直播创建成功" receive_event="broadcast_apply_success"/>
	</handlers>


	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  <android>
		<class>com.nd.hy.android.content.lib.player.ContentLibPlayerComponent</class>
		<dependency>
             <![CDATA[
			    compile('com.nd.sdp.android:edu-contentlib-android:13.1.2-rc.2@aar') {
                    exclude module: 'active-android'
			        transitive = true
			        changing = true
			    }
                android {
	              packagingOptions {
	              exclude 'LICENSE.txt'
	            }
	}

             ]]>
		</dependency>
	</android>
   <ios>
    	<class>edu_contentlib_component</class>
			<dependency>
				<![CDATA[
	            pod 'edu_contentlib_ios', '1.0.13'
    	         ]]>
			</dependency>
    </ios>
</component><component namespace="com.nd.sdp.app.factory.build" name="apf-ci" display="脚本工具">
	<pages>
	</pages>
	
	<properties>
      <!--只有variables_ 开头的属性才会 移除 variables_ 头部后 保存到target/variables.json，正常不配置，使用默认的全局配置-->
      <property type="string" name="config_tip" displayName="请勿随意修改配置，仅作为开发调试"/>
      <property type="bool" name="variables_is_apf_ci_debug" desc_true="是" desc_false="否" displayName="是否开启调试"/>
       <property type="bool" name="variables_react_builder_close_cache" desc_true="是" desc_false="否" displayName="关闭react缓存构建"/>
       <property type="bool" name="variables_react_widget_builder_close_cache" desc_true="是" desc_false="否" displayName="关闭react颗粒缓存构建"/>
	   <property type="bool" name="variables_android_plugin_build_close_cache" desc_true="是" desc_false="否" displayName="关闭android插件缓存构建"/>	
       <property type="bool" name="variables_local_h5_close_cache" desc_true="是" desc_false="否" displayName="关闭离线H5插件缓存构建"/>
  </properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
	<build>
		<properties>
          	 <group name="apf-ci" displayName="apf-ci脚本库" max-repeat="1">
          		<property type="string" name="lib_version" displayName="apf-ci版本" value="1.2.201"/>
          				
              <property type="string" name="android_AppBuildInit" displayName="Android AppBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} app-init ${factoryId} ${envtarget} android ${versionId} ${resourceCacheSwitch} -e 2"/>         
              <property type="string" name="ios_AppBuildInit" displayName="iOS AppBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} app-init ${factoryId} ${envtarget} ios ${versionId} ${resourceCacheSwitch} -e 2"/>
          	  <property type="string" name="all_DynamicTabBuilder" displayName="all DynamicTabBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} dynamic-tab ${factoryId} ${appName} ${packageName} ${appType} ${appVersionId} ${tabVersionId} ${versionCode} ${versionName} ${versionDesc} ${envtarget} -e 8 -l false"/>
			  <property type="string" name="all_AppCompare" displayName="all AppCompare" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} app-compare ${appCompareId} ${appType} ${packageOld} ${packageNew} -e 8 -l false"/>
			<property type="string" name="all_AppFactoryFlutterBuilder" displayName="all AppFactoryFlutterBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} app-factory-flutter"/>
          </group> 	
      			
      			<group name="apf-ci-android" displayName="apf-ci-android" max-repeat="1">
          		<property type="string" name="lib_version" displayName="apf-ci-android版本" value="0.0.158"/>
          		
          		<property type="string" name="android_AndroidBuildInit" displayName="Android AndroidBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-init"/>
              <property type="string" name="android_AndroidBuildBefore" displayName="Android AndroidBuildBefore" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-before"/>
			  <property type="string" name="android_AndroidBuilder" displayName="Android AndroidBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build"/>
              <property type="string" name="android_AndroidBuildAfter" displayName="Android AndroidBuildAfter" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-after"/>
              <property type="string" name="guard_application_git" displayName="壳工程git地址" value="git@git.sdp.nd:android-security/DexGuardApplication.git"/>
              <property type="string" name="guard_application_tag" displayName="壳工程tag" value="v1.4.0"/>
          	</group>
          	<group name="apf-ci-ios" displayName="apf-ci-ios" max-repeat="1">
          		<property type="string" name="lib_version" displayName="apf-ci-ios版本" value="0.0.81"/>

                <property type="string" name="ios_IosSetup" displayName="iOS 构建环境设置" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} setup"/>
          		<property type="string" name="ios_IosBuildInit" displayName="iOS IosBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-init"/>
              	<property type="string" name="ios_IosBuildBefore" displayName="iOS IosBuildBefore" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-before"/>
                <property type="string" name="ios_IosBuilder" displayName="iOS IosBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build"/>	
                <property type="string" name="ios_IosBuildAfter" displayName="iOS IosBuildAfter" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-after"/>
          	</group>
          	<group name="apf-ci-light" displayName="apf-ci轻应用" max-repeat="1">
          		<property type="string" name="lib_version" displayName="apf-ci轻应用版本" value="0.0.55"/>
          		
          		<property type="string" name="all_LightBuildInit" displayName="all LightBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-init ${factoryId} ${envtarget} ${appType} ${appName} ${componentType} ${appVersionId} ${packageName} ${versionCode} ${buildVersion} ${liteAppUpdateTime} -e 8 -l false"/>
							<property type="string" name="all_LocalH5Builder" displayName="Android LocalH5Builder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} local-h5 -l false"/>
          		<property type="string" name="all_H5WidgetBuilder" displayName="Android H5WidgetBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} h5-widget -l false"/>
							<property type="string" name="all_ReactWidgetResourceBuilder" displayName="Android ReactWidgetResourceBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} react-widget-resource"/>		
         			<property type="string" name="all_H5WidgetResourceBuilder" displayName="Android H5WidgetResourceBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} h5-widget-resource"/>
         			
          		<property type="string" name="android_ReactBuilder" displayName="Android ReactBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} rn ${factoryId} ${envtarget} android -l false"/>
          		<property type="string" name="android_ReactWidgetBuilder" displayName="Android ReactWidgetBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} rn-widget ${factoryId} ${envtarget} android  -l false"/>           
              
        		  <property type="string" name="ios_ReactBuilder" displayName="iOS ReactBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} rn ${factoryId} ${envtarget} ios -l false"/>
          		<property type="string" name="ios_ReactWidgetBuilder" displayName="iOS ReactWidgetBuilder" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} rn-widget ${factoryId} ${envtarget} ios -l false"/>
          	</group> 	
          	<group name="apf-ci-subapp" displayName="apf-ci子应用" max-repeat="1">
          		<property type="string" name="lib_version" displayName="apf-ci子应用版本" value="0.0.5"/>
          		
          		<property type="string" name="android_SubAppBuildInit" displayName="Android SubAppBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-init ${factoryId} ${envtarget} android ${appName} ${appVersionId} ${callbackQueue} ${versionId} -e 8 -l false"/>
    			    <property type="string" name="ios_SubAppBuildInit" displayName="iOS SubAppBuildInit" value="${PYTHON_LIB_DIR}/${LIB_NAME}/${LIB_VERSION}/bin/${LIB_NAME} build-init ${factoryId} ${envtarget} ios ${appName} ${appVersionId} ${callbackQueue} ${versionId} -e 8 -l false"/>         

          	</group>          		         		           		  
      </properties>
	</build>
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
         		         		           		  
      </properties>
	</runtime>
  <templates>
    <android>
      <git>
        <source>git@git.sdp.nd:component-android/android-template-project.git</source>
        <commit-id>b8ddbe54</commit-id>
      </git>
    </android>
    <ios>
      <git>
        <source>git@git.sdp.nd:app-factory/template/componentappbase.git</source>
        <commit-id>34d1d3f</commit-id>
      </git>
    </ios>
    <h5-widget>
      <git>
        <source>git@git.sdp.nd:h5/build-template.git</source>
        <commit-id>a96b2e89</commit-id>
      </git>
    </h5-widget>
    <react-widget>
      <git>
        <source>git@git.sdp.nd:app-factory/react-native-main-template.git</source>
        <commit-id>v1.0.19</commit-id>
      </git>
      <build-tool>@sdp.nd/react-native-widget-builder@0.0.45</build-tool>
    </react-widget>
    <react>
      <git>
        <source>git@git.sdp.nd:app-factory/react-native-main-module.git</source>
        <commit-id>v0.0.10</commit-id>
      </git>
      <build-tool>@sdp.nd/react-native-component-builder@0.0.13</build-tool>
    </react>
    <flutter>
      <git>
        <source>git@git.sdp.nd:app-factory/template/flutter-module-template-project.git</source>
        <commit-id>576ec72</commit-id>
      </git>
    </flutter>
  </templates>
</component><component namespace="com.nd.sdp.common" name="flow-control" display="页面限流">
	<pages>
        <page type="cmp" name="tip" display="限流提示页面" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="tip1" display="限流提示页面（iOS getPage时专用）" toplevel="1" allow_guest="true"/>
	</pages>
	
	<properties>
      <property type="bool" name="close_flow_limit" displayName="是否关闭限流功能" value="false"/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="onPushReceiveLimitProduct" desc="接收产品限流组件列表推送信息" receive_event="com.nd.sdp.common.flow-control/limitProduct"/>
      <handler name="onPushReceiveLimitComponent" desc="接收限流组件列表推送信息" receive_event="com.nd.sdp.common.flow-control/limitComponent"/>
      <handler name="onPushReceiveComponentEntrance" desc="接收限流组件颗粒列表推送信息" receive_event="com.nd.sdp.common.flow-control/componentEntrance"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
          	<property displayName="限流页面路由代理（Android）" name="page_routing_agent_provider_a_class" type="string" value="com.nd.sdp.common.flowcontrol.FlowControlDynamicRoutePage"/>
          	<property displayName="限流页面路由代理（iOS）" name="page_routing_agent_provider_i_class" type="string" value="FCIDynamicRoutePageAgent"/>
		</properties>
	</runtime>
  
    <android>
		<class>com.nd.sdp.common.flowcontrol.FlowControlComponent</class>
		<dependency>
			<![CDATA[
			    implementation 'com.nd.sdp.common:flow-control:1.1.3-rc01'
             ]]>
		</dependency>
	</android>
 	
  	<ios>
      <class>FCIFlowControlComponent</class>
		<dependency>
			<![CDATA[
            pod 'flow_control_ios', '0.0.10'
             ]]>
		</dependency>
      
	</ios>
</component><component name="nduccomponent" display="用户登录1.1组件" namespace="com.nd.sdp.component" type="function_library">

    <runtime>
        <properties>
            <property name="lazy_init_android" displayName="是否开启Android延迟初始化" type="bool" value="true"/>
            <property name="lazy_init_ios" displayName="是否开启iOS延迟初始化" type="bool" value="true"/>
        </properties>
        <providers>
            <provider name="com.nd.sdp.component.uc" anClass="com.nd.sdp.uc.nduc.NdUcDataProvider" desc="组件id的provider" filter="com.nd.sdp.uc.provider.filter.SUBCOMPONENT" iosClass="NDUCComponentIdProvider"/>
        </providers>
        <activity_screen_orientations displayName="要替换界面方向白名单,要有申明才能替换，不支持新增加">
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.agreement.NdUcAgreementPageActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.container.NdUcContainerActivity"/>
           <activity_screen_orientation value="com.nd.sdp.uc.agreement.NdUcAgreementActivity"/>
          <activity_screen_orientation value="com.nd.sdp.uc.agreement.NdUcProtocolActivity"/>

            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.activity.NdUcListActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.login.NdUcThirdLoginActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.check.NdUcBindMobileActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.check.NdUcBindPersonAccountActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.check.NdUcCheckActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.verificationcode.NdUcIdentifyCodeActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.login.NdUcLoginActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.register.NdUcRegisterActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.resetpassword.NdUcResetPasswordActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.check.NdUcModifyWeakPasswordActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.check.NdUcModifyOriginPasswordActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.activity.NdUcChooseOrgActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.view.agreement.NdUcAgreementDialogActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.ui.activity.UcChooseRegionCodeActivity"/>
            <activity_screen_orientation value="com.nd.sdp.uc.nduc.ui.activity.UcSettingActivity"/>
        </activity_screen_orientations>
    </runtime>

    <!-- 基础属性 -->
    <properties>
        <property name="business_type" displayName="业务类型" type="enum" value="0">
            <options multi="false">
                <option value="0">toB</option>
                <option value="1">toC</option>
            </options>
        </property>
		<property name="cloud_config_version" displayName="云端配置版本号" type="string" value="1.0.0" editorable="false">
        </property>
        <category name="功能">
            <property name="register" desc_false="关闭" desc_true="开启" displayName="注册功能" type="bool" value="false">
                <tip>开启，可以使用忘记密码功能；关闭，不可以使用；默认关闭。</tip>
            </property>
          	<property name="register_mode" displayName="注册模式" type="enum" value="">
                <options multi="true">
                        <option value="entrance">注册入口</option>
                        <option value="implicit">登录即注册</option>
              	</options>
            </property>
            <property name="forget_password" desc_false="关闭" desc_true="开启" displayName="忘记���码功能(将废弃)" type="bool" value="false">
                <tip>开启，可以使用忘记密码功能；关闭，不可以使用；默认关闭。(即将废弃,该功能配置移至:1.1组件-&gt;忘记密码，可配置找回密码支持方式)</tip>
            </property>
            <property name="show_customs_tips" desc_false="关闭" desc_true="开启" displayName="登录、注册页开启客服提示语" type="bool" value="false">
                <tip>开启，登录、注册页显示客服提示语；关闭，不可以使用；默认关闭。</tip>
            </property>
            <property name="email" desc_false="关闭" desc_true="开启" displayName="邮箱功能" type="bool" value="false">
                <tip>开启，可以使用邮箱注册、找回密码等；关闭，无法使用邮箱注册，找回密码。默认关闭。使用邮箱注册和忘记密码功能的前提是开启了对应功能。</tip>
            </property>
          	<property name="username" desc_false="关闭" desc_true="开启" displayName="未成年人功能" type="bool" value="false">
                <tip>开启，可以使用未成年人注册、找回密码等；关闭，无法使用未成年人注册，找回密码。默认关闭。使用未成年人注册和忘记密码功能的前提是开启了对应功能。</tip>
            </property>
          	<property name="reg_mode" desc_false="关闭" desc_true="开启" displayName="注册方式" type="enum" value="mobile">
                <options multi="true">
                        <option value="mobile">手机号注册</option>
                        <option value="email">邮箱注册</option>
                  		<option value="username">学生号注册</option>
              	</options>
            </property>
            <property name="mobile_region" desc_false="关闭" desc_true="开启" displayName="区号选择功能" type="bool" value="true">
                <tip>开启，可以使用其他地区的手机；关闭，只能使用大陆地区的手机。默认开启。</tip>
            </property>
          	<property type="bool" name="sms_login_fast" displayName="快速登录功能" desc_false="关闭" desc_true="开启" value="false">
              	<tip>允许配置快速登录页面</tip>
            </property>
            <property type="bool" name="auto_login" displayName="自动登录功能" desc_false="关闭" desc_true="开启" value="true">
              	<tip>开启，自动登录；关闭，每次关闭App，都需要再次登录。默认开启。</tip>
            </property>
          <property name="pwd_strength" desc_false="关闭" desc_true="开启" displayName="密码强度" type="enum" value="1">
                <options multi="false">
                        <option value="1">中</option>
                        <option value="2">高</option>
              	</options>
              	<tip>中：密码长度8-16位，字符类型必须包含数字、大写字母、小写字母、符号中任意两种，不能含有空格。密码不应被登录凭证包含。
                  高：密码长度8-16位，字符类型必须包含数字、大写字母、小写字母、符号中任意三种，不能含有空格，不能含有连续或重复的三个及三个以上的数字或字母。密码不能是登录名的一部分。</tip>
            </property>
          	<property name="double_check" desc_false="关闭" desc_true="开启" displayName="双因素认证（仅支持工号登录）" type="bool" value="false">
                <tip>开启，密码登录时需要双因素认证；关闭，关闭双因素认证。默认关闭。</tip>
            </property>
          	<property name="db_bind_mobile_uri" displayName="安全中心跳转地址" type="string" value=""/>
        </category>
        <category name="游客模式">
          	<property type="bool" name="open_guest_mode" desc_true="开启" desc_false="关闭" displayName="游客模式" value="false">
              	<tip>开启，允许未登录直接进入主页面。</tip>
            </property>
            <property type="bool" name="open_token_guest_mode" desc_true="开启" desc_false="关闭" displayName="带token的游客模式" value="false"/>
            <property type="bool" name="skip_login_page_in_guest_mode" desc_true="开启" desc_false="关闭" displayName="跳过登录页" value="true"/>
            <property name="guest_mode_login_success_page" displayName="二次登录成功后跳转页面" type="page" os="all"/>
          	<property name="captcha_type_key" displayName="人机验证类型" type="enum" value="0">
                <options multi="false">
                        <option value="0">图形验证码</option>
                        <option value="1">腾讯验证码</option>
              	</options>
              	<tip>人机验证类型。</tip>
            </property>
          	<property name="third_captcha_appid" displayName="第三方验证码APP-ID" type="string" value=""/>
        </category>
		<category name="接口降级策略">
            <property name="degrade_strategy_count" displayName="触发降级错误次数" type="string" value="10">
                <tip>
                    获取userinfo/orginfo/nodeinfo出现超时或5xx错误达到该配置的错误数，则对接口进行降级。
                </tip>
            </property>
          	<property name="degrade_strategy_duration" displayName="降级时长（秒）" type="string" value="300">
                <tip>
                    降级时长，单位为秒，默认300秒。
                </tip>
            </property>
        </category>
        <category name="其他">
            <property name="virtual_org_code" displayName="虚拟组织编码" type="string" value="">
                <tip>
                    虚拟组织编码。兼容0.93的虚拟组织。如果App对应的机构是由虚拟组织转换而来，需要配置该属性，用于保证其他组件能正常使用。
                </tip>
            </property>
            <property type="bool" name="skip_login" desc_true="开启" desc_false="关闭" displayName="免登录（慎开）" value="false">
              	<tip>开启，免登录直接进入主页面。要开启此开关，请先咨询1.1小助手。</tip>
            </property>
          	<property name="default_mobile_region_code" displayName="默认手机归属地号码" type="string" value="">
                <tip>
                    如中国：+86。默认使用手机语言所在归属地。
                </tip>
            </property>
          	<property name="default_avatar_url" displayName="默认头像地址" type="string" value=""/>
        </category>

    </properties>

    <pages>
        <!-- 登录相关属性 -->
        <page name="login" allow_guest="true" display="登录" toplevel="2" type="cmp">
            <properties>
                <property name="login_mode" displayName="登录方式" type="enum" value="sms_login||mobile_login||email_login||org_login">
                    <options multi="true">
                        <option value="sms_login">短信登录</option>
                        <option value="mobile_or_email_login">手机号邮箱登录(已废弃)</option>
                        <option value="org_login">工号登录</option>
                        <option value="account_101_login">网教通号登录</option>
                        <option value="mobile_login">手机号登录</option>
                        <option value="email_login">邮箱登录</option>
                        <option value="email_verify_login">邮箱验证登录</option>
                      	<option value="mixed_login">密码登录</option>
                      	<option value="mobile_login_fusion">手机一键登录</option>
                    </options>
                    <tip>默认排序为：短信登录、手机号登录、邮箱登录、工号登录。可通过勾选先后顺序，自定义排序。</tip>
                </property>
              	<property name="show_area" displayName="组织归属地显示类型" type="enum" value="country||area">
                    <options multi="true">
                        <option value="country">国家</option>
                        <option value="area">行政区域</option>
                    </options>
                </property>

                <property name="email_suffix_list" displayName="邮箱后缀列表" os="all" type="string" value="@qq.com,@163.com,@126.com,@sina.com,@139.com,@sohu.com,@263.net,@vip.sina.com,@vip.163.com,@21cn.com,@tom.com,@foxmail.com,@189.cn,@yeah.net,@outlook.com,@yahoo.com,@hotmail.com,@gmail.com,@gmx.com,@aol.com,@zoho.com,@lycos.com,@inbox.com,@hushmail.com">
                    <tip>
                        邮箱后缀列表，用于邮箱自动补齐。以","分隔
                    </tip>
                </property>

                <property name="login_success_page" displayName="登录成功后跳转页面" os="all" type="page"/>

                <property name="only_org_code" displayName="工号登录唯一组织" type="string" value="">
                    <tip>
                        组织编码。如果配置，工号登录页面只能使用该组织下的工号登录；未配置，则跳转组织树选择组织。
                    </tip>
                </property>
              
              	<property name="agreement_success_page" displayName="用户协议同意后跳转页面" type="page" os="all">
                    <tip>
                        用户协议同意后跳转页面
                    </tip>
                </property>
              	<property name="agreement_refuse_page" displayName="用户协议不同意后跳转页面" type="page" os="all">
                	<tip>
                  		用户协议不同意后跳转页面
                  	</tip>
                </property>
              	<property name="gopage_to_show_detail" desc_false="关闭" desc_true="开启" displayName="通过gopage显示协议详情" type="bool" value="false"/>
				<property type="page" name="login_uri" os="all" displayName="接管登录页面">
                    <tip>允许配置自定义登录页面，如果不配置则默认跳转到组件内部的登录页面</tip>
                </property>
              	<property type="string" name="report_uri" value="" displayName="申诉跳转页面URL">
                    <tip>格式：http[s]://{host}/{path}?account_id={account_id}</tip>
                </property>
              
                <category name="登录后检测">
                    <property name="person_account_bind" displayName="101账户强制绑定" type="enum" value="mobile">
                        <options multi="true">
                            <option value="mobile">手机</option>
                            <option value="email">邮箱</option>
                        </options>
                    </property>
                    <property name="org_bind_person_account" desc_false="关闭" desc_true="开启" displayName="组织账户强制绑定101账户" type="bool" value="false"/>
                    <property name="bind_person_account_mode" displayName="允许绑定101账户的方式" type="enum" value="mobile">
                        <options multi="true">
                            <option value="mobile">手机</option>
                            <option value="email">邮箱</option>
                        </options>
                    </property>
                    <property name="third_automatically_generate_person_account" desc_false="关闭" desc_true="开启" displayName="第三方账户自动生成101账户" type="bool" value="false"/>
                    <property name="bind_org_account_mode" displayName="允许绑定组织账户的方式" type="enum" value="org_user_code">
                        <options multi="true">
                            <option value="org_user_code">工号</option>
                            <option value="account_101">网教通号</option>
                        </options>
                    </property>
                    <property name="switch_org_account_mode" displayName="切换组织账户方式" type="enum" value="1">
                        <options multi="false">
                            <option value="0">手动切换</option>
                            <option value="1">自动切换</option>
                        </options>
                    </property>
                  	<property name="auto_switch_org_account_tip" desc_false="关闭" desc_true="开启" displayName="自���切换组织账户提示" type="bool" value="true"/>
              		<property name="force_org_account_before_login" desc_false="关闭" desc_true="开启" displayName="进入产品前强制绑定/加入组织" type="bool" value="true"/>
                    <property name="adding_org_account_mode" displayName="允许添加组织账户的方式" type="enum" value="with_org_account||without_org_account">
                        <options multi="true">
                            <option value="with_org_account">已有组织账号</option>
                            <option value="without_org_account">没有组织账号</option>
                        </options>
                    </property>
                  	<property name="minor_account_mandatory_binding_guardianship" desc_false="关闭" desc_true="开启" displayName="未成年账户强制绑定监护关系" type="bool" value="false"/>
              		<property name="allowed_join_node" desc_false="关闭" desc_true="开启" displayName="允许加入组织节点" type="bool" value="false"/>
              		<property name="real_name_auth" desc_false="关闭" desc_true="开启" displayName="实名认证" type="bool" value="true"/>
                    <property name="allowed_skip_change_psw_on_time" desc_false="关闭" desc_true="开启" displayName="允许跳过定期改密" type="bool" value="true"/>
                    <property name="allowed_skip_check_password" desc_false="关闭" desc_true="开启" displayName="允许跳过弱密码检测" type="bool" value="false"/>
                    <property name="allowed_skip_days" type="int" displayName="允许跳过弱密码提示天数" value="7">  
		   				<tip>请填写天数，范围为2-30天</tip>
        			</property>
                  	<property name="allowed_skip_bind_mobile_and_email" desc_false="关闭" desc_true="开启" displayName="允许跳过绑定邮箱/手机" type="bool" value="false"/>
                    <property name="allowed_skip_bind_personal_account" desc_false="关闭" desc_true="开启" displayName="允许跳过绑定101账户" type="bool" value="false"/>
                    <property name="allowed_skip_update_original_password" desc_false="关闭" desc_true="开启" displayName="允许跳过修改初始密码" type="bool" value="false"/>
              		<property type="page" name="custom_join_org_cmp" os="all" displayName="自定义加入组织页面">
                        <tip>允许配置自定义加入组织页面，如果不配置则默认跳转到组件内部的加入组织页面</tip>
                    </property>
                  	<property name="open_invitation" desc_false="关闭" desc_true="开启" displayName="开启邀请函" type="bool" value="true"/>
              </category>
            </properties>
        </page>

        <!-- 安全中心相关属性 -->
        <page name="account_security" allow_guest="false" display="安全中心" type="cmp">
            <properties>
                <property name="third_bind" desc_false="关闭" desc_true="开启" displayName="允许第三方绑定" type="bool" value="false"/>

                <property name="login_records" desc_false="关闭" desc_true="开启" displayName="登录记录" type="bool" value="false"/>

                <property name="login_devices" desc_false="关闭" desc_true="开启" displayName="登录设备" type="bool" value="false"/>
            </properties>
        </page>

        <!-- 忘记密码相关属性 -->
        <page name="forget_password" allow_guest="true" display="忘记密码" type="cmp">
            <properties>
                <property name="hotline" displayName="人工申诉电话号码" type="string" value="">
                    <tip>配置人工申诉电话号码，开启人工申诉功能</tip>
                </property>
                <property name="find_org_account_password_mode" displayName="允许找回组织账户密码的方式" type="enum" value="org_user_code">
              	    <options multi="true">
                	    <option value="org_user_code">工号</option>
                	    <option value="account_101">网教通号</option>
              	    </options>
                </property>
               	<property name="find_password_account_type" displayName="允许找回密码的账户类型" type="enum" value="personal||org">
              	    <options multi="true">
                	    <option value="personal">101账户</option>
                	    <option value="org">组织账户</option>
              	    </options>
                </property>
            </properties>
        </page>

        <!-- 注册 -->
        <page name="register" allow_guest="true" display="注册" type="cmp">
          	<properties>
              <property name="general_passport_after_register" desc_false="关闭" desc_true="开启" displayName="注册后是否颁发通行证" type="bool" value="false"/>
           	</properties>
      	</page>
        <!-- 登出 -->
        <page name="logout" allow_guest="true" display="登出" type="cmp"/>
        <!-- Web登录页 -->
        <page type="cmp" name="web_login" display="Web登录页" toplevel="0" allow_guest="true"/>
      	<!-- 第三方登录实名页 -->
      	<page name="third_login_binding_account" allow_guest="true" display="第三方登录实名页" type="cmp"/>
      	<!-- 登录后检测 -->
      	<page name="check_process" allow_guest="true" display="登录后检测页" type="cmp"/>
    </pages>
  
    <events>
    </events>
    
    <handlers>
        <handler name="init" desc="初始化" receive_event="event_adapter_uc_init"/>
    </handlers>
    <android>

        <class>com.nd.sdp.uc.nduc.NdUcComponent</class>
        <dependency>
          	<![CDATA[
			def nducComponent = "0.3.5.0.nduc.release"
            def ucAgree = "3.0.5-release.1"

			implementation "com.nd.sdp.uc:nduc_agreement:${ucAgree}"
			implementation "com.nd.sdp.uc:nduc_agreement_net:${ucAgree}"
            implementation "com.nd.sdp.uc:nd_uc_component:${nducComponent}"
            configurations.all {
                  resolutionStrategy {
                      force "com.nd.sdp.uc:nd_uc_component:${nducComponent}"
                  }
              }
            ]]>
        </dependency>  
      <groovy>
          <![CDATA[
				android {
                  dataBinding {
                      enabled true
                  }
			}
          ]]>
	   </groovy>
       <scenes>
           <scene name="android.permission.INTERNET" displayName="网络权限" describe="用户登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_WIFI_STATE" displayName="WIFI状态" describe="用户登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="网络状态" describe="用户登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
        </scenes>
    </android>

    <ios>
        <class>NDUCCComponent</class>

        <dependency>
            <![CDATA[
				pod 'NDUCCComponent', '1.0.488'
             ]]>
        </dependency>

    </ios>
</component><component namespace="com.nd.sdp.component" name="common-gradle" display="公共脚本">
    <pages/>
    <properties/>
    <events/>
    <handlers/>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
        </properties>
      <gradles name="gradle-tools-plugin">
            <android-project-gradle-classpaths displayName="plugin for gradle script">
                <classpath value="com.github.znyang:gradle-tools:0.1-rc02"/>
            </android-project-gradle-classpaths>
            <android-app-gradle-applys displayName="plugin for gradle script">
                <apply value="com.zen.gradle.tools"/>
            </android-app-gradle-applys>
        </gradles>
        <gradles name="library-analysis-plugin">
            <android-project-gradle-classpaths displayName="plugin for dependencies tree">
                <classpath value="com.github.znyang:library-analysis:0.3.0-rc01"/>
            </android-project-gradle-classpaths>
            <android-app-gradle-applys displayName="plugin for dependencies tree">
                <apply value="com.zen.lib.analysis"/>
            </android-app-gradle-applys>
             <android-app-gradle-appends displayName="plugin for dependencies tree">
                // tree.txt -&gt; assets 工厂构建过程需要
                task apfCopyDependsLibReport(type: Copy) {
                    from "${buildDir}/reports/zen/analysis/library/compile/Tree.txt"
                    into 'assets'
                }
                // 建立task关联，libReport -&gt; copyReport -&gt; preBuild
                afterEvaluate {
                    def keyWord = "ReleaseCompileClasspath"
                    def compileTask = this.tasks.find { it.name.endsWith(keyWord) }
                    if (compileTask) {
                        preBuild.dependsOn apfCopyDependsLibReport
                        apfCopyDependsLibReport.dependsOn compileTask
                    } else {
                        println("ERROR: Not found task which contains ${keyWord}.")
                    }
                }
            </android-app-gradle-appends>
        </gradles>
        <gradles name="replugin">
       
			<android-app-gradle-before-dependency-appends displayName="plugin for 360 replugin">
				Configuration compileConf = project.configurations.getByName(JavaPlugin.IMPLEMENTATION_CONFIGURATION_NAME)
				def ndPluginConfiguration = project.configurations.create("ndPlugin")
						.setTransitive(true)
						.setVisible(true)
						.setDescription("Plugin")
				compileConf.extendsFrom(ndPluginConfiguration)
			</android-app-gradle-before-dependency-appends>
          
        </gradles>
      
      	<gradles name="dependClassAnalysis">
            <android-project-gradle-classpaths displayName="plugin for depend analysis">
                <classpath value="com.nd.sdp.android:apf-android-plugin-tool:2.0.6-master.1"/>
            </android-project-gradle-classpaths>
            <android-app-gradle-applys displayName="plugin for depend analysis">
                <apply value="com.nd.apf.tool"/>
            </android-app-gradle-applys>
            <android-app-gradle-appends displayName="plugin for depend analysis">
                    //rootProject.isComponentTest是模板工程的定义的变量，true 表示是功能或集成测试，false表示应用
					apfPluginTool{
						dest = "应用工厂类方法扫描插件"
						enableScanRef = rootProject.isComponentTest
                        enableSearchDevTool = rootProject.isComponentTest
						debugScanRef = false
                        debugSearchDevTool = false
						openPrintNoScan = false
						openPrintScan = false
						excludeBeginAarName = ["com.jakewharton","com.nineoldandroids","com.afollestad","com.github","com.jakewharton","commons-io","com.nostra13.universalimageloader","com.alibaba:fastjson","com.github.bumptech.glide","log4j:log4j","io.reactivex:rxjava","com.fasterxml.jackson","com.squareup","org.","com.j256","com.facebook","com.google.android","androidx"]
						excludeBeginClassSampleName = []
						excludeContainClassPath = ["com/jakewharton","com/nineoldandroids","com/afollestad","com/github","com/jakewharton","commons-io","com/nostra13/universalimageloader","com/alibaba/fastjson","com/github/bumptech/glide","com.fasterxml.jackson","com/squareup","org/","com/j256","com/facebook","log4j/","io.reactivex/rxjava","android/databinding","com/handmark/pulltorefresh","com/iflytek","com/amap/api","com/airbnb/lottie","pl/droidsonroids/gif"]
						lookupMethod = ["invokevirtual\tcom.nd.smartcan.permission.FuncsNeedPermision.call","invokevirtual\tcom.nd.smartcan.permission.FuncsNeedPermision.dial","invokevirtual\tcom.nd.smartcan.commons.util.system.dial","invokevirtual\tcom.nd.smartcan.commons.util.system.call","invokevirtual\tcom.nd.component.MainContainerActivityHelper.requestPermission","invokevirtual\tcom.nd.smartcan.appfactory.script.webkit.WebViewActivity","invokevirtual\tcom.nd.smartcan.appfactory.AppFactory.addReactPackage","invokevirtual\tcom.nd.smartcan.appfactory.AppFactory.addReactViewManagerCreator","invokestatic\tcom.nd.smartcan.commons.util.helper.Tools.calculateUniqueDeviceId","invokestatic\tcom.nd.smartcan.commons.util.helper.Tools.getPhoneIMEIorESN","invokestatic\tcom.nd.smartcan.commons.util.security.AES.encrypt","invokestatic\tcom.nd.smartcan.commons.util.security.AES.decrypt","invokestatic\tcom.nd.smartcan.datalayer.tools.SdkEnvironment.getUUID","invokestatic\tcom.nd.smartcan.commons.util.helper.Tools.getUniqueIdentification","invokestatic\tcom.nd.smartcan.commons.util.system.getUniqueIdentification","invokestatic\tcom.nd.smartcan.commons.util.system.getUniqueIdHaveMd5","invokestatic\tcom.nd.android.smartcan.network.util.HttpsConnectionHelper.getAllHostsValidVerifier"]
					}
            </android-app-gradle-appends>
        </gradles>
    </runtime>
  
  <android> 
     <groovy>
       <![CDATA[
// StrandHogg漏洞修复配置--开始
def appFile = new File(new File("${rootDir}/app").absolutePath, "assets/app_factory/app/app.json")

if (appFile.exists()) {
    def config = new JsonSlurper().parse(appFile)
    if (!config) {
        println "文件" + appFile + "解析到的数据为空"
        return
    }
    println "=======开始检测android:taskAffinity属性风险配置（StrandHogg漏洞修复配置）======"
    if (!config.containsKey("is_open_task_affinity")) {
        println "app.json 不包含is_open_task_affinity标签，无需配置"
        return
    }
    def taskOpen = config.getAt("is_open_task_affinity")
    if (taskOpen == null){
        println "is_open_task_affinity为空，无需配置"
        return
    }
    println "===是否开启修复漏洞： === "+ taskOpen

    if (taskOpen.equals("true") || taskOpen==true){
        // 目前没有开发自定义的口，这里都是为空
        def taskValue = config.getAt("task_affinity_value")
        if (taskValue == null){
            taskValue = ""
        }
        println "===自定义task_affinity值 为：=== "+ taskValue
        modifyActivityTaskAffinity(taskValue)
    }else {
        println "StrandHogg漏洞修复没有开启，无需配置"
    }

}

def modifyActivityTaskAffinity(taskValue){
    println "=====StrandHogg安全漏洞修复====="
    android.applicationVariants.all { variant ->

        variant.outputs.each { output ->
            output.processResources.doFirst { pm ->

                println "=====StrandHogg安全漏洞修复，android:taskAffinity属性修改=====taskValue=" + taskValue
                def android = new groovy.xml.Namespace('http://schemas.android.com/apk/res/android', 'android')
                File manifestFile = output.processResourcesProvider.get().manifestFile
                def xml = new XmlSlurper(false, true).parse(manifestFile)

                // StrandHogg安全漏洞解决方案
                // ① application下新增taskAffinity属性，并置空，且activity无须设置taskAffinity属性，若设置，也置空
                // ② 或者将所有activity的taskAffinity属性置空，若无属性，新增置空属性
                // 这里选择方案①（这里预留属性值配置，之后规则可能会修改，所以taskValue预留）
                def applicationTaskModify = false
                xml.application.each { app ->
                    def appAttributes = app.attributes()
                    appAttributes.each { key, value ->
                        if (String.valueOf(key).endsWith('taskAffinity')) {
                            if (value != null || !String.valueOf(value).equals("")) {
                                println "application下已定义属性taskAffinity，值为："+ value
                                applicationTaskModify = true
                            }
                        }
                    }
                    if (applicationTaskModify) {
                        println "application下已定义属性taskAffinity，需修改"
                        appAttributes.put("${android.taskAffinity}", taskValue)
                    } else {
                        println "application下无属性taskAffinity，新增属性"
                        appAttributes.put("${android.taskAffinity}", taskValue)
                    }


                    app.activity.each { activity ->
                        def attributes = activity.attributes()
                        boolean needModify = false
                        attributes.each { key, value ->

                            if (String.valueOf(key).endsWith('name')) {
                                println "当前扫描activit类： " + value
                            } else if (String.valueOf(key).endsWith('taskAffinity')) {
                                if (value != null || !String.valueOf(value).equals("")) {
                                    println "当前activit类已定义属性taskAffinity，且值为： " + value + ",需修改"
                                    needModify = true
                                }
                            }
                        }
                        if (needModify) {
                            attributes.put("${android.taskAffinity}", taskValue)
                        }
                    }
                }


                // 将结果写入新文件
                manifestFile.text = new groovy.xml.StreamingMarkupBuilder().bind {
                    mkp.declareNamespace('android': 'http://schemas.android.com/apk/res/android')
                    mkp.yield xml
                }
                // 这里需要多做一层替换
                // 原因：如果之前没有taskAffinity属性，而是新增的，无法将{http://schemas.android.com/apk/res/android}转成android:
                String result = manifestFile.text.replaceAll( "\\{${android.uri}\\}", "${android.prefix}:")
                manifestFile.text = groovy.xml.XmlUtil.serialize(result)

            }
        }
    }
}

// StrandHogg漏洞修复配置--结束


// 已删除组件功能开发--开始
 import groovy.json.JsonSlurper
gradle.buildFinished {
    println "============buildFinished 构建结束============="

    println "----------业务组件构建--已删除移动组件构建警告---------"
    println "====开始查询组件依赖列表===="
    try {
        def aarFile = new File(new File("${rootDir}/app").absolutePath, "build/reports/zen/analysis/library/compile/AarInfo.json")
//        def aarFile = new File(new File("outputs").absolutePath, "AarInfo.json")
        if (!aarFile.exists()){
            println "===已删除组件依赖分析AarInfo.json 不存在============"
            return
        }
        if (aarFile.length() == 0){
            println "aarinfo.json 文件数据为空"
            return
        }
        def aarjson = new JsonSlurper().parse(aarFile)
        if (aarjson == null){
            println "aarinfo.json 数据为空"
            return
        }
        def module = aarjson['module-name']
        if (module == null){
            println "aarinfo.json module-name 字段数据为空"
            return
        }

        def aarMap = [:]
        module.each {key, value ->
            String aar = key
            String[] str = aar.split(":")
            if (str != null && str.size() > 1) {
                String aarName = str[0] + ":" + str[1]
                String version = ''
                if (str.size() > 2){
                    version = str[2]
                }else {
                    println aarName+"没有对应的版本号"
                }
                aarMap.put(aarName, version)
            }
        }

        println "====依赖列表查询结束，解析列表==="
        println "====依赖列表如下====：\n"+ aarMap
        // 需要查询的aar列表（查询是否有已删除的aar）
        List<String> tempRequestList = new ArrayList<>()

        // 第三方或者不在白名单的aar
        List<String> otherList = new ArrayList<>()

        // aar白名单，如果是以这些字符开头，则为公司的aar，如果不在白名单内，则有可能是第三方aar或者其他，需要继续筛选
        def whiteList = ['nd.sdp.','com.nd','com.eln.','com.zen.']
        // 所有依赖的aar
        List<String> allDependencyList = new ArrayList<>()
        println "====过滤白名单aar和非白名单aar===="
        // 筛选过滤
        aarMap.each {key, value ->
            String name = key
            allDependencyList.add(name)
            // 筛选出公司的aar
            whiteList.each {white->
                if (name.startsWith(white) && !tempRequestList.contains(key)){
                    tempRequestList.add(key)
                }
            }
        }

        // 筛选出剩余的aar
        def commons = allDependencyList.intersect(tempRequestList)
        otherList = allDependencyList.plus(tempRequestList)
        otherList.removeAll(commons)

        println "====非白名单遗漏数据过滤===="
        def componentUrl = "https://app-factory-dependency-service.sdp.101.com"

        // 筛选出非白名单的依赖需要再和服务端请求的总的aar列表做比较，看是否有遗漏的aar
        // 存储在服务端中的aar列表
        def allAarList = getAllAarComponent(componentUrl)
        // 所有的aar和之前筛选出来的非白名单组件的交集
        def third = allAarList.intersect(otherList)
        println "剩余的aar列表遗漏数据如下：\n"+ third
        // 如果有遗漏，则加入到requestList列表中
        if (third != null && third.size() > 0){
            tempRequestList.addAll(third)
            otherList.removeAll(third)
        }
        List<String> requestList = new ArrayList<>()
        tempRequestList.each {data ->
            String aar
            if (data.endsWith(":")){
                aar = data+aarMap.get(data)
            }else {
                aar = data +":"+aarMap.get(data)
            }

            requestList.add(aar)
        }

        println "====依赖列表解析结束，获取需要验证的aar列表===="
        println "====需要验证的aar列表如下====：\n"+ requestList
        println "====无需验证的aar列表如下（第三方或者是不在白名单内的组件）====：\n"+ otherList


        println "====总依赖列表数量====："+ aarMap.size()
        println "====需要上传的依赖列表数量====："+ requestList.size()
        println "====其他依赖数量====："+ otherList.size()

        def postJson = JsonOutput.toJson(requestList)
        String url = componentUrl+"/v0.2/androidMobileAar/invalid_aar_infos"
        def delStr = postData(url, postJson)

        if (delStr == null || delStr.toString().length() <= 2){
            println "===无已删除的aar，无需上报，退出==="
            return
        }
        println "[warn] ====存在已删除的aar组件，请及时查看修改，aar信息如下====："+ JsonOutput.toJson(delStr)


        def versionFile = new File(new File("${rootDir}/target").absolutePath, "variables.json")
        if (!versionFile.exists()) {
            println "variables.json文件不存在"
            return
        }
        println "====上报已删除aar至服务端===="
        def json = new JsonSlurper().parse(versionFile)
        if (json != null){
            def version = json['build_version_code']
            def name = json['build_app_name']
            def factoryid = json['factoryId']
            def versionLable = json['build_version_label']
            def versionId = version
            def build_time = System.currentTimeMillis()

            String delUrl = componentUrl + "/v0.2/mobileBuild/product"

            def map = [:]
            map.put("name",name)
            map.put("version",versionId)
            map.put("version_lable",versionLable)
            map.put("factory_id",factoryid)
            map.put("app_type","android")
            map.put("build_time",build_time)
            println "==上报部分参数==="+JsonOutput.toJson(map)
            map.put("component_deleted",delStr)
            String delJson = JsonOutput.toJson(map)

            def result = postData(delUrl,delJson)

            println "==上报结束==="
        }else {
            println "==variables.json 不存在==="
        }


    }catch (Exception e) {
        println "------------失败---------"+e.getMessage()
    }
}

// 上传数据
def postData(String want_up_url,String json_data){
    try {

        URL url = new URL(want_up_url);
        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();

        // 提交模式
        httpURLConnection.setRequestMethod("POST");
        //连接超时 单位毫秒
        httpURLConnection.setConnectTimeout(10000);
        //读取超时 单位毫秒
        httpURLConnection.setReadTimeout(2000);
        // 发送POST请求必须设置如下两行
        httpURLConnection.setDoOutput(true);
        httpURLConnection.setDoInput(true);
        httpURLConnection.setRequestProperty("Content-Type","application/json")
        // 获取URLConnection对象对应的输出流
        PrintWriter printWriter = new PrintWriter(httpURLConnection.getOutputStream());
        // 发送请求参数
        //post的参数 xx=xx&yy=yy
        printWriter.write(json_data);
        // flush输出流的缓冲
        printWriter.flush();
        //开始获取数据
        BufferedInputStream bis = new BufferedInputStream(httpURLConnection.getInputStream());
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        int len;
        byte[] arr = new byte[1024];
        while ((len = bis.read(arr)) != -1) {
            bos.write(arr, 0, len);
            bos.flush();
        }
        def json = new JsonSlurper().parseText(bos.toString())
        println "触发上报任务------------成功---------"
        return json

    } catch (Exception e) {
        println "[Warn]触发上报任务------------失败---------"
        e.printStackTrace();
    }
    return ""
}

// 获取所有aar列表数据
def getAllAarComponent(componentUrl) {
    List<String> aarList = new ArrayList<>()
    try {
        String requestUrl = componentUrl+"/v0.2/androidMobileAar/all_aar"
        URL url = new URL(requestUrl)
        HttpURLConnection conn = (HttpURLConnection) url.openConnection()
        conn.setRequestMethod("GET")
        conn.setConnectTimeout(5000)
        conn.setReadTimeout(5000)
        StringBuilder sb = new StringBuilder()
        if (conn.getResponseCode() == 200) {
            InputStream is = conn.getInputStream()
            //面对获取的输入流进行读取
            BufferedReader br = new BufferedReader(new InputStreamReader(is))
            String line;
            while ((line = br.readLine()) != null) {
                sb.append(line)
            }
        } else {
            println "[warn] getAllAarComponent =====： " + conn.getResponseCode()
        }

        def parser = new JsonSlurper()
        aarList = parser.parseText(sb.toString())
//        println "[info] getAllAarComponent 获取的值： " + aarList
        return aarList
    } catch (Exception e) {
        println "[Error] getAllAarComponent 获取所有aar列表异常：" + e.getMessage()
    }

    return aarList


}

// 已删除组件功能开发--结束
      
      	  ]]>
      
    </groovy>
    
  </android>
</component><component namespace="com.nd.sdp.component" name="nduc-selector" display="UC选择器组件">
	<pages>
      	<page type="cmp" name="choose_org_or_node_single_before_login" display="组织节点选择器-单选(登录前可用)" toplevel="2" allow_guest="true"/>
        <page type="cmp" name="choose_org_single_before_login" display="组织选择器-单选（登录前可用）" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
      	<property type="enum" name="data_range" displayName="数据范围" value="0">
            <options multi="false">
              <option value="0">机构</option>
              <option value="1">当前组织</option>
            </options>
        </property>
    	<property type="bool" name="show_my_org" displayName="显示当前组织" value="false"/>
      	<property type="bool" name="show_orgs_under_org" displayName="递归展示组织" value="false"/>
        <property type="bool" name="show_users_under_org" displayName="加载直接挂在组织下用户" value="true"/>
      	<property type="enum" name="show_org_mode" displayName="组织展示方式" value="1">
            <options multi="false">
              <option value="1">树形</option>
              <option value="2">平铺</option>
            </options>
        </property>
      	<property type="bool" name="show_area_filter" displayName="是否开启地址过滤" value="false"/>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
	<android>
        <class>com.nd.sdp.nduc.selector.SelectorComponent</class>
        <dependency>
            <![CDATA[
            def nducSelectorComponent = "0.0.1.3.selector.release"
            compile('com.nd.sdp.uc:nduc_selector_component:${nducSelectorComponent}')
            configurations.all {
                  resolutionStrategy {
                      force "com.nd.sdp.uc:nduc_selector_component:${nducSelectorComponent}"
                  }
            }
            ]]>
        </dependency>
    </android>
  
  	<ios>
        <class>UCSelectorComponent</class>

        <dependency>
            <![CDATA[
				pod 'UCSelectorComponent', '1.0.25'
             ]]>
        </dependency>

    </ios>
</component><component namespace="com.nd.sdp.component" name="social3-common" display="Social三组公共库">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  <android>
        <class/>
		<dependency>
			<![CDATA[
				compile ('com.nd.sdp.android.social3:sensitive-support:1.2.0-x.155704')
                compile ('com.nd.sdp.android.social3:blacklist-support:1.2.0-x.155704')
                android {
                    compileOptions {
                        sourceCompatibility 1.8
                        targetCompatibility 1.8
                    }
                }
             ]]>
		</dependency>
    </android>
  <ios>
		<class>Social3Component</class>
        <dependency>
            <![CDATA[
                      pod 'Social3Common', '1.0.13'
             ]]>
        </dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="x-app-stat" display="X学习云-应用统计">
    <pages>
        <page type="cmp" name="send" display="调试事件" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="log" display="日志信息" toplevel="1" allow_guest="true"/>
    </pages>
    <properties>
        <property type="bool" name="ext_umeng" displayName="友盟(QT)统计">
            <dependency>
                <component namespace="com.nd.xst" name="mob-stat-umeng"/>
            </dependency>
        </property>
        <property type="bool" name="ext_bd" displayName="百度统计">
            <dependency>
                <component namespace="com.nd.xst" name="mob-stat-baidu"/>
            </dependency>
        </property>
        <property type="bool" name="ext_sa" displayName="神策分析">
            <dependency>
                <component namespace="com.nd.xst" name="mob-stat-sa"/>
            </dependency>
        </property>
        <property type="bool" name="apm_bugly" displayName="Bugly监控">
            <dependency>
                <component namespace="com.nd.xst" name="mob-stat-bugly"/>
            </dependency>
        </property>
        <property type="bool" name="apm_ty" displayName="听云">
            <dependency>
                <component namespace="com.nd.xst" name="mob-stat-ty"/>
            </dependency>
        </property>
        <property type="string" name="page_param_src" displayName="页面参数补充配置文件" value="https://x-api.ykt.eduyun.cn/proxy/data/api/v1/common/event/params"/>
        <property type="string" name="ios.umeng.key" displayName="友盟-iOS-KEY"/>
        <property type="string" name="ios.baidu.stat_id" displayName="百度-iOS-KEY"/>
        <property type="string" name="ios.baidu.stat_id_debug" displayName="百度-iOS-KEY（非AppStore版本使用）" value="9607ffd06a"/>
        <property type="string" name="ios.bugly.key" displayName="iOS bugly id" value="1bb6018862"/>
        <property type="bool" name="not_debuggable" displayName="安卓-模拟Release" value="false"/>
        <property type="txt" name="event_convert" displayName="埋点数据转发规则(json)"/>
        <property type="txt" name="event_convert_file" displayName="安卓-转发规则文件地址(json)" value="http://git.sdp.nd/mobile/res/raw/master/x-study/event_convert.json"/>
        <property type="string" name="h5_page_host" displayName="需统计的H5域名" value="h5.ykt.eduyun.cn"/>
        <property type="bool" name="debug_log" displayName="调试模式" value="false"/>
        <property type="string" name="single_value_key" displayName="单参数默认标签" value="value"/>
        <property type="enum" name="um_launch" displayName="友盟冷启动分析" value="0">
            <options multi="false">
                <option value="0">开起</option>
                <option value="1">关闭</option>
            </options>
        </property>
    </properties>
    <events/>
    <handlers>
        <handler name="mob_stat_high_priority_events" desc="添加优先上报事件" receive_event="mob_stat_high_priority_events"/>
        <handler name="xst_put_global_property" desc="添加全局变量" receive_event="xst_put_global_property"/>
        <handler name="xst_remove_global_property" desc="移除全局变量" receive_event="xst_remove_global_property"/>
        <handler name="uc_on_login_success" desc="登录成功事件" receive_event="uc_on_login_success"/>
        <handler name="uc_on_logout" desc="登出成功事件" receive_event="uc_on_logout"/>
        <handler name="not-ios://onDataAnalyticsEvent" desc="转发埋点数据" receive_event="appfactory_data_analytics_event"/>
        <handler name="not-ios://userAgreeProtocol" desc="同意用户协议事件" receive_event="KEY_USER_ACCEPT_AGREEMENT_EVENT_ASYNC"/>
        <handler name="not-ios://xstDataUpload" desc="X学习业务数据上报" receive_event="event_xst_stat_data_upload"/>
        <handler name="not-ios://register_flow_control" desc="注册限���������页面代理" receive_event="register_flow_control"/>
        <handler name="not-ios://onReveiveXCloudH5TraceEvent" receive_event="xcloud_h5_page_trace" desc="H5页面访问数据上报"/>
        <handler name="ios://onReveiveCloudAtlasEvent" receive_event="appfactory_data_analytics_event" desc="收到云图埋点事件"/>
        <handler name="ios://onReveiveXSTStatEvent" receive_event="event_xst_stat_data_upload" desc="X学习业务数据上报"/>
        <handler name="ios://onReveiveXCloudH5TraceEvent" receive_event="xcloud_h5_page_trace" desc="X学习业务H5页面访问数据上报"/>
        <handler name="onStartLogPageEvent" desc="进入页面事件" receive_event="xst_start_log_page_event"/>
        <handler name="onEndLogPageEvent" desc="离开页面事件" receive_event="xst_end_log_page_event"/>
    </handlers>
    <android>
        <class>com.nd.mob.stat.MobStatComponent</class>
        <scenes>
            <scene name="android.permission.ACCESS_NETWORK_STATE" describe="检查网络状态" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.ACCESS_WIFI_STATE" describe="检查WIFI状态" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.READ_EXTERNAL_STORAGE" describe="访问外部存储数据" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.WRITE_EXTERNAL_STORAGE" describe="应用统计数据写入外部存储" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.ACCESS_FINE_LOCATION" describe="检查接入点" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.BLUETOOTH" describe="检测蓝牙" isAsk="false" closeable="false" type="permission" isAdd="false"/>
            <scene name="android.permission.GET_TASKS" describe="获取设备运行任务" isAsk="false" closeable="false" type="permission" isAdd="false"/>
        </scenes>
        <dependency>
            <![CDATA[
            compile 'com.nd.mob.stat:x-stat:1.1.1-rc01'
        ]]>
        </dependency>
        <groovy>
            <![CDATA[
    gts {
    	apiAtLeast(7) {
        	applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/replace_files-scheme_assets_g7.gradle")
		} orElse {
        	applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/replace_files-scheme_assets.gradle")
		}
        applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/5.1.3/optimize_apf_source.gradle")
        applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/gen_service_conf_code.gradle")
    }
        ]]>
        </groovy>
    </android>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
        </properties>
      <providers>
        	<provider name="com.nd.xst.x-app-stat.event.provider" filter="com.nd.xst.x-app-stat.event.provider.filter" desc="事件通知" iosClass="" anClass="com.nd.mob.stat.provider.DataAnalyticsDataProvider"/>
		</providers>
    </runtime>
    <ios>
        <class>x_app_stat_iosComponent</class>
        <dependency>
            <![CDATA[
                pod 'x_app_stat_ios', '2.0.42'
               ]]>
        </dependency>
      <ruby>
	<entry>XASBuildExecutor</entry>
    	<dsl>
            <pre_dependency_install>
                <![CDATA[
require 'pathname'
require 'json'
require 'uri'
require 'net/http'
                    
current_dir = Pathname(Dir.pwd)
      
# 定义组件id
common_id = "com.nd.sdp.component.x-app-stat"

# 获取远程文件地址
build_json = current_dir.join("app/assets/app_factory/zh-CN/components/build.json")
build_json_content = File.read(build_json)
items = JSON.parse(build_json_content)
page_param_path = ''
items.each do |item|
    component_id = item['component']['namespace'] + '.' + item['component']['name']
    if component_id == common_id 
        page_param_path = item["properties"]["page_param_src"]
        puts "### page_param_path: #{page_param_path} "
    end
end

if page_param_path.to_s.empty? 
    page_param_path = 'https://x-api.ykt.eduyun.cn/proxy/data/api/v1/common/event/params'      
end

puts "### 数据准备下载到皮肤包： #{page_param_path} "

# 拉取远程数据，并写入皮肤包资源文件
if not page_param_path.to_s.empty? 
    uri = URI(page_param_path)
    rule_config_response = Net::HTTP.get_response(uri)
    if rule_config_response.code != "200"
        puts "### error"
    else
        common_bundle = common_id + "_skin.bundle"
        file_name = "**/"+common_bundle+"/page_params.json"
        puts "### write to file #{file_name}"
        files =  Dir.glob(current_dir.join(file_name))
        files.each do |json_path|
            puts "### #{json_path} "
            file = File.open(json_path, "w") { |f| f << rule_config_response.body }
        end
    end
else
    puts "### page_param_path 字段为空，不做处理 "
end
                ]]>
                </pre_dependency_install>
            </dsl>            
        </ruby> 
    </ios>
</component><component namespace="com.nd.sdp.component" name="x-user" display="X学习云-个人主页">
    <pages>
        <page type="cmp" name="homepage" display="X学习云-个人主页" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="about" display="关于软件" toplevel="1" allow_guest="true"/>
      	<page type="cmp" name="userinfo_settings" display="用户信息设置" toplevel="1" allow_guest="false"/>
        <page type="cmp" name="ks_cloud_doc" display="云文档入口" toplevel="2" allow_guest="true"/>
        <page type="cmp" name="homepageSmartEdu" display="智慧教育个人主页" toplevel="1" allow_guest="true"/>
    </pages>
    <properties>
        <property type="page" name="userinfopage" displayName="用户信息设置页"/>
        <property type="string" name="otherpage" displayName="他人资料地址"/>
        <property type="bool" name="ipad_orientation_all" displayName="是否允许iPad横竖屏切换" value="false"/>
        <property type="txt" name="mine_home_config_src" displayName="个人主页配置" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/6_7_37/mine_home_config.json"/>
    </properties>
    <events/>
  	<routes>
        <!--离线课程地址路由-->
    	<route source="cmp://com.nd.sdp.component.cect-course-v5/course" destination="cmp://com.nd.xst.course/course"/>
        <route source="cmp://com.nd.sdp.component.cect-course-v5/download" destination="cmp://com.nd.xst.course/download"/>
    	<route source="cmp://com.nd.sdp.component.local-data-management/dowmload_manager" destination="cmp://com.nd.sdp.component.elearning-course/alldownloadlist"/> 
	</routes>
    <handlers>
        <handler name="uc_on_login_success" desc="登录成功事件监听" receive_event="uc_on_login_success"/>
        <handler name="xuser_show_other_page" desc="打开他人主页" receive_event="xuser_show_other_page">
            <property name="uid" displayName="用户ID(一定要传)" type="string"/>
        </handler>
        <handler name="x_event_feedback" desc="群组/他人举报" receive_event="x_event_feedback"/>
        <handler name="not-ios://event_send_open_tab_activity" desc="工厂首页TAB打开事件" receive_event="event_send_open_tab_activity"/>
    </handlers>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
        </properties>
    </runtime>
    <android>
        <class>com.nd.sdp.android.xuser.XUserComponent</class>
        <dependency>
            compile 'com.nd.sdp.android:llp-x-user-android:1-develop-SNAPSHOT'
            compile 'com.nd.xst:llp-userinfo:2-develop-SNAPSHOT'
            configurations {
                all*.exclude group: 'com.nd.xst', module: 'userinfo'
            }
        </dependency>
    </android>
    <ios>
       <class>XUserComponent</class>
      <ruby>
        <entry>XUSERProBuildExecutor</entry>
        <scenes>
             <scene name="NSPhotoLibraryUsageDescription" describe="获取相册权限用于选择用户头像"/>
             <scene name="NSCameraUsageDescription" describe="获取相机权限用于拍照生成用户头像"/>
          	 <scene name="NSPhotoLibraryAddUsageDescription" describe="获取相册写入权限用于保存头像"/>
        </scenes>
            <dsl>
                <pre_dependency_install>
                    <![CDATA[
                          require 'pathname'
                          require 'json'
                		  require 'uri'
                		  require 'net/http'

                          mine_home_config_src = ""
                          common_id = "com.nd.sdp.component.x-user"

						  current_dir = Pathname(Dir.pwd)
						  build_json = current_dir.join("app/assets/app_factory/zh-CN/components/build.json")
						  build_json_content = File.read(build_json)
						  items = JSON.parse(build_json_content)
						  items.each do |item|
						    component_id = item['component']['namespace'] + '.' + item['component']['name']
						    if component_id == common_id 
							  mine_home_config_src = item["properties"]["mine_home_config_src"]
							  puts "### USER==>mine_home_config_src: #{mine_home_config_src} "
							end
						  end

                          uri = URI(mine_home_config_src)
                          mine_config_content = Net::HTTP.get(uri)
                          common_bundle = common_id + "_skin.bundle"
                          if mine_config_content.include?("NoSuchKey") 
                            puts "### USER==>error"
                          else 
                            file_name = "**/"+common_bundle+"/mine_home_config.json"
                            files =  Dir.glob(current_dir.join(file_name))
                            files.each do |json_path|
                              puts "### USER==>json_path: #{json_path} "
                              file = File.open(json_path, "w") { |f| f << mine_config_content }
                            end
                          end
                    ]]>
                </pre_dependency_install>
            </dsl>            
       </ruby>
       <dependency>
            <![CDATA[
			pod 'llp_x_user_ios', '1.0.311'
			pod 'LLPUtils', :git => 'git@git.sdp.nd:component-ios/llp_utils_iOS.git', :branch => 'develop'
        ]]>
       </dependency>
    </ios>
    <flutter>
      <entry>fc_faq</entry>
      <dependency>
		<![CDATA[
			fc_faq: 0.0.30
        ]]>
      </dependency>
    </flutter>
</component><component namespace="com.nd.sdp.component" name="remark-name-mo" display="备注名移动业务组件">
	<pages>
          <page type="cmp" name="editRemarkName" display="编辑备注名" toplevel="2" allow_guest="false"/>
	</pages>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
		</properties>
      
        <providers>
      		<provider name="com.nd.sdp.component.remark-name-mo.pbl.more" filter="com.nd.pbl.pblcomponent.filter.OTHER_PAGE_EXTEND" desc="PBL他人主页更多-备注名入口" anClass="com.nd.sdp.android.social3.remark.provider.PBLEnter4RemarkNameProvider"/>
          	<provider name="com.nd.sdp.component.remark-name-mo.remark-name" filter="com.nd.sdp.uc.provider.filter.REMARK_NICK_NAME" desc="根据uid查询备注名" anClass="com.nd.sdp.android.social3.remark.provider.RemarkNameGetProvider"/>
            <provider name="com.nd.sdp.component.remark-name-mo.search.UIDS" filter="com.nd.sdp.component.remark-name-mo.search.filter.UIDS" desc="模糊查询备注名" anClass="com.nd.sdp.android.social3.remark.provider.RemarkNameQueryProvider"/>
          	<provider name="com.nd.sdp.component.remark-name-mo.EDIT_REMARK_NAME" filter="com.nd.sdp.component.remark-name-mo.filter.EDIT_REMARK_NAME" desc="修改备注名" anClass="com.nd.sdp.android.social3.remark.provider.RemarkNameEditProvider"/>  
      </providers>
	</runtime>
  
    <handlers>
    	<handler name="not-ios://event_pblcomponent_otherpage_extend_item_click" desc="PBL更多点击事件监听" receive_event="event_pblcomponent_otherpage_extend_item_click"/>
      	<handler name="not-ios://event_send_open_tab_activity" desc="监听界面打开事件" receive_event="event_send_open_tab_activity"/>
    </handlers>
  
  
   	<android>
		<class>com.nd.sdp.android.social3.remark.RemarkNameComponent</class>
     	<dependency>
			<![CDATA[
				compile("com.nd.sdp.android.social3:remark-name:2.0.5")
				android {
					compileOptions {
						sourceCompatibility 1.8
						targetCompatibility 1.8
					}
				}
                compile("com.nd.sdp.android.social3:remark-name-sdk:2.0.3")

			]]>
		</dependency>
   </android>
  
   <ios>
		<class>RemarkNameComponent</class>
        <dependency>
            <![CDATA[
                      pod 'RemarkNameComponent', '1.0.11'
					  pod 'RemarkNameSDK', '1.0.6'
             ]]>
        </dependency>
	</ios>
</component><component namespace="com.nd.social" name="mui-audio" display="音频公共控件" type="library">
  	<sdk>
    	<js-sdk>
        	<name>MUIAudioJsBridgeSdk</name>
          	<version>1.0</version>
          	<ios>
              <js-class>MUIAudioJsSdkModuleProvider</js-class>
          	</ios>
          	<android>
               <react-class>com.nd.android.social.audiorecorder.jssdk.AudioItemReactProvider</react-class>
               <js-class>com.nd.android.social.audiorecorder.js.AudioJsBridgeProvider</js-class>
          	</android>
        </js-sdk>
  	</sdk>
 <ios>
     	<class>MUIAudioView</class>
     	    <dependency>
              <![CDATA[
				      pod 'MUIAudioView', '1.0.32'
             ]]>
             </dependency>
      
       <scenes>
           <scene name="NSMicrophoneUsageDescription" describe="录制音频使用麦克风"/>
        </scenes>
     </ios>
     <android>
		 <dependency>
          	compile('com.nd.android.sdp.social:audioplayer:17.2.15')
    		compile('com.nd.android.sdp.social:audioplayer_jssdk:17.2.15')
    		compile('com.nd.android.sdp.social:module_audiorecorder:17.2.15.f2dc50e') {
        		transitive = true
        		exclude group: 'com.nd.android.sdp.im.common.widget', module: 'emotion'
    		}
		 </dependency>
       <scenes>
   			<scene name="android.permission.RECORD_AUDIO" displayName="录制音频" describe="" isAsk="true" closeable="true" type="permission"/>
		<scene name="android.permission.FOREGROUND_SERVICE" displayName="前台服务" describe="" isAsk="false" closeable="true" type="permission"/>
       </scenes>
	 </android>
  <runtime>
<properties>
<property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
<property type="bool" name="lazy_init_ios" displayName="是否开启延迟初始化" value="true"/>
</properties>
</runtime>
</component><component namespace="com.nd.sdp.component" name="x-cloud-assemble" display="X学习-产品胶水">
  <pages>
      <page type="cmp" name="launch_event_page" display="X学习-启动运营页" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="preLaunch" display="X学习-启动中间页" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="loginlessForward" display="X学习-首页" toplevel="2" allow_guest="true">
        <params>
            <property type="bool" name="rebuild_tabpage" displayName="是否打开新主界面"/>
        </params>
      </page>
      <page type="cmp" name="login_dialog" display="登录确认弹窗" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="showCreateGroupDialog" display="显示创建群组菜单选择框" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="showJoinGroupDialog" display="显示加入群组菜单选择框" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="successPage1" display="加入反馈无需审核" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="successPage2" display="加入反馈需要审核" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="guide" display="选择身份后引导页面" toplevel="2" allow_guest="false"/>
      <page type="cmp" name="lectureHomepage" display="讲师页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="openvlab" display="虚拟实验室" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="study" display="学习广场" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="regionChannel" display="区域频道" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="uploadlog" display="上传日志(没有实际页面，转发事件上传日志)" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="login" display="登录接管页面" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="firstSelectPlatform" display="选择平台页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="selectPlatform" display="X学习-切换平台页" toplevel="2" allow_guest="true"/>
  </pages>
	
	<properties>
        <property type="page" name="launch_event_finish_page" displayName="运营页展示结束后跳转页"/>
        <group name="loginlessForward" displayName="免登陆模式主页地址配置" max-repeat="1">
         	<property type="page" name="mainpageDefault" displayName="默认主页"/>
         	<property type="page" name="mainpageLoginless" displayName="免登陆模式主页"/>
          	<property type="page" name="mainpageStatic" displayName="纯静态主页"/>
         </group>
      <property type="string" name="service_tel" displayName="客服电话" value=""/>
      <property type="txt" name="url_config_file" displayName="Android入口地址配置文件(json)" value="http://git.sdp.nd/mobile/res/raw/master/x-study/urlconfig.json"/>
      <property type="bool" name="clear_nick_name" displayName="是否在登录成功后有昵称时清除昵称" value="false"/>
      <property type="bool" name="enable_immersive_statusbar" displayName="是否开启沉浸式状态栏" value="false"/>
      <property type="txt" name="activity_ignore" displayName="沉浸式状态栏忽略界面" value=""/>
      <property type="txt" name="activity_transparent" displayName="沉浸式状态栏透明处理界面" value=""/>
      <property type="txt" name="activity_adjust_resize" displayName="沉浸式状态栏键盘输入界面" value=""/>
      <property type="bool" name="ipad_orientation_all" displayName="是否允许iPad横竖屏切换" value="false"/>
      <property type="int" name="loginless_time_out" displayName="免登陆页面超时时间，单位:毫秒" value="2000"/>
      <property type="string" name="download_uid" displayName="下载管理存取UID（不为空表示对所有用户开放，为空代表用当前用户UID进行隔离）" value="9999999999"/>
      <property type="string" name="mapKey" displayName="高德key(iOS)" value=""/>
      <property type="page" name="timeout_default_page" displayName="APP超时默认访问页面"/>
      <property type="int" name="default_page_selected_tab" displayName="默认页面页选中tab" value="0"/>
      <property type="txt" name="default_h5_learning" displayName="默认h5学习页" value="https://h5-zxx.eduyun.cn"/>
      <property type="int" name="user_avtar_manager_cache_time" displayName="头像缓存时长（秒）" value="86400"/>
      <property type="int" name="app_usage_secs" displayName="使用多长时间后显示温馨提示（秒）" value="1800"/>
      <property type="string" name="channel_cmp" displayName="内嵌频道页面" value=""/>
      <property type="string" name="search_cmp" displayName="搜索页面" value=""/>
      <property type="string" name="channel_filter_url" displayName="频道筛选数据" value="https://api.ykt.cbern.com.cn/zxx/api_static/conf/channel_filter_datas.json"/>
      <property type="string" name="region_channel_url" displayName="区域频道数据" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/region_channel.json"/>
	  <property type="string" name="platform_config_url" displayName="多平台配置地址" value=""/>
      <property type="string" name="login_url" displayName="h5登录页面地址" value=""/>
      <property type="string" name="smartedu_appid" displayName="智慧教育appid" value=""/>
      <property type="txt" name="config_biz_support" displayName="班级/群业务配置" value="https://bdcs-file-1.ykt.cbern.com.cn/bdxcloud/configs/biz_support.json"/>
      <property type="bool" name="ext_im" displayName="IM扩展" value="true">
          <dependency>
              <component namespace="com.nd.xst" name="x-im-ext"/>
          </dependency>
      </property>
      <group name="workbench_guide_group" displayName="工作台引导配置" max-repeat="10">
       	<validator type="size" rule="[0,10]"/>
        <property type="string" name="role_name" displayName="身份" value=""/>
        <property type="page" name="guide_page" displayName="需要引导页面" senior="true"> 
          <tip>选择需要引导的主tab页面</tip>
   	    </property>
      </group>
  </properties>
	
	<events>
	</events>

	<handlers>
      <handler name="userRefuseAgreement" desc="不同意隐私协议事件" receive_event="KEY_USER_REFUSE_AGREEMENT_EVENT_ASYNC"/>
    	<handler name="uc_on_login_success" desc="登录成功事件监听" receive_event="uc_on_login_success"/>
        <handler name="not-ios://event_query_current_recommend_week" desc="获取周推荐key" receive_event="event_query_current_recommend_week"/>
        <handler name="ios://queryCurrentRecommend" desc="获取周推荐key" receive_event="event_query_current_recommend_week"/>
        <handler name="not-ios://event_ims_select_custom_view" desc="IM自定义分享弹出框" receive_event="event_ims_select_custom_view"/>
        <handler name="not-ios://register_flow_control" desc="注册限流页面代理" receive_event="register_flow_control"/>
  		<handler name="ios://punchRefresh" desc="打��推送" receive_event="com.nd.sdp.component.elearning_habit_train/user_date_unfinished_remind"/>	
  </handlers>

    <!-- 路由表 -->
	<routes>
    	<route source="cmp://com.nd.sdp.component.lecture-management2/lectureHomepageV2" destination="cmp://com.nd.sdp.component.x-cloud-assemble/lectureHomepage"/>
    	<route source="cmp://com.nd.xst.downloader/resList" destination="cmp://com.nd.xst.downloader/download_business_list"/>
        <route source="cmp://com.nd.sdp.component.x-cloud-assemble/createclass_v2" destination="cmp://com.nd.sdp.component.x-cloud-assemble/createclass"/>
	</routes>
  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
	</properties>
      
        <providers>
            <provider name="com.nd.sdp.el_channel.custom_data.provider" filter="" desc="频道自定义数据" iosClass="" anClass="com.nd.sdp.android.xcloud_assemble.provider.XChannelDataProvider"/>
            <provider name="com.nd.sdp.component.im-pasteboard-mark" filter="com.nd.sdp.component.im-pasteboard-mark" desc="im复制加标识符" iosClass="XCAImPasteboardMarkProvider"/>
            <provider name="com.nd.sdp.component.im-group-join-block" filter="com.nd.sdp.component.im-group-join-block" desc="im加入群拦截实现" iosClass="XCAIMGroupJoinBlockProvider"/>
            <provider name="com.nd.sdp.component.x-cloud-assemble.channel_tab_provider" filter="com.nd.sdp.component.x-cloud-assemble.channel_tab_provider.filter" desc="首页tab节日化" iosClass="XCAChannelTabProvider" anClass="com.nd.sdp.android.xcloud_assemble.provider.ChannelTabProvider"/>
		    <provider name="com.nd.sdp.android.xcloud_assemble.MenuExtendProvider" filter="com.nd.social.im.GetRecentContactTitleMenuItem" desc="IM消息列表右上角菜单" iosClass="NDGSProvider" anClass="com.nd.xst.ximext.im.provider.ToolBarMenuMoreProvider"/>
            <provider name="com.nd.dynamicCSHostProvider" filter="" desc="获取CS域名" iosClass="" anClass=""/>
            <provider name="com.nd.sdp.component.x-cloud-assemble.XWordChainChatInputMenuItem" filter="com.nd.social.im.GetChatInputMenuItem2" desc="群接龙底部入口" iosClass="XCAWordChainProvider" anClass="com.nd.xst.ximext.im.provider.WordChainIMProvider"/>
            <provider name="com.nd.sdp.component.x-cloud-assemble.current_platform_provider" filter="" desc="获取当前平台" iosClass="XCACurrentPlatformProvider" anClass="com.nd.sdp.android.xcloud_assemble.platformapp.business.PlatformDataProvider"/>
            <provider name="com.nd.xst.areaProvider" filter="com.nd.xst.areaProvider.Filter" desc="获取区域显示名称" iosClass="XCARegionAreaProvider" anClass="com.nd.sdp.android.xcloud_assemble.provider.XAreaProvider"/>  
            <provider name="com.nd.sdp.component.x-cloud-assemble.login_provider" filter="com.nd.sdp.component.x-cloud-assemble.login_provider.Filter" desc="接管登录页面开关" iosClass="XCALoginTakeOverDataProvider" anClass="com.nd.sdp.android.xcloud_assemble.provider.LoginProvider"/>
      		<provider name="com.nd.sdp.component.x-cloud-assemble.GetClassIdByGroupId" filter="com.nd.sdp.component.x-cloud-assemble.GetClassIdByGroupId.filter" desc="根据群组ID获取班级ID" iosClass="XCAIMGroupToClassProvider" anClass="com.nd.xst.ximext.im.provider.GetClassIdByGroupIdProvider"/>
      		<provider name="com.nd.sdp.component.x-cloud-assemble.UserGroup" filter="com.nd.sdp.component.x-cloud-assemble.UserGroup.filter" desc="用户群组数据" iosClass="XCAGroupDatasourceProvider" anClass="com.nd.xst.ximext.im.provider.UserGroupProvider"/>
      </providers>
      <gradles name="XST网络拦截器"> 
  			<android-project-gradle-classpaths displayName="XST网络拦截器 plugin"> 
    			<classpath value="com.nd.xst.android:gradle-intercept:1.2.3"/> 
  			</android-project-gradle-classpaths>  
  			<android-app-gradle-applys displayName="XST网络拦截器 plugin id"> 
    			<apply value="xst-network"/> 
  			</android-app-gradle-applys>
            <android-app-gradle-appends displayName="plugin for dependencies tree">
try {
    def extc = Class.forName("com.zen.plugin.lib.analysis.ext.LibraryAnalysisExtension")
    if (extc) {
        // 中小学专用依赖库更新脚本
        libReport {
            upgradeUrl = "http://git.sdp.nd/mobile/commons/-/raw/master/upgradle_lib_zxx.gradle"
        }
    }
} catch (e) {
}
            </android-app-gradle-appends>
		</gradles>
	</runtime>
  
  <build>
        <android>   
            <safe_whitelist>
                <activities>
                    <activity name="com.nd.module_im.search_v2.activity.ShareInSelectContactActivity" describe="需要暴露给外部应用分享使用，产品可能没有添加IM组件，但是胶水依赖了IM代码，所以这里要添加" type="activity" owner="鄢宜扬"/>
                    <activity name="com.nd.module_im.im.activity.ChatShortCutActivity" describe="需要暴露给桌面应用调用" type="activity" owner="鄢宜扬"/>
                	<activity name="com.nd.module_im.search_v2.activity.ShareInSelectGroupActivity" describe="需要暴露给外部应用分享使用" type="activity" owner="鄢宜扬"/>
              	</activities>
            </safe_whitelist>
        </android>
	</build>
  
  	<android>
		<class>com.nd.sdp.android.xcloud_assemble.XCloudAssembleComponent</class>
		<dependency>
              compile ("com.nd.sdp.android:llp-x-cloud-assemble-android:1-tailand-SNAPSHOT")
          
              //临时解决设置界面乱码问题
              compile('com.nd.android.sdp.social:module_pagesdk:13.0.3.267ac54')
        </dependency>
        <groovy>
        <![CDATA[
    gts {
		apiAtLeast(7) {
        	applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/file_replace_g7.gradle")
		} orElse {
        	applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/file_replace.gradle")
		}
        applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.7.0/remove-manifest-test.gradle")
        applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/modifyNetWorkSecurityConfig.gradle")
	}
        ]]>
        </groovy>
    </android>
  
  <ios>
        <class>XCloudAssembleComponent</class>
        <dependency>
            <![CDATA[
				pod 'llp_x_cloud_assemble_ios', '1.1.535'
               ]]>
        </dependency>
    <ruby>
            <entry>XCAProBuildExecutor</entry>
            <dsl>
                <pre_dependency_install>
                    <![CDATA[
                          require 'pathname'
                          require 'json'
                          require 'net/http'
                          require 'uri'
                          current_dir = Pathname(Dir.pwd)
                          build_json = current_dir.join("app/assets/app_factory/zh-CN/components/build.json")
                          build_json_content = File.read(build_json)
                          items = JSON.parse(build_json_content)
                          platform_conf_src = ""
                          common_id = "com.nd.sdp.component.x-cloud-assemble"
                          items.each do |item|
                            component_id = item['component']['namespace'] + '.' + item['component']['name']
                            if component_id == common_id 
                              platform_conf_src = item["properties"]["platform_config_url"]
                              puts "### platform_conf_src #{platform_conf_src} "
                            end
                          end
                          if platform_conf_src.include?("http") 
                            uri = URI(platform_conf_src)
                            response = Net::HTTP.get_response(uri)
                            common_bundle = common_id + "_skin.bundle"
                            if response.code == "200" 
                              platform_conf_content = response.body
                              if platform_conf_content.include?("NoSuchKey") 
                                puts "### error"
                              else 
                                file_name = "**/"+common_bundle+"/platform_config.json"
                                files =  Dir.glob(current_dir.join(file_name))
                                files.each do |json_path|
                                  puts "### #{json_path} "
                                  file = File.open(json_path, "w") { |f| f << platform_conf_content }
                                end
                              end
                            else 
                              puts "### error"
                            end
                          else 
                            puts "### 非多平台"
                          end
                    ]]>
                </pre_dependency_install>
            </dsl>            
        </ruby>
    </ios>
</component><component namespace="com.nd.sdp.component" name="muiindexviewlib" display="[AQI] 字母索引导航控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
   <android>    
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android.common.ui:nd-abc-index:0.0.8'
             ]]>
		</dependency>    
     </android>
  	<ios>
      <dependency>
        <![CDATA[
            pod 'MUIIndexView', '1.0.5'
		]]>
      </dependency>
  	</ios>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="muiaddresslib" display="[AQI] 地址选择器控件" type="library">
	<pages>
      <page type="cmp" name="main" display="主页面" toplevel="1">
        </page>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
  <runtime>
      <!--默认要配置不要移除-->
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
      </properties>
    </runtime>
  
  <android>    
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android:nd-address-chooser:1.1.8'
             ]]>
		</dependency>    
</android>
  
  <ios>
        <dependency>
            <![CDATA[
                pod 'MUIAddressSelectPanel', '0.0.19'
               ]]>
        </dependency>
    	<scenes>
        	<scene name="NSLocationAlwaysUsageDescription" describe="为了给予国家地区控件定位功能"/>
          	<scene name="NSLocationUsageDescription" describe="为了给予国家地区控件定位功能"/>
          	<scene name="NSLocationAlwaysAndWhenInUseUsageDescription" describe="为了给予国家地区控件定位功能"/>
          	<scene name="NSLocationWhenInUseUsageDescription" describe="为了给予国家地区控件定位功能"/>
        </scenes>
    </ios>

</component><component namespace="com.nd.erp" name="addresspicker" display="addresspicker" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  	
  	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
		</properties>
	</runtime>
  
	<ios>
		<class>MUIAddressPicker</class>
		<dependency>
			<![CDATA[
            pod 'MUIAddressPicker', '0.1.0'
             ]]>
		</dependency>
		<meta-datas>
        	<meta-data xpath="//plist/dict" key="NSLocationWhenInUseUsageDescription" type="string" file="/ComponentAppBase/Info.plist">
          		<![CDATA[
            		Please allow to access your location while using
          		]]>
          	</meta-data>
        	<meta-data xpath="//plist/dict" key="NSLocationAlwaysUsageDescription" type="string" file="/ComponentAppBase/Info.plist">
          		<![CDATA[
             		Please allow to always access your location
          		]]>
          	</meta-data>
    	</meta-datas>
    	<privacies>
        	<privacy name="NSLocationWhenInUseUsageDescription"/>
        	<privacy name="NSLocationAlwaysUsageDescription"/>
    	</privacies>
	</ios>
</component><component namespace="com.nd.xst" name="x-uc-ext" display="X-UC扩展">
	<pages>
      <page type="cmp" name="idp" display="IDP代理授权页" toplevel="1" allow_guest="false"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<android>
		<class>com.nd.xst.uc.ext.XUcExtComponent</class>
		<dependency>
        	implementation 'com.nd.xst:x-uc-ext:1.0.7-rc01'
        </dependency>
    </android>
   	<ios>
        <class>XUCExtendComponent</class>
        <dependency>
            <![CDATA[
				pod 'x_uc_ext', '0.0.23'
               ]]>
        </dependency>
    </ios>
  
</component><component namespace="com.nd.hy" name="elearning" display="教育学习中心-移动端">
	<pages>
		<page type="cmp" name="forcestudy" display="elearning学习" toplevel="1" allow_guest="true">
      	</page>
        <page type="cmp" name="forcestudy?type=community" display="社区版学习主页" toplevel="1" allow_guest="false">
      	</page>
        <page type="cmp" name="test" display="测试" toplevel="1" allow_guest="true">
      	</page>
        <page type="cmp" name="mainFragment" display="学习首页Fragment" toplevel="1" allow_guest="true">
      	</page>
	</pages>
	
    <properties>
        <property name="share_weibo" value="true" type="bool" displayName="是否接入微博分享"/>
        <property name="share_im" value="true" type="bool" displayName="是否接入IM分享"/>
      	<property name="ele_report" value="false" type="bool" displayName="首页导航栏是否开启学习报告入口"/>
        <property type="string" name="nav_right_btn_type" displayName="首页导航栏右侧按钮类型" value="menu">
         	<tip>menu(菜单)、search(搜索)；注：仅支持配置一种类型，不支持配置多个，配置错误默认显示菜单类型</tip>
        </property>
        <property type="string" name="ele_menu" displayName="首页菜单栏选项" value="search,qa,download,collection">
        <tip>search(搜索)、qa(答疑)、download(下载管理)、faq(选课说明)、collection(收藏)、mine(我)、shopping_cart(购物车)、order(订单)</tip>
        </property>
        <property type="string" name="ele_tab" displayName="首页顶部tab(已废弃，请使用下方新首页顶部Tab)" value="studymain,default|mystudy2,default">
          //强制学习：value="forcestudy2,default|studymain,default|mystudy2,default"
          //新学习任务：newstudytask,default强制学习forcestudy2,default发现课程studymain,default我的学习mystudy2,default
        <tip>新学习任务(newstudytask,default)、强制学习(forcestudy2,default)、发现课程(studymain,default)、我的学习(mystudy2,default)、我的课程（mycourse,default）、学习中心(mystudy2,learningCenter)</tip>
        </property>
      
        <property type="bool" name="ele-my-study" displayName="我的学习" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="ele-my-study"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="ele-channel" displayName="RN频道" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="ele-channel"/>
       		</dependency>
     	</property>
      
        <property type="bool" name="ele-compulsory-learning-business" displayName="学习任务" value="true">
        	<dependency>
           	 <component namespace="com.nd.sdp.component" name="ele-compulsory-learning-business"/>
       		</dependency>
     	</property>
      
      
      
      	<group name="ele_tab_group" displayName="新首页顶部Tab（未设置时，默认显示“发现课程”和“学习中心”）" max-repeat="3">
        	<validator type="size" rule="[0,3]"/>
        	<property type="enum" name="ele_tab_enum" displayName="顶部Tab项">
       	 		<options multi="false">
         			<option value="forcestudy2,default">新学习任务(forcestudy2,default)</option>
                  	<option value="studymain,default">不建议使用RN发现课程(studymain,default)</option>
                   	<option value="studymain,native_default">原生发现课程(studymain,native_default)</option>
                  	<option value="mystudy2,default">学习中心(mystudy2,default)</option>
                  	<option value="mystudy2,XStudy">X学习(mystudy2,XStudy)</option>
                  	<option value="mystudy2,oldStudy">我的学习(mystudy2,oldStudy)</option>
                 	<option value="mycourse,default">我的课程(mycourse,default)</option>
                    <option value="studymain,community">本校课程(需要开通社区/登录)(studymain,community)</option>
                  	<option value="mystudy2,XStudyPlan">X学习学习计划(mystudy2,XStudyPlan)</option>
        		</options>
    		</property>
          	<property type="string" name="showindex" displayName="展示顺序（不传按默认顺序）"/>
            <property type="string" name="cmpname" displayName="cmp地址（目前仅支持ele_product_enum为x_study，不传按默认实现，X学习学习计划(mystudy2,XStudyPlan)无默认实现）"/>
    	</group>
         <property name="is_ink" value="false" type="bool" displayName="是否开启水墨"/>
   
        <property type="enum" name="ele_product_enum" displayName="使用的产品交互">
       	 	<options multi="false">
                <option value="default">默认</option>
         		<option value="x_study">定制版</option>
              	<option value="x_study2">定制版2</option>
        	</options>
    	</property>
        <property type="enum" name="ele_left_top_btn_style" displayName="菜单左侧按钮样式">
       	 	<options multi="false">
                <option value="default">默认不展示</option>
         		<option value="user_img">用户头像</option>
                <option value="icon_img">资源图片</option>
        	</options>
    	</property>
        <property type="image" name="ele_left_top_btn_icon" senior="true" displayName="菜单左侧按钮图标(需要菜单左侧按钮样式选为资源图片才会生效)" value="" accept="png,jpeg,jpg,webp">
                <transfer os="Android" resize="@xxhdpi"/>
                <transfer os="iOS"/>
        </property>
      	<property type="string" name="ele_login_cmp" displayName="接管登陆cmp" value="">
        </property>
      <property name="search_cmp" value="" type="string" displayName="搜索cmp"> 
         	<tip>搜索cmp，仅支持使用的产品交互为定制版或定制版2</tip>
         </property>
    </properties>
	<events>
	</events>

  <runtime>
    <properties>      
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>    
    </properties>
  </runtime>

  <handlers>      
  	<handler name="not-ios://doLogInOutStuff" desc="接收事件" receive_event="uc_on_login_success,uc_on_logout,mutual_location,ele_subscription_state_callback,onEleRnCloseInterest,USERINFO_ROLE_SWITCH_EVENT,notifyAppKeyChange,EVENT_APP_UPDATE_DATA,CHANNEL_LOAD"/>      
  </handlers>
  
    <routes>
    	<route source="cmp://com.nd.hy.elearning/main" destination="cmp://com.nd.hy.elearning/forcestudy"/>
	</routes>

	<android>
		<class>com.nd.sdp.android.module.mutual.MutualComponent</class>
		<dependency>
			<![CDATA[
		 //交互框架
			 compile('com.nd.sdp.android:mutual-framework:13.1.9-rc.5')
 			 //密钥组件
             compile ("com.nd.sdp.android:e-frame:13.1.7-rc.2")
			//评价
			compile('com.nd.sdp.android:ele_appraise:5.5.8')

   
         ]]>
          
		</dependency>
      	<groovy>
		<![CDATA[
		    android {
				 configurations {
							  all*.exclude group: 'com.netflix.rxjava'
                              all*.exclude group: 'net.lingala.zip4j', module: 'zip4j'
                              all*.exclude group: 'com.nd.vrstore', module: 'signsdk'

                }
 
                defaultConfig {
                     renderscriptTargetApi 22
                     renderscriptSupportModeEnabled true

                }
				packagingOptions {
	    			exclude 'LICENSE.txt' 
					exclude 'META-INF/rxjava.properties'
	  			}

            }

		]]>
		</groovy>
       <scenes>
         <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="存储权限" describe="框架提供日志存储sd卡需要" isAsk="true" closeable="true" type="permission"/>
       </scenes>
	</android>
	<ios>
		<class>ELMUCComplexTab</class>
		<dependency>
			<![CDATA[
			pod 'elearn_mutualcomponent', '3.12.41'
			pod 'elearn_evaluation', '1.0.47'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.smartcan.appfactory.maincomponent" name="ext-lightapp-hotupdate" display="ext-lightapp-hotupdate" capability="test">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
		</properties>
        <handlers>
            <handler name="recvJsBridgeAccessAllowedList" desc="处理jsbridge的访问白名单" receive_event="handler_url_white_list_update_event"/>
            <handler name="recvJssdkAccessControlList" desc="处理js颗粒白名单" receive_event="handler_jssdk_access_control_list_update_event"/>  
        </handlers>
	</runtime>
    <android>
    <class>com.nd.smartcan.light.app.component.LightAppComponent</class>
    <dependency><![CDATA[
         compile('com.nd.sdp.android:light-app-core:3.0.1-release.3@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }

 compile('com.nd.sdp.android:new-lite-app:3.0.1-release.3@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }
        compile('com.nd.sdp.android:light-app-component:1.2.3@aar') {
          transitive = true
          changing = true
          exclude group: 'android.support', module: 'android-support-v4'
        }

      ]]></dependency>
    </android>
    <ios>  
      <class>APFLightAppComponent</class>
      <dependency> <![CDATA[
              pod 'APFLightAppComponent', '1.0.6'
			  pod 'APFLightAppSDK', '1.0.11'
               ]]> </dependency> 
    </ios>
</component><component namespace="com.nd.sdp.component" name="permission" display="应用权限声明">
	<pages>
      	<page type="cmp" name="permission_list" display="高敏感权限" android_class="" allow_guest="true"/>
	</pages>
	
   <properties>
	<property type="bool" name="is_open_pre_authorization" desc_true="开启" desc_false="关闭" displayName="是否开启二次授权" value="true"/>
   </properties>
  
	<events>
	</events>

	<handlers>
	</handlers>
  	
  	<routes>
          <route source="cmp://com.nd.smartcan.appfactory.main_component/permission_list" destination="cmp://com.nd.sdp.component.permission/permission_list"/>
    </routes>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
      </properties>
	</runtime>
  
<android>    
		<class>com.nd.sdp.android.apf.permission.ApfPermissionComponent</class>
		<dependency>
					<![CDATA[

 def permission_version = "3.1.9-release.2"
configurations.all {
    resolutionStrategy {     
	  force "com.nd.sdp.android.common:com-nd-permission-check:${permission_version}"
}
}
			       compile('com.nd.sdp.android.common:com-nd-apf-permission-check:3.1.7-release.1@aar') {
			        transitive = true
			        changing = true
			    }
			       compile('com.nd.sdp.android.common:com-nd-permission-check:${permission_version}@aar') {
			        transitive = true
			        changing = true
			    }

             ]]>
		</dependency>    
     <scenes>
          <scene name="android.permission.CALL_PHONE" displayName="拨打电话权限" describe="框架有提供拨打电话的工具类" isAsk="true" closeable="true" type="permission"/> 
       <scene name="android.permission.ACCESS_COARSE_LOCATION" displayName="获取位置信息权限" describe="获取位置信息权限" isAsk="true" closeable="true" type="permission"/> 
     <scene name="android.permission.ACCESS_FINE_LOCATION" displayName="获取位置信息权限" describe="获取位置信息权限" isAsk="true" closeable="true" type="permission"/> 
    <scene name="android.permission.ACCESS_BACKGROUND_LOCATION" displayName="获取后台位置信息权限" describe="获取后台位置信息权限" isAsk="true" closeable="true" type="permission"/>
    <scene name="android.permission.RECEIVE_BOOT_COMPLETED" displayName="开机自启动服务权限" describe="框架提供设置设备重启后保留任务有使用到" isAsk="true" closeable="true" type="permission"/>    
  </scenes>
       <groovy>
          <![CDATA[
println "============应用权限声明组件构建开始============"

// 1、找到config.json文件下的语言配置
// 2、获取target/app_factory/$lang/components/custom_permission_config_data.json 文件
// 3、遍历文件解析数据
// 4、获取禁用的权限列表
// 5、构造隐私权限列表页面数据，预授权sdk初始化的数据
// 6、分别保存对应的文件，app_factory/$lang/components/xxx.json
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import groovy.json.StringEscapeUtils

// 各个子权限代码的依赖版本
buildscript{

    // 定位权限，版本是和jssdk一样
    ext.location_version = '3.3.6-release.1'
    // 电话权限，版本和maf一样
    ext.phone_version = '3.4.0-release.1'
    // 自启动权限
    ext.boot_version = '3.0.1-release.1'

    // 悬浮窗权限
    ext.window_version = '3.1.4-release.1'
	// webview悬浮窗功能组件
    ext.float_version = '3.0.1-release.1'
    // 设备管理器权限
    ext.device_version = '3.1.4-release.1'
    // 辅助功能权限
    ext.accessibility_version = '3.1.4-release.1'
    // 读取应用使用情况权限
    ext.usage_version = '3.1.4-release.1'
    // 通知栏监听权限
    ext.notify_version = '3.1.4-release.1'
   
}

// 需要移除的权限列表
ext.delPermissions = []
ext.addPermissionsGroup = []
ext.delPermissionsGroup = []
// 特殊权限列表，目的是过滤数据，android-capabilities无法切分支，为了不影响功能，这里只能做一层过滤
ext.specialPermissionsGroup = []
// 定位权限拆分判断，定位权限关闭且后台定位开启，则需要阻断构建
ext.isLocationError = false

def inputFile = new File(new File("${rootDir}/app").absolutePath, "assets/app_factory/app/config.json")
def language_list = []
if (inputFile.exists()) {
    // 语言列表
    def config = new JsonSlurper().parse(inputFile)
    language_list = config.getAt("language_enable")
    println "配置的语言有：" + language_list
}
if (!language_list.isEmpty()) {
    language_list.forEach { language ->
        parsePermissionJsonFile(language)
    }
} else {
    parsePermissionJsonFile("zh-CN")
}
if (isLocationError){
    throw new GradleException('error 构建失败： 请检查编辑器配置：定位权限是否已被禁用,且后台定位是开启状态（后台定位可以单独关闭，但不能单独开启，如果需要后台定位权限，请同时开启定位权限，否则无法使用；如果需要关闭定位权限，请同时关闭后台定位权限）')
}
println "过滤重复权限前，size= " + delPermissions.size()
// 根据权限添加对应aar
addPermissionAar()
// 移除禁用的权限，对AndroidManifest.xml文件操作
removeAndroidManifestDisablePermission()

// 解析权限数据，解析不同语言文件下的数据
def parsePermissionJsonFile(language) {
    try {
        def targetFile = new File(new File("${rootDir}/target").absolutePath, "app_factory/${language}/components/custom_permission_config_data.json")
        println "当前解析的文件对应语言：" + language
        if (targetFile.exists()) {
            def permission = new JsonSlurper().parse(targetFile)
            if (!permission) {
                println "文件" + targetFile + "解析到的数据为空"
                return
            }
            if (!permission.containsKey("android")) {
                println "permission_config_data.json 不包含android标签"
                return
            }
            def androidPermission = permission.getAt("android")
            // 隐私权限列表，预授权sdk数据构造
            def privacyMap = [:]
            def sdkMap = [:]
            if (!androidPermission) {
                println "permission_config_data.json android标签下数据为空"
                return
            }

			boolean loction_enable = true
			boolean back_location_enable = true

            androidPermission.each { key, values ->
                // 忽略特殊权限
                if (specialPermissionsGroup.contains(key)) {
                    println "权限组：" + key + " 属于特殊权限，忽略"
                } else {
                    if (key == "InformationSecurity" || key == "PermissionSettingExplain") {
                        privacyMap.put(key, values)
                    } else {
                        if (values.containsKey("permissions")) {
                            boolean enable = true
                            boolean privacy = true
                            if (values.containsKey("enable")) {
                                // 是否启用，根据配置数据结果，可能是个字符串，需要转换
                                def enableStr = values.getAt("enable").toString()
                                if (enableStr == "false") {
                                    enable = false;
                                }
                            } else {
                                println "权限组：" + key + " 无enable字段，自动默认为true"
                            }

							if (key == "LOCATION"){
                                loction_enable = enable
                            }
                            if (key == "LOCATION_BACKGROUND"){
                               back_location_enable = enable
                            }
                            if (loction_enable == false && back_location_enable == true){
                                isLocationError = true
                                
 							}else{
								isLocationError = false
							}

                            if (values.containsKey("privacy")) {
                                // 是否是高危权限
                                def privacyStr = values.getAt("privacy").toString()
                                if (privacyStr == "false") {
                                    privacy = false;
                                }
                            } else {
                                println "权限组：" + key + " 无privacy字段，自动默认为true"
                            }
                            println "权限组：" + key + "，对应enable：" + enable + "，privacy：" + privacy
                            def pJmap = [:]
                            def sJmap = [:]
                            def detail = values.getAt("detail")
                            def name = values.getAt("name")
                            if (enable) {
                                // 隐私列表数据
                                if (privacy){
                                    pJmap.put("name", name)
                                    pJmap.put("intro", values.getAt("intro"))
                                    pJmap.put("detail", detail)
                                }else {
                                    println "权限组：" + key + " 对应的privacy 属性值为false，不需要输出到隐私列表中"
                                }
                                addPermissionsGroup.add(key)
                            }else {
                                // 被禁用的权限
                                delPermissions.addAll(values.getAt("permissions"))
                                delPermissionsGroup.add(key)
                            }
                            // 预授权sdk需要的权限数据
                            sJmap.put("name", name)
                            sJmap.put("description", detail)
                            sJmap.put("enable", enable)
                            if (!pJmap.isEmpty()) {
                                privacyMap.put(key, pJmap)
                            }
                            if (!sJmap.isEmpty()) {
                                sdkMap.put(key, sJmap)
                            }
                        } else {
                            println "权限组：" + key + " 无子权限，默认无效，请检查是否需要该权限"
                        }

                    }
                }

            }

            // 中文编码转换
            def privacyJson = StringEscapeUtils.unescapeJava(JsonOutput.toJson(privacyMap))
            def sdkJson = StringEscapeUtils.unescapeJava(JsonOutput.toJson(sdkMap))
            writePermissionToJsonData(language, "permission.json", privacyJson)
            writePermissionToJsonData(language, "permission_description.json", sdkJson)
        } else {
            println "文件" + targetFile + "不存在"
        }
    } catch (Exception e) {
        println "数据解析异常：" + e.getMessage()
    }

}

// 将过滤好的权限文件，分别写入，其中隐私列表页面用的数据保存在permission.json
// 预授权sdk使用到的数据保存在permission_description.json
def writePermissionToJsonData(language, fileName, jsonData) {
    def permissionFileFolder = new File(new File("${rootDir}/app").absolutePath, "assets/app_factory/${language}/components")
    if (!permissionFileFolder.exists()) {
        println "写入数据： 创建对应文件夹"
        permissionFileFolder.mkdirs()
    }
    def permissionFile = new File(new File("${rootDir}/app").absolutePath, "assets/app_factory/${language}/components/${fileName}")
    println "文件 ：" + permissionFile

    permissionFile.withWriter('utf-8') {
        writer ->
            writer.writeLine jsonData
            println "writePermissionToJsonData 写入数据成功"
    }
}

// 移除禁用的权限，对AndroidManifest.xml文件操作
def removeAndroidManifestDisablePermission() {
    // 去除重复的权限
    delPermissions.unique()
    delPermissionsGroup.unique()
    println "过滤重复权限后，size= " + delPermissions.size()
    if (!delPermissions.isEmpty()) {
        println "禁用的权限组为：" + delPermissionsGroup
        // 移除Androidmanifest.xml对应的权限
        android.applicationVariants.all { variant ->

           variant.outputs.each { output ->
                output.processManifest.doLast {
                    File manifestFile = output.processResourcesProvider.get().manifestFile
                    def xml = new XmlSlurper().parse(manifestFile)

                    delPermissions.forEach { permission ->
                        // 删除 CAMERA 权限节点
                        xml.'uses-permission'.findAll { it.@'android:name' == permission }.each {
                            it.replaceNode {}
                            println("权限" + permission + "已被禁用，移除Androidmanifest.xml中的权限声明")
                        }
                    }
					// 如果禁用的权限组包含 BOOT，则删除 BOOT_COMPLETED action 节点
                    if (delPermissionsGroup.contains("BOOT")) {
                        println("已禁用 BOOT，需要移除BOOT_COMPLETED action 声明")
                        xml.application.receiver.'intent-filter'.'action'.findAll { it.@'android:name' == 'android.intent.action.BOOT_COMPLETED' }.each {
                            it.replaceNode {}
                            println("移除Androidmanifest.xml中的 BOOT_COMPLETED action 声明")
                        }
                    }

                    // 将结果写入新文件
                    manifestFile.text = groovy.xml.XmlUtil.serialize(new groovy.xml.StreamingMarkupBuilder().bind {
                        mkp.declareNamespace('android': 'http://schemas.android.com/apk/res/android')
                        mkp.yield xml
                    })

                }
            }
        }
    } else {
        println "禁用的权限为：" + delPermissionsGroup
    }

    println "============应用权限声明组件构建结束============"
}

// 添加对应权限的aar
def addPermissionAar() {
    addPermissionsGroup.unique()
    println "开启的权限组为：" + addPermissionsGroup
    if (!addPermissionsGroup.isEmpty()) {

        // 如果权限组里有包含定位和电话的，则要添加对应的aar组件
        addPermissionAar('com.nd.sdp.android','jssdk-func-need-permission',location_version,addPermissionsGroup.contains("LOCATION"))
        addPermissionAar('com.nd.android.smartcan','smartcan-func-need-permision-aar',phone_version,addPermissionsGroup.contains("PHONE"))
        // 悬浮窗权限
        addPermissionAar('com.nd.sdp.android.common','apf-permission-alterwindow',window_version,addPermissionsGroup.contains("ALERT_WINDOW"))
        // 读取应用使用情况
        addPermissionAar('com.nd.sdp.android.common','apf-permission-usage',usage_version,addPermissionsGroup.contains("USAGE"))
        // 设备管理
       addPermissionAar('com.nd.sdp.android.common','apf-permission-device',device_version,addPermissionsGroup.contains("DEVICE"))
        // 监听通知栏
       addPermissionAar('com.nd.sdp.android.common','apf-permission-notifylistener',notify_version,addPermissionsGroup.contains("NOTIFICATION_LISTENER"))
        // 辅助功能
       addPermissionAar('com.nd.sdp.android.common','apf-permission-accessibility',accessibility_version,addPermissionsGroup.contains("ACCESSIBILITY"))
       // 自启动权限
       addPermissionAar('com.nd.android.smartcan','apf-boot-permision',boot_version, addPermissionsGroup.contains("BOOT"))
	   // webview悬浮窗组件
	   if(!addPermissionsGroup.contains("ALERT_WINDOW")){
	     addPermissionAar('com.nd.sdp.android','nd-float-view-library',float_version,addPermissionsGroup.contains("ALERT_WINDOW"))
	   }
      
    }

}

// 添加各个权限依赖
def addPermissionAar(group, module, version, add) {

    println "当前权限组件："+ group+":"+module+":"+version

    if (add){
        println "添加权限依赖"
        dependencies {
            implementation("${group}:${module}:${version}@aar") {
                transitive = true
                changing = true
                exclude group: 'android.support', module: 'android-support-v4'
            }
        }
    }else {
        println "不需要添加权限依赖，移除"
        android {
            configurations {
                all*.exclude group: group, module: module
            }
        }
    }

}
		  ]]>
    </groovy>
    
</android>
  
  <ios>
    <class>APFPermissionComponent</class>
    <dependency><![CDATA[
pod 'APFPermissionComponent', '1.0.12'
pod 'MUPPermissionKit', '1.0.21'
            ]]></dependency>
    <scenes>
    	<scene name="NSLocationAlwaysUsageDescription" describe="为了给予轻应用定位功能"/>
		<scene name="NSLocationUsageDescription" describe="为了给予轻应用定位功能"/>
		<scene name="NSLocationAlwaysAndWhenInUseUsageDescription" describe="为了给予轻应用定位功能"/>
		<scene name="NSLocationWhenInUseUsageDescription" describe="为了给予轻应用定位功能"/>
    </scenes>
    <ruby>
      <!--入口声明，必须提供且唯一-->
      <entry>APFPermissionBuildExecutor</entry>
      <dsl>
        <pre_dependency_install>
          <![CDATA[
require 'xcodeproj/plist'
require 'pathname'
require 'json'
require 'active_support/core_ext/string'

PERMISSION_KIT_SUBSPECS = {
  :APPLEMUSIC => 'MUPPermissionKit/AppleMusic',
  :BLUETOOTH => 'MUPPermissionKit/Bluetooth',
  :CALENDAR => 'MUPPermissionKit/Calendar',
  :CAMERA => 'MUPPermissionKit/Camera',
  :CONTACTS => 'MUPPermissionKit/Contacts',
  :FACEID => 'MUPPermissionKit/Face',
  :HEALTH => 'MUPPermissionKit/Health',
  :HOME => 'MUPPermissionKit/Home',
  :LOCALNETWORK => 'MUPPermissionKit/LocalNetwork',
  :LOCATION => 'MUPPermissionKit/Location',
  :MICROPHONE => 'MUPPermissionKit/Microphone',
  :MOTION => 'MUPPermissionKit/Motion',
  :PHOTOS => 'MUPPermissionKit/Photos',
  :REMINDERS => 'MUPPermissionKit/Reminders',
  :SIRI => 'MUPPermissionKit/Siri',
  :SPEECH => 'MUPPermissionKit/Speech',
  :TRACKING => 'MUPPermissionKit/Tracking',
}

PERMISSION_COMPONENT_SUBSPECS = {
  :LOCATION => 'APFPermissionComponent/Location',
}

# variables.json
# {
#   "languages": [
#     "zh-CN",
#     "en"
#   ],
# }
def get_languages
  if $languages.nil?
    variables_json_path = $target_dir.join('variables.json')
    variables_dict = JSON.parse(File.read(variables_json_path))
    $languages = variables_dict["languages"]
  end
  $languages
end

# custom_permission_config_data.json:
# {
#   "ios": {
#     "PermissionSettingExplain": "如要开启或关闭权限授予，请按照以下步骤操作：\\n1.打开手机设置\\n2.在应用列表内找到应用\\n3.点击进入，查看或修改权限设置",
#     "InformationSecurity": "我们会采取符合业界标准、合理可行的安全防护措施保护您提供的个人信息安全，防止个人信息遭到未经授权访问、公开披露、使用、修改、损坏或丢失。我们有行业先进的以数据为核心，围绕数据生命周期进行的数据安全管理体系，从组织建设、制度设计、人员管理、产品技术等方面多维度提升整个系统的安全性。关于我们对于您个人信息安全技术措施，您可查看相应产品或服务的隐私政策。",
#     "LOCATION": {
#       "enable": "true",
#       "privacy": true,
#       "NSLocationAlwaysAndWhenInUseUsageDescription_intro": "为您提供周边的服务信息与引导。",
#       "NSLocationAlwaysAndWhenInUseUsageDescription_detail": "我们访问您的位置信息根据您的位置信息为您提供更契合您需求的页面展示和产品服务，向您推荐精准的引导内容。应用在任何时间、使用期间都可以使用您的地理位置。",
#       ...
#     },
#     ...
#   }
# }
def get_permissions_by_language(language, only_hash = true)
  $all_permissions = {} if $all_permissions.nil?
  permissions_of_language = $all_permissions[language]
  if permissions_of_language.nil?
    file_path = $app_factory_dir.join(language, 'components', 'custom_permission_config_data.json')
    content = JSON.parse(File.read(file_path))
    permissions_of_language = content['ios']
    $all_permissions[language] = permissions_of_language
  end
  only_hash ? permissions_of_language.select { |_, v| v.is_a?(Hash) } : permissions_of_language
end

# 生成 permission.json 文件
# {
#   "PermissionSettingExplain": "如要开启或关闭权限授予，请按照以下步骤操作：\\n1.打开手机设置\\n2.在应用列表内找到应用\\n3.点击进入，查看或修改权限设置",
#   "InformationSecurity": "我们会采取符合业界标准、合理可行的安全防护措施保护您提供的个人信息安全，防止个人信息遭到未经授权访问、公开披露、使用、修改、损坏或丢失。我们有行业先进的以数据为核心，围绕数据生命周期进行的数据安全管理体系，从组织建设、制度设计、人员管理、产品技术等方面多维度提升整个系统的安全性。关于我们对于您个人信息安全技术措施，您可查看相应产品或服务的隐私政策。",
#   "LOCATION": {
#     "NSLocationAlwaysAndWhenInUseUsageDescription": {
#       "intro": "允许后，您就可以进行学校定位相关操作。",
#       "detail": "允许后，您就可以进行学校定位相关操作。"
#     },
#     "NSLocationWhenInUseUsageDescription": {
#       "intro": "允许后，您就可以进行学校定位相关操作。",
#       "detail": "允许后，您就可以进行学校定位相关操作。"
#     }
#   },
#   ...
# }
def write_permission_json
  get_languages().each do |language|
    grouped_permissions_hash = {}
    get_permissions_by_language(language, false).each do |k, v|
      if v.is_a?(Hash)
        next unless v['privacy'].to_s == 'true' && v['enable'].to_s == 'true'

        # 将 LOCATION_BACKGROUND 合并到 LOCATION 分组中
        if k == 'LOCATION_BACKGROUND'
          k = 'LOCATION'
        end

        permission_hash = {}
        v.each do |k2, v2|
          items = k2.to_s.split('_')
          next unless v2.is_a?(String) && items.length == 2

          property_list_key = items[0]
          type = items[1]

          property_list_values = permission_hash[property_list_key] || {}
          property_list_values[type] = v2
          permission_hash[property_list_key] = property_list_values
        end
        grouped_permissions_hash[k] = permission_hash if permission_hash.present?
      else
        grouped_permissions_hash[k] = v
      end
    end
    output_file_path = $resources_dir.join('app_factory', language, 'components', 'permission.json')
    File.open(output_file_path, 'w') { |file| file.write(JSON.pretty_generate(grouped_permissions_hash)) }
  end
end

# 生成 permission_description.json 文件
# {
#   "LOCATION": {
#     "enable": "true",
#     "description": "允许后，您就可以进行学校定位相关操作。"
#   },
#   ...
# }
def write_permission_description_json
  get_languages().each do |language|
    permissions_hash = {}
    get_permissions_by_language(language).each do |k, v|
      # LOCATION_BACKGROUND 合并到 LOCATION 分组中，不单独显示为一个权限
      next if k == 'LOCATION_BACKGROUND'

      # warning: 一个权限下通常只存在一个 detail 描述字段，但也有存在多个的特殊情况，
      # 如早期的定位权限就存在 NSLocationAlwaysAndWhenInUseUsageDescription 和 NSLocationWhenInUseUsageDescription
      # 当存在多个时选取第一个作为最终值
      all_details_hash = v.select { |k2, v2| k2.to_s.end_with? '_detail' and v2.instance_of? String}
      next unless all_details_hash.present?
      permissions_hash[k] = {
        'enable' => v['enable'],
        'description' => all_details_hash.values.first || '',
      }
    end
    output_file_path = $resources_dir.join('app_factory', language, 'components', 'permission_description.json')
    File.open(output_file_path, 'w') { |file| file.write(JSON.pretty_generate(permissions_hash)) }
  end
end

# 删除 sdp/{target_name}/{language}/local.json 文件中的相应的权限配置
def delete_i18n_permission(permission_key)
  local_json_file_path = $current_dir.join('sdp', 'local.json')
  content = JSON.parse(File.read(local_json_file_path))
  target_configs = content['target_config'] || []
  raise Informative, 'There is not `target_config` in [local.json].' if target_configs.empty?
  target_configs.each do |config|
    target_name = config['target_name']
    next if target_name.nil?

    target_i18n_dir = $current_dir.join('sdp', target_name)
    i18n_lists = Pathname.glob(target_i18n_dir.join('*/')).map(&:basename)
    i18n_lists.each do |language|
      i18n_local_json_file_path = target_i18n_dir.join(language).join('local.json')
      next unless File.exist? i18n_local_json_file_path

      target_config_content = JSON.parse(File.read(i18n_local_json_file_path))
      target_config = target_config_content['target_config'].first
      target_permission = target_config['properties']['scenes'] || {}
      target_permission.delete(permission_key)
      File.open(i18n_local_json_file_path, 'w') { |file| file.write(JSON.pretty_generate(target_config_content)) }
    end
  end
end

# 如果某项权限未开启，需要删除配置文件中的一些内容
def delete_configs_for_disabled_permissions
  plist_path = $current_dir.join($project_name, 'Info.plist')
  plist = Xcodeproj::Plist.read_from_path(plist_path)

  any_language = get_languages().first
  get_permissions_by_language(any_language).each do |k, v|

    if k == 'LOCATION_BACKGROUND'
      background_modes = plist['UIBackgroundModes'] || []
      if v['enable'].to_s == 'true'
        unless background_modes.include?('location')
          background_modes << 'location'
          plist['UIBackgroundModes'] = background_modes
        end
      else
        # 如果后台定位未开启，则删除掉 UIBackgroundModes 中的 'location' 字段
        background_modes.delete('location')
      end
    end

    next if v['enable'].to_s == 'true'

    v.keys.map do |k2|
      k2.chomp('_detail')
      k2.chomp('_intro')
    end.uniq.each do |k3|
      # 如果某项权限未开启，则删除掉 Info.plist 中对应的 Property List Key
      plist.delete(k3)
      delete_i18n_permission(k3)
    end
  end

  # 删除废弃的字段，暂时未找到下面两个字段的来源，先在此处临时处理
  plist.delete('NSLocationUsageDescription')
  plist.delete('NSLocationAlwaysUsageDescription')

  Xcodeproj::Plist.write_to_path(plist, plist_path)
end

def get_pod_dependency_content(match, pod_name)
  content = "pod '#{pod_name}'"
  version = match[7]
  content += ", '#{version}'" unless version.empty?
  content + "\n"
end

# 添加 Pod 依赖到 Podfile 中
def write_dependencies_to_podfile
  any_language = get_languages().first
  permissions_hash = get_permissions_by_language(any_language)

  permission_kit_regex = /(pod){1}[ ]+(['"]){1}(MUPPermissionKit){1}(['"]){1}(,\W){1,}(['"]){1}([^'"]+)+(['"]){1}/
  permission_component_regex = /(pod){1}[ ]+(['"]){1}(APFPermissionComponent){1}(['"]){1}(,\W){1,}(['"]){1}([^'"]+)+(['"]){1}/
  pod_file_path = $current_dir.join('Podfile')
  final_pod_content = ''
  File.open(pod_file_path).each do |line|
    final_pod_content += line
    next if line.include?('#')

    permissions_hash.each do |k, v|
      next if v['enable'].to_s != 'true'

      pod_name = PERMISSION_KIT_SUBSPECS[k.to_sym]
      unless pod_name.nil?
        permission_kit_match = permission_kit_regex.match(line)
        final_pod_content += get_pod_dependency_content(permission_kit_match, pod_name) if permission_kit_match
      end

      pod_name = PERMISSION_COMPONENT_SUBSPECS[k.to_sym]
      unless pod_name.nil?
        permission_component_match = permission_component_regex.match(line)
        final_pod_content += get_pod_dependency_content(permission_component_match, pod_name) if permission_component_match
      end
    end
  end
  File.open(pod_file_path, 'w') { |file| file.write(final_pod_content) }
end

def main
  $current_dir = Pathname(Dir.pwd)
  $target_dir = $current_dir.join('target')

  xcode_projects = Dir.glob($current_dir.join('*.xcodeproj').to_s)
  raise Informative, 'require a xcodeproj.' if xcode_projects.empty?
  raise Informative, 'too many xcodeproj.' if xcode_projects.length > 1
  $project_name = File.basename(xcode_projects.first, '.xcodeproj')

  $resources_dir = $current_dir.join($project_name, 'Resources')
  $app_factory_dir = $target_dir.join('app_factory')

  write_permission_json
  write_permission_description_json
  write_dependencies_to_podfile
  delete_configs_for_disabled_permissions
end

main
			]]>
        </pre_dependency_install>
      </dsl>
    </ruby>
  </ios>
</component><component namespace="com.nd.edu.ap.component" name="parent-child-raship" display="parent-child-raship">
	<pages>
       <page type="cmp" name="test" display="测试" toplevel="1"/>
	</pages>
	
	<properties>
		<property type="enum" name="head-strategy" displayName="头部策略">
        	<tip>设置头部策略，选项为：所有接口增加头部，白名单增加头部，除黑名单外增加头部。如果什么都不选，则所有接口不增加头部</tip>
        	<img src="https://reference.doc.101.com/appcomponent/userguide/docking/children_delegate/images/info.png"/>
            <options multi="false">
              <option value="open-head-all">所有接口增加头部</option>
              <option value="open-white-list">白名单增加头部</option>
              <option value="open-black-list">除黑名单外增加头部</option>
            </options>
    	</property>
      
        <property type="json" name="white-host" displayName="白名单host" value="">
        	<tip>例如："{"filterData":[{"component_name":"com.nd.edu.ap.component.parent-child-raship","host_key":"relationshipUrl"},{"component_name":"com.nd.hy.elearning","host_key":"community_gateway"}]}"，当"头部策略"选择"白名单增加头部"，仅对白名单增加头部策略；</tip>
          	<img src="https://reference.doc.101.com/appcomponent/design/design/children_delegate_sign/extra/images/info.png"/>
        </property>
      
        <property type="json" name="black-host" displayName="黑名单host" value="">
       		<tip>例如："{"filterData":[{"component_name":"com.nd.edu.ap.component.parent-child-raship","host_key":"relationshipUrl"},{"component_name":"com.nd.hy.elearning","host_key":"community_gateway"}]}"，当"头部策略"选择"除黑名单外增加头部"，除黑名单外别的头部都会增加策略；</tip>
            <img src="https://reference.doc.101.com/appcomponent/design/design/children_delegate_sign/extra/images/info.png"/>
        </property>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://uc_on_login_success" desc="" receive_event="uc_on_login_success"/>
      <handler name="not-ios://uc_on_login_success" desc="" receive_event="uc_on_login_success"/>
	</handlers>
	
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      	<providers>
        	<provider name="com.nd.edu.ap.component.parent-child-raship.childSign" filter="com.nd.edu.ap.component.parent-child-raship.childSign" desc="获取签名相关信息的Provider" anClass="com.nd.edu.ap.raship.component.ChildShipPro" iosClass="EAPCRChildSignProvider"/>
    	</providers>
	</runtime>

  	<android>
      	<class>com.nd.edu.ap.raship.component.ChildShipCom</class>
    	<dependency>
			<![CDATA[
				implementation("com.nd.sdp.android:edu-ap-parent-child-raship-sdk-android:13.0.3-rc.4")
        	]]>
    	</dependency>
        <scenes>
        	<scene name="android.permission.INTERNET" displayName="网络权限" describe="查询亲子关系需要网络权限" isAsk="true" closeable="true" type="permission"/>
        </scenes>
	</android>
  
   <ios>
        <class>edu_ap_parent_child_raship_sdk_iosObjC_component</class>
        <dependency>
            <![CDATA[
				pod 'edu_ap_parent_child_raship_sdk_ios', '1.0.10'
        	]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="apf-permission" display="apf-permission" type="function_library">
	<pages>
	</pages>
	<properties>
       <property type="bool" name="is_open_receive_boot_completed_permission" desc_true="开启" desc_false="关闭" displayName="(已废弃，请在隐私权限配置中关闭)是否开启BOOT开机自启动权限" value="true"/> 
	</properties>

	<events>
	</events>

	<handlers>
	</handlers>
 

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  <android>
    
     <groovy>
        <![CDATA[
  
		  ]]>
      </groovy>
  </android>
  
</component><component namespace="com.nd.sdp.component" name="im-chat-social-dynamic" display="IM1对1聊天动态" type="function_library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>
  
   <runtime>
     
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启延迟初始化" value="true"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
      </properties>
     
     </runtime>

	<handlers>
	</handlers>
  <android> 
    <dependency> 
      <![CDATA[
              compile('com.nd.module_im:social_dynamic:1.0.6.28.develop'){
                 exclude group:'com.nd.android.sdp.im',module:'module_im'
              }
       ]]> 
    </dependency> 
  </android> 
  <ios>
		<dependency>
           <![CDATA[
				pod 'CocoaAsyncSocket', '7.4.3'
			]]>
		</dependency>

	</ios>

</component><component namespace="com.nd.xst" name="xs-commons" display="X学习云-公共能力">
	<pages>
      <page type="cmp" name="flutter_pop" display="flutter弹窗中转" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
        <property type="enum" name="x_app_platform" displayName="App平台">
           <options multi="false">
              <option value="zxx">中小学</option>
              <option value="zxxhd">中小学HD</option>
              <option value="smartedu">智慧教育</option>
              <option value="yubo">语博</option>
              <option value="thailll">泰国终身学习平台</option>
           </options>
        </property>
		<property type="string" name="modAppId" displayName="安卓-自定义APPID"/>
        <property type="boolean" name="modifyHost" displayName="安卓-切换新域名"/>
      	<property type="string" name="key_school_id" displayName="UC用户学校ID拓展配置key" value="x_school_id"/>
        <property type="string" name="key_school_name" displayName="UC用户学校名拓展配置key" value="x_school_name"/>
        <property type="string" name="app_custom_tenant_code" displayName="App自定义租户"/>
        <property type="txt" name="topic_config_src" displayName="节日化运营配置" value="https://topic.ykt.cbern.com.cn/app/config/v1/app_topic_config.json"/>
        <property type="txt" name="app_funs_src" displayName="大模块配置" value="https://grey-config.ykt.cbern.com.cn/app_func.json"/>
      	<property type="txt" name="app_conf_src" displayName="小功能配置" value="https://api.ykt.cbern.com.cn/zxx/api_static/conf/app_conf.json"/>
      	<property type="txt" name="video_led_src" displayName="视频跑马灯水印配置" value="https://grey-config.ykt.cbern.com.cn/led-config/led-app-smart-zxx.json"/>
	</properties>
  	
	<events>
	</events>

	<handlers>
      <handler name="ios://forInitEvent" receive_event="for_init_event" desc="初始化组件事件"/>
   </handlers>
  
	<runtime>
      <gradles name="gradle-tools-plugin">
        <android-project-gradle-classpaths displayName="plugin for gradle script">
          <classpath value="com.github.znyang:gradle-tools:0.1-rc02"/>
        </android-project-gradle-classpaths>
        <android-app-gradle-applys displayName="plugin for gradle script">
          <apply value="com.zen.gradle.tools"/>
        </android-app-gradle-applys>
      </gradles>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
      </properties>
      <providers>
        <provider name="com.nd.sdp.uc.register.injector" filter="com.nd.sdp.uc.register.injector.filter" desc="注册开关注入" iosClass="XCBUCDataProvider" anClass="com.nd.sdp.android.xcloud_assemble.config.RegisterDataProvider"/>
     	<provider name="com.nd.xst.common.configProvider" filter="" desc="配置开关获取" iosClass="XCBConfigProvider" anClass="com.nd.sdp.android.xcloud_assemble.provider.StudyChannelHoldProvider"/>
        <provider name="com.nd.xst.common.channelkv" filter="" desc="频道idcode转换" iosClass="XCBChannelIdCodeProvider"/>
      	<provider name="com.nd.xst.common.binduser_info" filter="" desc="获取账号绑定信息" iosClass="XCBAreaBindUserInfoProvider" anClass="com.nd.sdp.android.xcloud_assemble.sdk.userbind.UserBindProvider"/>
        <provider name="com.nd.xst.common.router.dynamic_params_provider" filter="com.nd.edu.component.el-router.dynamic_params_provider.filter" desc="占位符替换" iosClass="XCBPlaceholderProvider" anClass="com.nd.xst.base.provider.XstDynamicParamsProvider"/>
      </providers>
	</runtime>
  
    <android>
        <class>com.nd.sdp.android.xcloud_assemble.sdk.XCloudSdkComponent</class>
        <groovy>
        <![CDATA[
          gts {
            // 支持自定义app-id
            applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/5.1.3/mod_app_id.gradle")
            applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/6.0.0/mod_app_host.gradle")

            //读取打包配置请求拦截地址，写入assets
            applyFrom("http://git.sdp.nd/android-social-doc/library-doc/raw/master/generateAssertReqConfig")
            // 自动替换构建后的AndroidManifest.xml中声明的所有Activity屏幕方向为编辑器配置方向
			applyFrom('http://git.sdp.nd/mobile/res/raw/master/x-study/support_pad.gradle')
          }
        ]]>
        </groovy>
		<dependency>
          def xCloudVer = "1.5.1-rc08"
          implementation("com.nd.sdp.android.xcloud:xcloud-sdk:${xCloudVer}@aar")
          implementation("com.nd.sdp.android.xcloud:xcloud-sdk-ext:${xCloudVer}@aar")
          implementation("com.nd.sdp.android.xcloud:xcloud-textview-loader:${xCloudVer}@aar")
          implementation("com.nd.sdp.android.xcloud:xcloud-ui:${xCloudVer}@aar")
          implementation("com.nd.sdp.android.xcloud:xcloud-screen-lock:${xCloudVer}")
          implementation("com.nd.sdp.android.xcloud:xcloud-ui-ext:${xCloudVer}@aar")
          implementation("com.nd.sdp.android.xcloud:xcloud-providers:${xCloudVer}@aar")
          
          implementation "androidx.lifecycle:lifecycle-common:2.4.1"
          implementation "androidx.lifecycle:lifecycle-common-java8:2.4.1"
          
          configurations {
            all*.exclude group: 'com.nd.sdp.android', module: 'x-cloud-sdk'
            all*.exclude group: 'com.nd.sdp.android.xcloud.ui', module: 'user-textview'
            all*.exclude group: 'com.nd.sdp.android', module: 'xxue-ui'
          }
          
          // GlideRequest add sdp-app-id header
          implementation "com.nd.sdp.ele.android.reader:reader-frame:2.0.8-dev02"
          implementation "com.nd.sdp.android:xst-config:1.6.2-rc06"
          
          implementation "com.nd.hy.android.hermes:commons-util:2.2.7-rc06"
        </dependency>
    </android>
  	<ios>
        <class>XCBaseComponent</class>
        <dependency>
            <![CDATA[
			pod 'xcloud_base_ios', '0.0.493'
			pod 'xst_study_record_ios','0.0.96'
            pod 'x_content_processor', '0.0.13'
        ]]>
        </dependency>
      <ruby>
            <entry>XCBProBuildExecutor</entry>
            <dsl>
                <pre_dependency_install>
                    <![CDATA[
                          require 'pathname'
                          require 'json'
                          # 修改 app.json 文件
                          current_dir = Pathname(Dir.pwd)
                          ostr = '.xue.eduyun.cn'
						  ostr1 = '.vlab.eduyun.cn'
                          nstr = '.ykt.eduyun.cn'

                          cdncs = '.zy.cetav.com.cn'
                          cdncs_new = '.ykt.cbern.com.cn'

                          domains = {"ykt.xue.eduyun.cn" => "xue.ykt.eduyun.cn", "v1-ws.zy.cetav.com.cn" => "v1.ykt.cbern.com.cn", "v2-ws.zy.cetav.com.cn" => "v2.ykt.cbern.com.cn", "v3-ws.zy.cetav.com.cn" => "v3.ykt.cbern.com.cn"}
                          puts "### 开始修改域名 ### "

                          json_files =  Dir.glob(current_dir.join("**/*.json"))
                          entitlements = Dir.glob(current_dir.join("**/*.entitlements"))
                          json_files = json_files | entitlements
                          json_files.each do |json_path|
                              if File.basename(json_path) == 'script.json' 
                                  next
                              end
                              json_content = File.read(json_path)
                              changed = false
                              keys = domains.keys
                              domains.each { |key,value|
                                  if json_content.include? key
                                      puts "### 文件: #{json_path} 中有 #{key} 进行替换成 #{value}"
                                      json_content = json_content.gsub(key,value)
                                      changed = true
                                  end
                              } 
                              if json_content.include? ostr
                                  puts "### 文件: #{json_path} 中有 #{ostr} 进行替换成 #{nstr}"
                                  json_content = json_content.gsub(ostr,nstr)
                                  changed = true
                              end
                              if json_content.include? ostr1
                                  puts "### 文件: #{json_path} 中有 #{ostr1} 进行替换成 #{nstr}"
                                  json_content = json_content.gsub(ostr1,nstr)
                                  changed = true
                              end
                              if json_content.include? cdncs
                                  puts "### 文件: #{json_path} 中有 #{cdncs} 进行替换成 #{cdncs_new}"
                                  json_content = json_content.gsub(cdncs,cdncs_new)
                                  changed = true
                              end
                              if changed
                                  puts "### 保存文件: #{json_path}"
                                  file = File.open(json_path, "w") { |f| f << json_content }
                              end
                          end

                          puts "### 修改域名结束 ### "
                          
                          build_json = current_dir.join("app/assets/app_factory/zh-CN/components/build.json")
                          build_json_content = File.read(build_json)
                          items = JSON.parse(build_json_content)
                          app_conf_src = ""
                          app_funs_src = ""
                          video_led_src = ""
						  new_app_id = ""
                          common_id = "com.nd.xst.xs-commons"
                          items.each do |item|
                            component_id = item['component']['namespace'] + '.' + item['component']['name']
                            if component_id == common_id 
                              app_conf_src = item["properties"]["app_conf_src"]
                              app_funs_src = item["properties"]["app_funs_src"]
                              video_led_src = item["properties"]["video_led_src"]
							  new_app_id = item["properties"]["modAppId"]
                              puts "### app_conf_src #{app_conf_src} "
                              puts "### app_funs_src #{app_funs_src} "
                              puts "### video_led_src #{video_led_src} "
							  puts "### new_app_id #{new_app_id} "
                            end
                          end
						  # 修改 app.json 文件
                          if !new_app_id.empty?
                            current_dir = Pathname(Dir.pwd)
                            app_json_path = current_dir.join("app/assets/app_factory/app/app.json")
                            app_json_content = File.read(app_json_path)
                            item = JSON.parse(app_json_content)
                            puts "### 开始修改 app.json 文件: #{app_json_path}"
                            item['appid'] = new_app_id
                            item['pkgid'] = new_app_id
                            puts "### 新的appid为:#{item['appid']}" 
                            File.write(app_json_path, JSON.dump(item))
                            puts "### 修改完成"

                            xcode_projects = Dir.glob(current_dir.join('*.xcodeproj'))
                            raise Informative, 'require a xcodeproj.' if xcode_projects.empty?
                            raise Informative, 'too many xcodeproj.' if xcode_projects.length > 1
                            project_name = File.basename(xcode_projects.first, '.xcodeproj')
                            app_json_path1 = current_dir.join("#{project_name}/Resources/app_factory/app/app.json")
                            app_json_content1 = File.read(app_json_path1)
                            item1 = JSON.parse(app_json_content1)
                            puts "### 开始修改 app.json 文件: #{app_json_path1}"
                            item1['appid'] = new_app_id
                            item1['pkgid'] = new_app_id
                            puts "### 新的appid为:#{item1['appid']}" 
                            File.write(app_json_path1, JSON.dump(item1))
                            puts "### 修改完成"
						  end

                          uri = URI(app_conf_src)
                          app_conf_content = Net::HTTP.get(uri)
                          common_bundle = common_id + "_skin.bundle"
                          if app_conf_content.include?("NoSuchKey") 
                            puts "### error"
                          else 
                            file_name = "**/"+common_bundle+"/app_conf.json"
                            files =  Dir.glob(current_dir.join(file_name))
                            files.each do |json_path|
                              puts "### #{json_path} "
                              file = File.open(json_path, "w") { |f| f << app_conf_content }
                            end 
                          end

                          uri = URI(app_funs_src)
                          app_funs_content = Net::HTTP.get(uri)
                          common_bundle = common_id + "_skin.bundle"
                          if app_funs_content.include?("NoSuchKey") 
                            puts "### error"
                          else 
                            file_name = "**/"+common_bundle+"/app_funs.json"
                            files =  Dir.glob(current_dir.join(file_name))
                            files.each do |json_path|
                              puts "### #{json_path} "
                              file = File.open(json_path, "w") { |f| f << app_funs_content }
                            end
                          end

                          uri = URI(video_led_src)
                          led_config_content = Net::HTTP.get(uri)
                          common_bundle = common_id + "_skin.bundle"
                          if led_config_content.include?("NoSuchKey") 
                            puts "### error"
                          else 
                            file_name = "**/"+common_bundle+"/led_config.json"
                            files =  Dir.glob(current_dir.join(file_name))
                            files.each do |json_path|
                              puts "### #{json_path} "
                              file = File.open(json_path, "w") { |f| f << led_config_content }
                            end
                          end
                    ]]>
                </pre_dependency_install>
            </dsl>            
        </ruby>
    </ios>
  <flutter>
      <entry>fx_ui_component</entry>
      <dependency>
		<![CDATA[
			fx_ui_component: 0.0.1
        ]]>
      </dependency>
    </flutter>
</component><component namespace="com.nd.xst" name="downloader" display="X学习-下载管理">
	<pages>
      <page type="cmp" name="dowmload_manager" display="下载列表" toplevel="1"/>
      <page type="cmp" name="download_business_list" display="新下载列表" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="setting" display="设置页" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="resList" display="资源列表" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>
  
	<routes>
      <route source="cmp://com.nd.sdp.component.local-data-management/dowmload_manager" destination="cmp://com.nd.xst.downloader/dowmload_manager"/>
      <route source="cmp://com.nd.sdp.component.local-data-management/download_business_list" destination="cmp://com.nd.xst.downloader/download_business_list"/> 
      <route source="cmp://com.nd.sdp.component.local-data-management/download_resource_list" destination="cmp://com.nd.xst.downloader/download_resource_list"/> 
      <route source="cmp://com.nd.sdp.component.local-data-management/setting" destination="cmp://com.nd.xst.downloader/setting"/> 
      <route source="cmp://com.nd.sdp.component.elearning-course/alldownloadlist" destination="cmp://com.nd.xst.downloader/download_business_list"/>	
  </routes>

	<handlers>
      <handler name="ios://downloadSDKNotifyNotReachable" desc="无网络" receive_event="ELDownloadSDKNotifyNotReachable"/>
      <handler name="ios://downloadSDKNotifySwitchToWiFi" desc="网络切换到wifi" receive_event="ELDownloadSDKNotifySwitchToWiFi"/>
      <handler name="ios://downloadSDKNotifySwitchToWWANAndPause" desc="网络切换到WWAN并停止下载" receive_event="ELDownloadSDKNotifySwitchToWWANAndPause"/>
      <handler name="ios://downloadSDKNotifySwitchToWWAN" desc="网络切换到WWAN" receive_event="ELDownloadSDKNotifySwitchToWWAN"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <providers>
            <provider name="com.nd.xst.downloader.Provider" filter="com.nd.xst.downloader.Provider.Filter" desc="provider的声明" anClass="com.nd.hy.android.course.download.provider.XstDownloadProvider" iosClass="XDMDownloaderProvider"/>
            <provider name="com.nd.sdp.component.local-data-management.Provider" filter="com.nd.sdp.component.local-data-management.Provider.Filter" desc="provider的声明" anClass="" iosClass="XDMCectLDMDownloadCenterProvider"/>
            <provider name="com.nd.sdp.component.local-data-management.provider" filter="com.nd.sdp.component.local-data-management.provider.filter" desc="provider的声明" anClass="DownloadDataProvider" iosClass="XDMUserPageDownloadCenterProvider"/>
        </providers>
	</runtime>
  
    <android>
		<class>com.nd.hy.android.course.download.DownloadManagerComponent</class>
		<dependency>
          def downloadVersionNew = "3.5.7-rc07"
          implementation "com.nd.sdp.ele.android.download:download-core:${downloadVersionNew}"
          implementation "com.nd.sdp.ele.android.download:download-ui:${downloadVersionNew}"
          implementation "com.nd.sdp.ele.android.download:download-mini:${downloadVersionNew}"
       	  implementation ("com.nd.sdp.android:xst-downloader-android:1.1.0-rc16")
          configurations {
            all*.exclude group: 'com.nd.sdp.android', module: 'cect-download-manager'
          }
		</dependency>
       
        <groovy>
			<![CDATA[
		    	android {
    				compileOptions {
        				sourceCompatibility 1.8
        				targetCompatibility 1.8
    				}
				}
			]]>
		</groovy>
	</android>
	<ios>
        <class>XstDownloaderComponent</class>
        <dependency>
            <![CDATA[
			pod 'xst_downloader_ios', '0.0.72'
        ]]>
        </dependency>
	</ios>
</component><component namespace="com.nd.xst" name="x-player" display="X-业务播放器">
    <pages>
        <page type="cmp" name="play" display="资源播放页" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="playVideo" display="播放视频" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="debug" display="调试" toplevel="1" allow_guest="true"/>
        <page type="cmp" name="resList" display="资源列表" toplevel="2" allow_guest="true"/>
        <page type="cmp" name="elecBookList" display="电子教材列表" toplevel="1" allow_guest="true"/>
    </pages>
    <properties>
        <category name="iOSMediaPlayerSdkCategory" displayName="iOS视频播放器配置">
            <property type="enum" name="iOSMediaPlayerSdkType" displayName="iOS视频默认SDK" value="0">
               <options multi="false">
                 <option value="0">原生视频SDK</option>
                 <option value="1">阿里视频SDK</option>
               </options>
            </property>
            <property type="bool" name="XCicadaPlayer" displayName="iOS阿里播放器组件" value="true">
                <dependency>
                    <component namespace="com.nd.xst" name="x-cicada-player"/>
                </dependency>
            </property>
        </category>
    </properties>
    <events>
    </events>
    <handlers>
        <handler name="ios://event_handler_DownloadCenterCustomPlayResource" desc="用户自定义下载PDF播放消息回调" receive_event="CECT_DOWNLOAD_CENTER_CUSTOM_PDF_PLAY_RESOURCE"/>
        <handler name="ios://event_handler_socialShareResult" desc="分享通知外部提示" receive_event="ND_SOCIAL_SHARE_RESULT"/>
        <handler name="event_handler_pract_action_event" desc="断点练习事件" receive_event="appfactory_on_custom_pract_action_event"/>
    </handlers>
    <runtime>
        <properties>
            <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
        </properties>
        <providers>
            <provider name="com.nd.xst.player.point.exercise.provider" filter="com.nd.xst.player.point.exercise.provider.filter" desc="断点练习" anClass="com.nd.xst.player.point.exercise.provider.PointExerciseProvider" iosClass="XPLKeyPointProvider"/>
	    </providers>
    </runtime>
    <android>
        <class>com.nd.xst.android.player.cmp.XPlayerComponent</class>
        <dependency>
            <![CDATA[
       		    implementation ("com.nd.xst:x-player-component:0.9.7-rc03")
                //视频
                def xstVideoVersion = "2.1.1-rc08" 
                implementation "com.nd.sdp.ele.android.video:video:${xstVideoVersion}" 
                implementation "com.nd.sdp.ele.android.video.doc:video-doc:${xstVideoVersion}" 
                implementation "com.nd.sdp.ele.android.video.exercise:video-exercise:${xstVideoVersion}" 
				implementation "com.nd.sdp.ele.android.video:video-engine-exo:${xstVideoVersion}" 
                implementation "com.nd.sdp.ele.android.video.engine.mp:video-engine-original:${xstVideoVersion}" 
                //文档
                def xstDocVersion = "2.1.1-rc08"
                implementation "com.nd.sdp.ele.android.reader:reader-image:${xstDocVersion}"
                implementation "com.nd.sdp.ele.android.reader:reader-pdf:${xstDocVersion}"
             ]]>
        </dependency>
        <groovy>
            <![CDATA[ 
                android { 
                    compileOptions { 
                        sourceCompatibility 1.8 
                        targetCompatibility 1.8 
                    } 
                } 
            ]]>
        </groovy>
    </android>
    <ios>
        <class>XSTPlayerComponent</class>
        <dependency>
            <![CDATA[ 
                 pod 'xst_player_ios', '1.0.212'
                 pod 'x_doc_player', '1.0.31'
                 pod 'xst_media_player_ios', '0.0.48'
            ]]>
        </dependency>
        <meta-datas>
          <meta-data xpath="//plist/dict" key="UIBackgroundModes" type="array" file="/ComponentAppBase/Info.plist">
            <![CDATA[
               <string>audio</string>
            ]]>
          </meta-data>
        </meta-datas>
    </ios>
</component><component namespace="com.nd.xst" name="study-activity" display="X-学习活动集" extension="true">
	<pages>
       <page type="cmp" name="test" display="测试入口" toplevel="1"/>
       <page type="cmp" name="my_study" display="我的学习" toplevel="1" allow_guest="false"/>
      <page type="cmp" name="special_topic_pdf" display="pdf播放" allow_guest="true"/>
      <page type="cmp" name="special_topic_detail" display="专题教育资源详情" allow_guest="true"/>
      <page type="cmp" name="special_topic_detail_v2" display="【新】专题教育资源详情" allow_guest="true"/>
      <page type="cmp" name="assets_document" display="NDR文档详情" allow_guest="true"/>
      <page type="cmp" name="basicWork" display="基础性作业pdf" allow_guest="true"/>
      <page type="cmp" name="rank_detail_top50" display="排行榜详情" allow_guest="true"/>
      <page type="cmp" name="course" display="课程融合" allow_guest="true"/>
      <page type="cmp" name="search_main" display="搜索首页" allow_guest="true"/>
      <page type="cmp" name="recommend_you_list" display="为您推荐列表页面" allow_guest="true"/>
      <page type="cmp" name="sync_classroom" display="课程学习" allow_guest="true"/>
      <page type="cmp" name="go_examination_papers" display="习题h5" allow_guest="true"/>
      <page type="flutter" name="ningxia_recommend_apps" display="宁夏应用推荐" allow_guest="true"/>
      <page type="flutter" name="activity_zone" display="活动专区" allow_guest="true"/>
      <page type="flutter" name="recent_study" display="最近学习" allow_guest="true"/>
      <page type="flutter" name="my_interest" display="我的关注" allow_guest="true"/>
	</pages>
	
	<properties>
	    <property type="string" name="my_study_unit_business_type" displayName="我的学习/课程类型" value="x_course"/>
        <property type="string" name="teacher_training_business_type" displayName="教师研修类型" value="t_course"/>
        <property type="txt" name="my_study_empty_page_jump_config" displayName="我的学习/空页面/跳转配置" value="{'operations':[{'event_name':'EL_MUTUAL_SWITCH_TAB','param':{'index':0}},{'event_name':'EL_CHANNEL_SWITCH_TAB','param':{'inner_cmp':'cmp://com.nd.xst.study-activity/syncClassroom?tab_offest=1','offset':0,'visible':0}}]}"/>
        <property type="string" name="share_default_link" displayName="分享地址" value="https://h5-bd.ykt.eduyun.cn/download_app"/>
        <property type="txt" name="home_recommend_src" displayName="推荐板块数据源" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/channel_home_recommend.json"/>
        <property type="txt" name="rank_share_config" displayName="排行榜的分享配置" value="{'sedu':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072450060289?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'syncClassroom':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072594780161?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'schoolService':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072661889025?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'tchTraining':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072689152001?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'family':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072718512129?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'eduReform':{'link':'https://x-link.ykt.eduyun.cn/smart_links/141072758341633?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'sport':{'link':'https://x-link.ykt.eduyun.cn/smart_links/159561516826627?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'art':{'link':'https://x-link.ykt.eduyun.cn/smart_links/159561550381059?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'labourEdu':{'link':'https://x-link.ykt.eduyun.cn/smart_links/159561590226947?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'},'tchMaterial':{'link':'https://x-link.ykt.eduyun.cn/smart_links/159561632169986?qrEventName=smartlink','img':'https://cdncs.ykt.cbern.com.cn/v0.1/static/x_cloud_web/api_static/top_rank/top_rank_share_img.png'}}"/>  
    	<property type="bool" name="search_layout_switch_enabled" displayName="搜索切换布局开关" value="false"/>
        <property type="bool" name="search_cover_hide_enabled" displayName="搜索封面隐藏开关" value="false"/>
        <property type="txt" name="history_config_url" displayName="浏览历史频道配置" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/zxx_history_catalog_config.json"/>
        <group name="course_tab_items" displayName="课程教学子tab" max-repeat="3">
          	<property type="string" name="key" displayName="key"/>
            <property type="string" name="title" displayName="名称" i18n="true"/>
            <property type="string" name="url" displayName="tab项URL，支持cmp和http地址"/>
            <property type="image" name="image_icon" senior="true" displayName="图标" value="" accept="png,jpeg,webp">
               <transfer os="Android" resize="@xxxhdpi"/>
               <transfer os="iOS"/>
            </property>
            <property type="image" name="highlight_image_icon" senior="true" displayName="选中高亮图标" value="" accept="png,jpeg,webp">
               <transfer os="Android" resize="@xxxhdpi"/>
               <transfer os="iOS"/>
            </property>
       </group>
       <property type="bool" name="home_recommend_show_glance" displayName="频道推荐内容是否显示浏览数" value="true"/>
  </properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://onChannelInjection" desc="触发注入橱窗自定义" receive_event="EL_CHANNEL_INJECTION_PROVIDER_EVENT"/>
      <handler name="ios://onTextbookInitEvent" desc="触发学习活动加载" receive_event="XSA_TEXTBOOK_NEED_INIT"/>
      <handler name="ios://onForInitEvent" desc="初始化组件事件" receive_event="for_init_event"/>
      <handler name="notifySpacialTopicReport" desc="进度上报" receive_event="EVENT_UPLOAD_MY_SIMPLE_STUDY_RECORD"/>
      <handler name="ios://onShowCoursePage" desc="跳转课程频道事件" receive_event="EVENT_SHOW_COURSE_PAGE"/>
      <handler name="ios://onLikeCompletion" desc="点赞成功" receive_event="event_xst_like_completion"/>
      <handler name="ios://onUnLikeCompletion" desc="取消点赞" receive_event="event_xst_unlike_completion"/>
      <handler name="event_appsettting_recommend_switch_status" desc="获取推荐开关" receive_event="event_appsettting_recommend_switch_status"/>
      <handler name="ios://onDownloadCenterPDFCustomPlayResource" desc="用户自定义下载PDF播放消息回调" receive_event="CECT_DOWNLOAD_CENTER_CUSTOM_PDF_PLAY_RESOURCE"/>
      <handler name="ios://onShowAssertsDocumentList" desc="显示教材文档列表" receive_event="event_xst_show_asserts_document_list"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      
      <providers>
        <provider name="com.nd.xst.study-activity.courseDataProvider" filter="com.nd.xst.study-activity.courseDataProvider.filter" desc="自主学习信息" iosClass="XSACourseDataProvider" anClass="com.nd.android.xst.study.actv.provider.CourseDataProvider"/>
        <provider name="com.nd.xst.study-activity.channelcustomview" filter="com.nd.xst.study-activity.channelcustomview.filter" desc="频道板块扩展-20230131" iosClass="XSAChannelCustomViewProvider" anClass="com.nd.android.xst.study.content.XstChannelContentCardProvider"/>
        	<provider name="com.nd.xst.study-activity.syncClassroomProvider" filter="com.nd.xst.study-activity.syncClassroomProvider.filter" desc="获取视图" iosClass="XSASyncClassroomProvider" anClass="com.nd.android.xst.study.actv.provider.TreeFiltrateClassFragmentProvider"/>
        	<provider name="com.nd.android.xst.study.actv.bookDetail.XBookDetailActivity.coursev5.Provider" filter="com.nd.android.xst.study.actv.bookDetail.XBookDetailActivity.coursev5.Provider.Filter" desc="获取课程标签" anClass="com.nd.android.xst.study.actv.bookDetail.dataProvider.XBookDetailDataProvider"/>
        	<provider name="com.nd.sdp.component.XSABookDetailVC.provider" filter="com.nd.sdp.component.XSABookDetailVC.filter" desc="课本详情iOS-Provider" iosClass="XSATextbookProvider" anClass=""/>
            <provider name="com.nd.xst.study-activity.libraryInfoProvider" filter="com.nd.xst.study-activity.libraryInfoProvider.filter" desc="获取库信息" iosClass="XSALibraryInfoProvider" anClass="com.nd.android.xst.study.actv.provider.LibraryInfoProvider"/>
            <provider name="com.nd.xst.study-activity.SpecialSubjectVersionProvider" filter="com.nd.xst.study-activity.SpecialSubjectVersionProvider.filter" desc="获取专题原生支持的版本" iosClass="XSASpecialSubjectVersionProvider" anClass="com.nd.android.xst.study.actv.provider.SpecialSubjectVersionProvider"/>
            <provider name="com.nd.xst.study-activity.homeRecommendProvider" filter="com.nd.xst.study-activity.homeRecommendProvider.filter" desc="热门推荐板块" iosClass="XSAHomeRecommendProvider" anClass="com.nd.android.xst.study.content.RecommendFrameProvider"/>
            <provider name="com.nd.xst.study-activity.homeBlankSpaceProvider" filter="com.nd.xst.study-activity.homeBlankSpaceProvider.filter" desc="空白视图" anClass="com.nd.android.xst.study.actv.provider.HomeBlankSpaceProvider"/>
            <provider name="com.nd.xst.plate.FlutterViewProviderV2" filter="com.nd.xst.plate.FlutterViewProviderV2.filter" desc="flutter频道板块" anClass="com.nd.android.xst.study.actv.provider.ChannelPlateFlutterProvider" iosClass="XSAFlutterViewProvider"/>
      		<provider name="com.nd.xst.study-activity.XstPlateProvider" filter="com.nd.xst.study-activity.XstPlateProvider.filter" desc="地区推荐板块" anClass="com.nd.android.xst.study.actv.provider.XstPlateProvider" iosClass="XSAAreaPlateProvider"/>
      </providers>
      
	</runtime>
    <android>
		<class>com.nd.android.xst.study.actv.StudyActComponent</class>
		<dependency>
          
          def stuActVersion = "5.9.4-rc10"
        	compile "com.nd.xst:study-activity:${stuActVersion}"
            compile "com.nd.xst:study-content:${stuActVersion}"
        </dependency>
    </android>
  	<ios>
        <class>XStudyActivityComponent</class>
        <dependency>
            <![CDATA[
			pod 'x_study_activity_ios', '0.0.628'
        ]]>
        </dependency>
    </ios>
  <flutter>
      <entry>fx_study_activity</entry>
      <dependency>
		<![CDATA[
			fx_study_activity: 0.1.55
        ]]>
      </dependency>
    </flutter>
</component><component namespace="com.nd.xst" name="course" display="X学习-课程">
	<pages>
      <page type="cmp" name="course" display="课程主页" toplevel="1" allow_guest="true" expandability="true">
       <properties>
           <property name="image" displayName="属性占位" type="bool" value="true"/>
       </properties>
      </page>
      <page type="cmp" name="standardCourse" display="标准化课程" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="prepareLesson" display="备课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="courseAssets" display="备课单资源" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="playActivity" display="课时活动播放" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="nationalLesson" display="课时活动" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="qualityCourse" display="精品课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="thematicCourse" display="NDR专题课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="offlineCourse" display="NDR线下课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="teachingmaterials" display="学科课程" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="experimentLesson" display="实验课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="ocourse" display="通用线下课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="tcourse" display="通用研修课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="teacherTrainingEx" display="强师教师研修" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="teacherTraining" display="教师研修" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="specialCourse" display="专题课程" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="study" display="通用学习" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="downloadResourceList" display="下载资源列表" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="download" display="离线查看" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="debug" display="调试" toplevel="1" allow_guest="true"/>
	</pages>
	
	<properties>
      <property type="string" name="h5_activity_orientation" displayName="h5活动屏幕方向（填写数字，请在开发指导下配置）" value=""/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://event_handler_enroll" desc="报名" receive_event="event_enroll"/>
      <handler name="ios://event_handler_enroll_view" desc="获取报名视图" receive_event="event_get_enroll_view"/>
      <handler name="ios://event_handler_enrollStateChange" desc="报名状态变更" receive_event="ELENROLL_STATE_CHANGE"/>
      <handler name="ios://event_handler_coursePageRemove" desc="移除课程页" receive_event="CECT_COURSE_PAGE_REMOVE"/>
      <handler name="ios://event_handler_smartlinkGenerateLinkResult" desc="smartLink获取成功" receive_event="smartlink_generate_link_result"/>
      <handler name="ios://playNextActivity" desc="播放下一个活动" receive_event="CectActivityFramePlayNextActivity"/>
      <handler name="uc_on_login_success" desc="uc登录事件" receive_event="uc_on_login_success"/>
      <handler name="ios://event_handler_UpdateCourseLocalProcessInfo" desc="本地进度管理初始化消息" receive_event="CECT_COURSE_LOCAL_PROCESS_INIT"/>
	  <handler name="event_handler_enter_train" desc="进入h5培训聚合页" receive_event="EVENT_ENTER_TRAIN_PAGE"/>
      <handler name="ios://onLikeCompletion" desc="点赞成功" receive_event="event_xst_like_completion"/>
      <handler name="ios://onUnLikeCompletion" desc="取消点赞" receive_event="event_xst_unlike_completion"/>
      <handler name="ios://on_online_pract_status_event" desc="在线练习事件" receive_event="appfactory_on_online_pract_status_event"/>
      <handler name="ios://onMiniworkSendProgress" desc="作业进度上报" receive_event="XSTCourseSendMiniworkProgress"/>
      <handler name="ios://event_handler_traincourse_study" desc="培训学习push推送" receive_event="com.nd.sdp.traincourse/study"/>
      <handler name="ios://event_handler_like_action" desc="点赞消息" receive_event="event_xst_like_completion"/>
      <handler name="ios://event_handler_unlike_action" desc="取消点赞消息" receive_event="event_xst_unlike_completion"/>
  </handlers>
  
    <routes>
    	<route source="cmp://com.nd.sdp.component.xcloud-class-activity/playActivity" destination="cmp://com.nd.xst.course/playActivity"/>
    	<route source="cmp://com.nd.sdp.component.xcloud-class-activity/nationalLesson" destination="cmp://com.nd.xst.course/nationalLesson"/>
        <route source="cmp://com.nd.sdp.component.xcloud-class-activity/qualityCourse" destination="cmp://com.nd.xst.course/qualityCourse"/>
        <route source="cmp://com.nd.sdp.component.e-prepare-lessons/course_detail" destination="cmp://com.nd.xst.course/prepareLesson"/>
        <route source="cmp://com.nd.sdp.component.e-prepare-lessons/material_detail" destination="cmp://com.nd.xst.course/courseAssets"/>
  </routes>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <providers>
              <provider name="com.nd.sdp.component.cect-course-v5.provider" filter="com.nd.sdp.component.cect-course-v5.provider.filter" desc="provider的声明" anClass="" iosClass="CectCourseV5Provider"/>
              <provider name="com.nd.sdp.android.coursev5.mvp.detail.CourseV5MvpActivity.coursev5.Provider" filter="com.nd.sdp.android.coursev5.mvp.detail.CourseV5MvpActivity.coursev5.Provider.filter" desc="provider的声明" anClass="DownloadCourseDataProvider" iosClass=""/>  
        </providers>
	</runtime>
  
    <android>
		<class>com.nd.sdp.android.coursev5.CourseV5Component</class>
		<dependency>
        	<![CDATA[
       		    compile ("com.nd.sdp.android:llp-xst-course:1.1")
                configurations {
                    all*.exclude group: 'com.nd.sdp.android', module: 'xst-course-sdk'
                    all*.exclude group: 'com.nd.sdp.android', module: 'xst-course-presenter'
                    all*.exclude group: 'com.nd.sdp.android', module: 'xst-course-data'
                    all*.exclude group: 'com.nd.sdp.android', module: 'xst-course-abs'
                    all*.exclude group: 'com.nd.sdp.android', module: 'xst-coursehour'
                } 
             ]]>
		</dependency>
        <groovy>
			<![CDATA[
		    	android {
    				compileOptions {
        				sourceCompatibility 1.8
        				targetCompatibility 1.8
    				}
				}
			]]>
		</groovy>
	</android>
  
    <ios>
		<class>CectCourseV5ComponentImpl</class>
		<dependency>
			<![CDATA[
				pod 'xst_course_ios', '0.1.5'
			]]>
		</dependency>
    </ios>
  	<flutter>
      <entry>fx_course</entry>
      <dependency>
		<![CDATA[
			fx_course: 0.0.32
        ]]>
      </dependency>
    </flutter>
</component><component namespace="com.nd.xst" name="app-startup" display="X学习-启动组件">
	<pages>
      <page type="cmp" name="chat_list" display="IM消息（可隐藏）" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="register" display="注册关闭时页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="login_transform" display="拦截登录中转页" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="block" display="拦截提示页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="do_nothing" display="什么都不做页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="hap" display="小程序框架" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="transferhttp" display="http拦截中转判断（iOS用）" toplevel="1" allow_guest="true"/>
	</pages>
	
	
	<handlers>
        <handler name="ios://registerFlowControl" desc="注册限流页面代理(旧)" receive_event="register_flow_control"/>
	    <handler name="ios://xDynamicRegisterPageRoute" desc="注册限流页面代理（新）" receive_event="x_dynamic_register_page_route"/>
        <handler name="not-ios://userAgreeProtocol" desc="同意用户协议事件" receive_event="KEY_USER_ACCEPT_AGREEMENT_EVENT_ASYNC"/>
        <handler name="not-ios://x_dynamic_register_page_route" desc="接收动态组件注册限流页面代理" receive_event="x_dynamic_register_page_route"/>
        <handler name="not-ios://EL_CHANNEL_INJECTION_PROVIDER_EVENT" desc="" receive_event="EL_CHANNEL_INJECTION_PROVIDER_EVENT"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  <android>
		<class>com.nd.sdp.xst.startup.XSTStartUpComponent</class>
		<dependency>
          implementation "com.nd.sdp.android:x-app-startup-android:1.5.5-rc07"
        </dependency>
    </android>
  <ios>
        <class>XSTAppStartupComponent</class>
        <dependency>
            <![CDATA[
			pod 'xst_app_startup_ios', '0.0.53'
        ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.xst" name="content-interact" display="X学习-内容互动">
	<pages>
      <page type="cmp" name="favoriteManage" display="收藏管理" toplevel="2" allow_guest="false"/>
	</pages>
	
	<properties>
      <property type="string" name="studio_detail_url" displayName="工作室全量数据URL" value="" deprecated=""/>
      <property type="string" name="follow_tabs_config_url" displayName="关注tab配置" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/follow_tabs.json"/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="xstInteract_handler_suggestion_submit" desc="建议提交事件" receive_event="event_xst_suggestion_submit"/>
	  <handler name="xstInteract_handler_xst_interact_pannel_show" desc="调用互动面板事件" receive_event="xst_interact_pannel_show"/>	
  </handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      	<providers>
            <provider name="com.nd.sdp.component.xci-content-interact.dataprovider" filter="com.nd.sdp.component.xci-content-interact.dataprovider" desc="关注与收藏" iosClass="XCIDataProvider" anClass="com.nd.xst.interact.sdk.provider.XstContentInteractProvider"/>
        </providers>
	</runtime>
  
    <android>
		<class>com.nd.xst.interact.cmp.XstInteractComponent</class>
		<dependency>
       		def interactVer = "0.5.8-rc06"
       		implementation "com.nd.xst:xst-content-interact:${interactVer}"
            implementation "com.nd.xst:xst-interact-sdk:${interactVer}"
		</dependency>
       <groovy>
			<![CDATA[
		    	android {
					packagingOptions {
						exclude 'META-INF/sdk_release.kotlin_module'
	  				}
				}
			]]>
		</groovy>
	</android>
  

    <ios>
        <class>XstContentInteractComponent</class>
        <dependency>
            <![CDATA[
				pod 'xst_content_interact', '0.0.268'
               ]]>
        </dependency>
    </ios>
  
</component><component namespace="com.nd.sdp.component" name="ele-channel" display="教育-学习-频道" type="function_library">
	<pages>
      <page type="react" name="index" display="频道页面" toplevel="1"/>
      <page type="react" name="resources" display="资源列表" toplevel="1"/>
      <page type="react" name="channel" display="单频道页面" toplevel="1"/>
      
       <page type="cmp" name="nindex" display="原生频道页面" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="test" display="测试页面" toplevel="1" allow_guest="true"/>

      <page type="cmp" name="newresources" display="新原生资源列表" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="newchannel" display="新原生单频道页面" toplevel="1" allow_guest="true"/>
      
      <page type="cmp" name="nresources" display="原生资源列表" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="nchannel" display="原生单频道页面" toplevel="1" allow_guest="true"/>
      
	</pages>
  
  <properties>
      	<property type="string" name="page_id" displayName="学习社区主页id（社区使用）" value="1516852474244">
           <tip>学习社区主页id（社区使用）</tip>
        </property>
              <property type="bool" name="is_ink" value="false" displayName="是否开启水墨"/>
    
            <property type="bool" name="is_show_search" value="false" displayName="二级页面开启搜索"/>
          <property type="string" name="search_cmp" value="" displayName="搜索跳转地址">
                 <tip>默认会替换{library_id},{custom_tags}</tip>
          </property>
             <property type="string" name="uiType" value="" displayName="ui风格">
              <tip>xUi、vodUi、tocUi，默认不填为普通ui</tip>
        </property>
         <property type="bool" name="enable_static" value="false" displayName="请求是否使用cdn形式">
              <tip>频道相关请求按CDN形式</tip>
        </property>
	</properties>
  
    <runtime>
    	<properties>      
      		<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>      
    	</properties>
      	<providers>
        	<provider name="com.nd.sdp.component.ele-channel.PlateProvider" filter="com.nd.sdp.component.ele-channel.PlateProvider.filter" desc="频道板块注入provider" anClass="com.nd.sdp.channel.support.provider.ELChannelPlateProvider" iosClass="ELCHChannelPlateProvider"/>	
          	<provider name="com.nd.sdp.component.ele-channel.provider" filter="com.nd.sdp.component.ele-channel.provider.filter" desc="频道数据" anClass="com.nd.hy.ele.channel.provider.ELCHChannelDataProvider" iosClass="ELCHChannelDataProvider"/>
        </providers>
  	</runtime>  
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
       <handler name="not-ios://doStuff" desc="tab切换" receive_event="EL_CHANNEL_SWITCH_TAB"/>
       <handler name="not-ios://userinfo_event_refresh_data_source" desc="用户信息刷新" receive_event="userinfo_event_refresh_data_source"/>
	</handlers>
       <sdk> 
      <js-sdk>  
        <name>ele-rn-channel</name>  
        <version>3.0</version>  
          <!-- 注意：组件热更新不可控，暂时不使用》每次发布请使用大版本与代码中相同，并且更新大版本（x.y中的x); -->
          <!-- https://reference.doc.101.com/appfactory/userguide/#/light/js-sdk/version-rule -->
        <ios/>  
        <android> 
          <react-class>com.nd.sdp.android.ele.rncommon.react.EleRnCommonProvider</react-class> 
        </android> 
      </js-sdk> 
    </sdk>
   
    <!-- 在密钥组件中定义 -->
  	<android>
		<class>com.nd.hy.ele.channel.ChannelSpaceComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.android:ele-channel:13.2.0-rc.136@aar') {
			        transitive = true
			        changing = true
			    }

             ]]>
		</dependency>
	</android>
  
  	<react-android>
      <npm>"@sdp.nd/el-channel-rn":"1.2.22"</npm>
    </react-android>
  	<react-ios>
      <npm>"@sdp.nd/el-channel-rn":"1.2.22"</npm>
    </react-ios>
	
   <ios>
      <class>el_channel_ios_component</class>
		<dependency>
			<![CDATA[
				pod 'el_channel_ios', '1.0.121-bugFix1'
             ]]>
		</dependency>
      
	</ios>
  	
  	<flutter>
    	<entry>e_channel_flutter</entry>
       	<dependency>
    	<![CDATA[
			e_channel_flutter: 0.0.8-areaSelector8
        ]]>
    	</dependency>
  	</flutter>
  
</component><component namespace="com.nd.xst" name="x-user-guide" display="X-启动引导">
	<pages>
      <page type="cmp" name="debug" display="调试" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="guide" display="X学习-启动引导页" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
       <property type="page" name="ios_guide_finish_page_agree" displayName="iOS引导结束跳转页(同意用户协议)"/>
       <property type="page" name="ios_guide_finish_page_refuse" displayName="iOS引导结束跳转页（拒绝用户协议）"/>
       <property type="page" name="android_guide_finish_page_agree" displayName="Android引导结束跳转页(同意用户协议)"/>
       <property type="page" name="android_guide_finish_page_refuse" displayName="Android引导结束跳转页（拒绝用户协议）"/>
       <property type="int" name="guide_version" displayName="引导页版本"/>
       <group name="guide_pic_group" displayName="引导图" max-repeat="10">
            <property type="image" name="guide_pic" senior="true" os="Android" displayName="引导图" value="" accept="png,jpeg">
                <transfer os="Android" resize="@xxxhdpi"/>
                <transfer os="iOS"/>
                <validator type="length" rule="(2,30)"/>
            </property>
       </group>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
	<android>
  		<class>com.nd.sdp.android.ug.UserGuideComInit</class>
      	<dependency>
            def userGuideVersion = "3.2.0-rc08"
        	compile "com.nd.sdp.android:x-user-guide:${userGuideVersion}"
        </dependency>
        <groovy>
			<![CDATA[
		    	android {
    				packagingOptions {
        				exclude 'META-INF/sdk_release.kotlin_module'
    				}
				}
			]]>
		</groovy>
      	<scenes>
        <scene name="${applicationid}.permission.action_battery_changed" displayName="写文件权限" describe="存储视频文件" isAsk="true" closeable="true" type="permission"/>
        <scene name="android.permission.read_logs" displayName="获取网络状态权限" describe="判断网络状态" isAsk="true" closeable="true" type="permission"/>
        <scene name="${applicationid}.permission.connectivity_action" displayName="网络权限" describe="接口请求" isAsk="true" closeable="true" type="permission"/>
      </scenes>
  	</android>
  
  	<ios>
        <class>XUGUserGuideComponent</class>
        <dependency>
        	<![CDATA[
           		pod 'x_user_guide_ios', '0.0.8'
            ]]>
      	</dependency>
    </ios>
  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      <providers>
        	<provider name="com.nd.xst.x-user-guide.provider" filter="com.nd.xst.x-user-guide.provider" desc="获取是否需要显示闪屏" iosClass="XUGGuideDataProvider" anClass="com.nd.sdp.android.ug.UserGuideProvider"/>
      </providers>
	</runtime>
</component><component namespace="com.nd.sdp.component" name="elearning-exam-player" display="教育-测评-测评V3" type="function_library">
	
  <pages>
        <page type="cmp" name="pk_list" display="PK列表" toplevel="1"/>
    	<page type="cmp" name="wq_set" display="错题本" toplevel="1"/>
        <page type="cmp" name="periodic_exam_list" display="周期性考试列表" toplevel="1"/>
        <page type="cmp" name="questionnaire_test" display="问卷测试" toplevel="1"/>
    	<page type="cmp" name="sample_wq_test" display="错题本测试" toplevel="1"/>
	</pages>
  
   <properties>
		 <property type="bool" name="is_sdp_debug" displayName="调试模式是否开启">
		</property>
     <property type="bool" name="close_view_pager_anim" displayName="是否关闭ViewPager滑动动画" value="false"/>
     <property type="bool" name="qti_player_gray" displayName="qtiplayer是否渲染为黑白" value="false"/>
     <property type="enum" name="qti_player_theme" displayName="qtiplayer样式">
       	 <options multi="false">
             <option value="default">默认</option>
         	 <option value="eda">EDA</option>
         	 <option value="xstudy">X学习</option>
         </options>	
     </property>
  </properties>
  
    <runtime>
    <properties>      
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开iOS启延迟初始化" value="true"/>
    </properties>
  </runtime>
  
     <handlers>
       <handler name="not-ios://show_quiz_player_view" desc="显示题目" receive_event="show_quiz_player_view"/>
       
       <handler name="ios://receiveEventHandler_button" desc="证书按钮" receive_event="event_elecertificate_exam_bottom_button_change"/> 
       <handler name="ios://receiveEventHandler_cerChooseSelf" desc="跳转至证书tab" receive_event="event_elecertificate_go_chapter_tab"/>   
       <handler name="ios://receiveEventHandler_can_apply_certificate" desc="提示是否可领取证书" receive_event="event_elecertificate_check_cer_can_apply_without_alert"/>
       <handler name="ios://receiveEventHandler_PREvent" desc="PR事件" receive_event="com.nd.sdp.component.questiontraining.send_message"/> 
       <handler name="ios://requestOralTrainingDataEvent" desc="获取口语训练题目数据" receive_event="requestOralTrainingData"/>
       <handler name="ios://requestOralTrainingConfigsEvent" desc="获取口语题配置信息" receive_event="requestOralTrainingConfigs"/> 
       <handler name="ios://submitOralTrainingAnswersEvent" desc="提交口语训练答案数据" receive_event="submitOralTrainingAnswers"/> 
       <handler name="ios://requestOralTrainingAnalysisEvent" desc="获取口语作答解析信息" receive_event="requestOralTrainingAnalysis"/> 
       <handler name="ios://requesAnalyseDataEvent" desc="获取颗粒答案数据" receive_event="requestAnalysisData"/>
       <handler name="ios://event_handler_enroll_view" desc="获取报名状态" receive_event="event_get_enroll_view"/>
       <handler name="ios://setMarkFrameDataEvent" desc="配置批改数据" receive_event="event_set_mrakFrameData"/>
       <handler name="ios://getMarkFrameViewEvent" desc="获取批改frame试图" receive_event="event_get_mrakFrameView"/>
       <handler name="ios://submitAutoMarkSucessEvent" desc="自动批改成功" receive_event="event_submit_autoMark_sucess"/>
       <handler name="ios://questionExampleEvent" desc="AI查看范例" receive_event="event_AIExercise_questionExample_click"/>
       <handler name="ios://gotoExamAIEvent" desc="AI事件去考试" receive_event="event_AIExercise_gotoExam_click"/>
       <handler name="ios://notTipAIEvent" desc="AI事件不再提示" receive_event="event_AIExercise_notTip_click"/>
       <handler name="ios://receivePushUserExamSessionResultEvent" desc="考试结果推送" receive_event="user_exam_session_result"/>
  </handlers>
  
  	<android>
		<class>com.nd.sdp.eval.main.BizComponent</class>
		<dependency>
		<![CDATA[
			compile('com.nd.sdp.android:edu-eval-main:0.0.1-beta.52')
			compile('com.nd.ele.android.exp:exam-player-main:9.0.0-beta.18')
		]]>
		</dependency>
      <scenes>
     </scenes>
	</android>
  
	<ios>
		<class>Elearning_EXPComponent</class>
		<dependency>
			<![CDATA[
			pod 'elearning_exam_player', '2.3.143-qtiplayer6'
             ]]>
		</dependency>

	</ios>
</component><component namespace="com.nd.sdp.component" name="muicapturelib" display="[AQI] 拍摄控件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
   <android>    
		<dependency>
			<![CDATA[
            compile 'com.nd.sdp.android.common:nd-camera:3.0.5-release.2'
             ]]>
		</dependency>   
     <scenes>
       <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="存储权限" describe="保存图片到本地" isAsk="true" closeable="true" type="permission"/>
       <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="存储权限" describe="读取本地文件" isAsk="true" closeable="true" type="permission"/>
       <scene name="android.permission.CAMERA" displayName="相机权限" describe="拍摄需要的权限" isAsk="true" closeable="true" type="permission"/>
       <scene name="android.permission.RECORD_AUDIO" displayName="录音权限" describe="拍摄视频需要的权限" isAsk="true" closeable="true" type="permission"/>
    </scenes>
</android>
   	<ios>
      <!-- 代码需要改进，在模拟器运行时应该能够提示不支持 -->
      <dependency>
        <![CDATA[
            pod 'MUICaptureViewController', '1.0.29'
		]]>
      </dependency>
      <scenes>
        <scene name="NSCameraUsageDescription" describe="为了给予拍摄控件相机功能"/>
        <scene name="NSPhotoLibraryUsageDescription" describe="为了给予拍摄控件相册功能"/>
        <scene name="NSPhotoLibraryAddUsageDescription" describe="为了给予拍摄控件相册功能"/>
        <scene name="NSMicrophoneUsageDescription" describe="为了给予拍摄控件麦克风功能"/>
      </scenes>
  	</ios>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
</component><component namespace="com.nd.sdp.courseware" name="courseware-exercise-weaver" display="颗粒-非作答" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
  	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>

  <android>
    	<scenes>
   <scene name="android.permission.INTERNET" displayName="网络权限" describe="请求和获取习题答案数据" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.change_wifi_state" displayName="wifi权限" describe="监听wifi的变化" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.vibrate" displayName="程序振动" describe="习题作答结果反馈可以控制设备振动提示" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.kill_background_processes" displayName="结束后台进程" describe="允许应用清理后台进程" isAsk="true" closeable="false" type="permission"/>
</scenes>
		<class>com.nd.sdp.courseware.exerciseweaver.ExerciseWeaverComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.courseware:exercise-weaver:1.1.5.16') {
			        transitive = true
			        changing = true
			    }
             ]]>
		</dependency>
 
	</android>
  
    <ios>
		<class>ExerciseWeaverComponent</class>
		<dependency>
			<![CDATA[
               pod 'exercise_weaver', '1.0.25'
             ]]>
		</dependency>
      <privacies>
        <privacy name="NSMicrophoneUsageDescription"/>
    </privacies>   
	</ios>
</component><component namespace="com.nd.sdp.courseware" name="courseware-exercise-master" display="颗粒-作答" type="library">
	<pages>
	</pages>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<properties>
        <property type="bool" name="exercise-oral" displayName="口语题" value="false">
          <dependency>
            <component namespace="com.nd.sdp.courseware" name="exercise-oral"/>
          </dependency>
        </property>
        <property type="bool" name="exercise-dictation-cn" displayName="汉字听写题" value="false">
          <dependency>
            <component namespace="com.nd.sdp.courseware" name="exercise-dictation-cn"/>
          </dependency>
        </property>
        <property type="bool" name="exercise-dictation-en" displayName="单词听写题" value="false">
          <dependency>
            <component namespace="com.nd.sdp.courseware" name="exercise-dictation-en"/>
          </dependency>
        </property>
	</properties>
  
    <android>
      	<scenes>
   <scene name="android.permission.INTERNET" displayName="网络权限" describe="请求和获取习题数据、并支持在线提交答案以及附件数据" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="读写权限" describe="将习题答案数据持久化到外部存储空间" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读写权限" describe="查看习题答案和附件资源" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.change_wifi_state" displayName="wifi权限" describe="监听wifi的变化" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.modify_audio_settings" displayName="音频权限" describe="口语类题型的录音和测评功能" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.BLUETOOTH" displayName="访问蓝牙" describe="通用播放组件引入，支持蓝牙播放" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.vibrate" displayName="程序振动" describe="习题作答结果反馈可以控制设备振动提示" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.wake_lock" displayName="进程权限" describe=" 通用播放组件引入，支持后台播放" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.flashlight" displayName="设备权限" describe="媒体播放组件引入，支持播放时调节屏幕亮度" isAsk="true" closeable="true" type="permission"/>
   <scene name="android.permission.record_audio" displayName="录音权限" describe="口语题支持录音功能" isAsk="true" closeable="false" type="permission"/>
   <scene name="android.permission.kill_background_processes" displayName="结束后台进程" describe="允许应用清理后台进程" isAsk="true" closeable="true" type="permission"/>
</scenes>
		<class>com.nd.sdp.courseware.exercisemaster.ExerciseMasterComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.courseware:exercise-master:13.0.1-rc.4') {
			        transitive = true
			        changing = true
			    }
             ]]>
		</dependency>
	</android>
  
    <ios>
		<class>CoursewareExerciseMasterComponent</class>
		<dependency>
			<![CDATA[
               pod 'education_particle_ios', '0.0.78'
             ]]>
		</dependency>
      <privacies>
        <privacy name="NSMicrophoneUsageDescription"/>
    </privacies>   
	</ios>
</component><component namespace="com.nd.xst" name="x-combined-page" display="页面组装工厂">
	<pages>
      <page type="cmp" name="main" display="页面组装测试" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="student_dashboard" display="学生-书桌" toplevel="1" allow_guest="false"/>
      <page type="cmp" name="teacher_workbench" display="教师-工作台" toplevel="1" allow_guest="false"/>
      <page type="cmp" name="combined_page" display="通用装配页面" template="1" toplevel="1" allow_guest="false">
        <properties>
            <property type="string" name="biz_type" displayName="业务类型"/>
            <property type="string" name="biz_page_report_event" displayName="页面浏览上报事件"/>
            <property type="string" name="biz_equipment_terminal" displayName="设备平台" value="pad"/>
            <property type="string" name="biz_ios_config_url" displayName="iOS业务配置地址"/>
            <property type="string" name="biz_android_config_url" displayName="android业务配置地址"/>
        </properties>
      </page>
      <page type="flutter" name="interaction" display="互动容器" toplevel="1" allow_guest="true">
        <params>
          <property type="string" name="url" displayName="数据来源"/>
         </params>
        </page>
	</pages>
	
	<properties>
     
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
 
    <routes>

    </routes>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
    <android>
		<class>com.nd.sdp.android.xst.combinedpage.CombinedPageComponent</class>
		<dependency>
          implementation("com.nd.sdp.android.xst:combined-page:1.0.3-rc02")
          implementation("com.nd.sdp.android.xst:combined-page-sdk:1.0.3-rc02")
        </dependency>
    </android>
  	<ios>
       <class>XCombinedPageComponent</class>
        <dependency>
            <![CDATA[
			pod 'x_combined_page_ios', '0.0.14'
        ]]>
        </dependency>
    </ios>
  <flutter>
      <entry>fx_combined_page</entry>
      <dependency>
		<![CDATA[
			fx_combined_page: 0.0.40
        ]]>
      </dependency>
    </flutter>

</component><component namespace="com.nd.sdp.component" name="flutter-runtime" display="Flutter 运行框架">

  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
  </runtime>

  <android>
    <dependency>
      <![CDATA[
	// 此处开始为Flutter插件中的依赖
	// plugin: appfactory
	implementation('com.nd.android.smartcan:smartcan-appfactory:3.5.42-release.1@aar') {
	transitive = true
	changing = true
	exclude group:'android.support',module:'android-support-v4'
	}
	implementation('com.alibaba:fastjson:1.2.7')
	// plugin: e_medal_flutter
	implementation "com.nd.sdp.spanner:spanner-app-proj:0.0.1-beta.192"
	implementation "com.nd.android.smartcan:smartcan-appfactory:3.5.44-release.2"
	// plugin: fx_core
	implementation("com.nd.sdp.android.xcloud:xcloud-sdk:1.3.3-rc08")
	implementation("com.nd.android.smartcan:smartcan-core-aar:3.5.6-release.1@aar")
	configurations {
	all*.exclude group: 'com.nd.android.smartcan', module: 'smartcan-core'
	}
	// plugin: fx_window_manager
	implementation('com.nd.xst:x-window-manager-sdk:0.2.1-rc01')
	// plugin: spanner_flutter
	implementation "com.nd.sdp.spanner:spanner-app-proj:0.0.1-beta.208"
	implementation "com.nd.android.smartcan:smartcan-appfactory:3.5.48-release.2"
	implementation "com.nd.android.smartcan:smartcan-accountclient-aar:1.3.1.9.ucsdk.release"
	implementation "com.nd.sdp.uc:nducsdk:0.2.0.5.nducsdk.release"
	implementation "com.nd.android.sdp.im:im_group_sdk:23.22.191.release"
	implementation "com.nd.android.smartcan:cs-object-sdk:0.0.8.55.release"
	implementation "com.nd.sdp.ele.android.download:download-core:3.5.7-rc07"
	implementation "com.nd.sdp.android.common:com-nd-permission-check:3.1.9-release.1"
	implementation "com.nd.sdp.android.centralsdk:configuration-central-sdk:3.0.0.13.release"
	implementation "com.nd.android.sdp.common:photopicker:3.11.5-release.1"
	implementation("com.nd.android.sdp.social:module_recorder:13.8.11.release") {
	exclude group: "com.nd.sdp.android.common", module: "com-nd-permission-check"
	}
	implementation "com.nd.android.sdp.social:module_audiorecorder:17.2.18.1c8f15b"
	implementation "com.nd.sdp.android.xcloud:xcloud-ui:1.5.1-rc07"
	// plugin: url_launcher
	compileOnly 'androidx.annotation:annotation:1.0.0'

	// Flutter插件依赖到此结束
      compile('com.nd.sdp.android:apf-flutter:3.0.2-release.1')
      ]]>
    </dependency>
  </android>

  <ios>
    <class>APFFlutterComponent</class>
    <dependency>
      <![CDATA[
      pod 'APFFlutterKit', '1.0.2'
      ]]>
    </dependency>
  </ios>

  <flutter>
    <dependency>
      <![CDATA[
      appfactory_core: 1.2.0
      appfactory: 1.3.34
      ]]>
    </dependency>
  </flutter>

</component><component namespace="com.nd.sdp.component" name="dlna-support" display="【框架扩展】DLNA 支持">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  <android>    
		<dependency>
					<![CDATA[
            compile 'com.nd.sdp.android.common:com-nd-apf-dlna-control:3.0.8-release.1'
            compile 'com.nd.sdp.android.common:com-nd-apf-dlna-extenral:3.0.8-release.1'
android {
   packagingOptions {
        exclude 'META-INF/beans.xml'
    }
compileOptions {
        sourceCompatibility '1.8'
        targetCompatibility '1.8'
    }
}

             ]]>
		</dependency>    
    <scenes>
    <scene name="android.permission.change_wifi_multicast_state" displayName="WIFI状态改变权限" describe="需要监听网络变化" isAsk="true" closeable="true" type="permission"/>
  
</scenes>
</android>
    <ios>
		<dependency>
			<![CDATA[
            pod 'APFDLNASupport', '1.0.13'
             ]]>
		</dependency>
        <scenes>
        	<scene name="NSLocalNetworkUsageDescription" describe="为您提供投屏搜索服务。"/>
        </scenes>
	</ios>
</component><component namespace="com.nd.sdp.component" name="security-transporter" display="通用敏感信息传输加密">
	<pages>
	</pages>
	
	   <properties>
	<property displayName="秘钥加密算法" i18n="false" name="key_algorithm" type="enum" value="SM2">
        <options>
          <option value="SM2">SM2</option>
          <option value="RSA">RSA</option>
        </options>
      </property>
     
     <property displayName="数据加密算法" i18n="false" name="data_algorithm" type="enum" value="SM4">
        <options>
          <option value="SM4">SM4</option>
          <option value="AES">AES</option>
        </options>
      </property>
   </properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
		</properties>
	</runtime>
  
  <android>    
		<class>com.nd.sdp.android.security.transporter.component.SecurityComponent</class>
		<dependency>
				<![CDATA[
			       implementation('com.nd.sdp.android:security-transporter-component:3.0.3-release.1@aar') {
			        transitive = true
			        changing = true
			    }
			       implementation('com.nd.sdp.android:security-transporter-sdk:3.0.3-release.2@aar') {
			        transitive = true
			        changing = true
			    }

             ]]>
		</dependency>    

   
    
</android>
  <ios>
		<class>APFSecurityTransporterComponent</class>
		<dependency>
			<![CDATA[
            pod 'APFSecurityTransporterComponent', '1.0.1'
			pod 'APFSecurityTransporterSDK', '1.0.2'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.xst" name="x-res" display="资源中心_x-res">
	<pages>
      <page type="cmp" name="resDetail" display="资源详情" toplevel="1" allow_guest="true"/>
	</pages>
	
	<properties>
      <property type="txt" name="resource_center_src" displayName="资源中心配置" value="https://api.ykt.cbern.com.cn/zxx/api_static/data/resource_center.json"/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://forInitEvent" receive_event="for_init_event" desc="初始化组件事件"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <providers>
            <provider name="com.nd.xst.x-res.data.provider" filter="com.nd.xst.x-res.data.provider.filter" desc="资源数据" anClass="com.nd.sdp.android.xst.res.core.provider.XstResProvider" iosClass="XResDataProvider"/>
	    </providers>
	</runtime>
  <android>
		<class>com.nd.sdp.android.xst.res.core.XstResComponent</class>
		<dependency>
        	<![CDATA[
       		    implementation "com.nd.sdp.android:xst-res:1.0.3-rc09"
             ]]>
		</dependency>
	</android>
    <ios>
        <class>XResCenterComponent</class>
        <dependency>
            <![CDATA[
			pod 'xst_res_ios', '0.0.49'
        ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp" name="dyn-access-control" display="动态访问控制-业务组件">
	<pages>
      <page type="cmp" name="login_transform" display="拦截登录中转页" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="test" display="测试页面" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="block" display="拦截提示页面" toplevel="2" allow_guest="true"/>
      <page type="cmp" name="notImplementPage" display="用于页面拦截（否则会到工厂默认出错提示页）" toplevel="2" allow_guest="true"/>
	</pages>
	<properties>
       	<property type="txt" name="access_control_config_android" displayName="配置文件Android地址" value="https://api.ykt.cbern.com.cn/zxx/api_static/conf/dynamic_access_config.json"/>
        <property type="txt" name="access_control_config_ios" displayName="配置文件iOS地址" value="https://api.ykt.cbern.com.cn/zxx/api_static/conf/dynamic_access_config_ios.json"/>
	</properties>
  	
	<events>
	</events>

	<handlers>
      <handler name="ios://forInitEvent" receive_event="for_init_event" desc="初始化组件事件"/>
      <handler name="ios://registerFlowControl" desc="注册限流页面代理" receive_event="register_flow_control"/>
      <handler name="not-ios://register_flow_control" desc="注册限流页面代理" receive_event="register_flow_control"/>
   </handlers>
  
	<runtime>
      <properties>
        <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
        <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
      </properties>
      <gradles name="动态访问网络拦截器"> 
  			<android-project-gradle-classpaths displayName="动态访问网络拦截器 plugin"> 
    			<classpath value="com.nd.sdp.android:gradle-dynamic-access-interceptor:1.0.3-rc01"/> 
  			</android-project-gradle-classpaths>  
  			<android-app-gradle-applys displayName="动态访问网络拦截器 plugin id"> 
    			<apply value="dynamic-access-network"/> 
  			</android-app-gradle-applys>
		</gradles>
	</runtime>
  
    <android>
      <class>com.nd.dynamic.controller.DynamicControllerComponent</class>
      <dependency>
              implementation "com.nd.sdp.android:dynamic-access-control:0.1-rc02"
        </dependency>
      <groovy>
        <![CDATA[
         gts {
            applyFrom("http://git.sdp.nd/mobile/res/raw/master/x-study/generateDynamicAccessConfig.groovy")
          }
         ]]>
        </groovy>
    </android>
  	<ios>
        <class>DynamicAccessControlComponent</class>
        <dependency>
            <![CDATA[
			pod 'dyn_access_control_ios', '0.0.27'
        ]]>
        </dependency>
      <ruby>
            <entry>XCBProBuildExecutor</entry>
            <dsl>
                <pre_dependency_install>
                    <![CDATA[
                          require 'pathname'
                          require 'json'

                          access_control_config_ios = ""
                          common_id = "com.nd.sdp.dyn-access-control"
						  current_dir = Pathname(Dir.pwd)
 						  build_json = current_dir.join("app/assets/app_factory/zh-CN/components/build.json")
                          build_json_content = File.read(build_json)
                          items = JSON.parse(build_json_content)
                          items.each do |item|
                            component_id = item['component']['namespace'] + '.' + item['component']['name']
                            if component_id == common_id 
                              access_control_config_ios = item["properties"]["access_control_config_ios"]
                              puts "### access_control_config_ios #{access_control_config_ios} "
                            end
                          end
                          
                          uri = URI(access_control_config_ios)
                          access_control_config = Net::HTTP.get(uri)
                          common_bundle = common_id + "_skin.bundle"
                          if access_control_config.include?("NoSuchKey") 
                            puts "### error"
                          else 
                            file_name = "**/"+common_bundle+"/dynamic_access_config_mock.json"
                            files =  Dir.glob(current_dir.join(file_name))
                            files.each do |json_path|
                              puts "### #{json_path} "
                              file = File.open(json_path, "w") { |f| f << access_control_config }
                            end
                          end
                    ]]>
                </pre_dependency_install>
            </dsl>            
        </ruby>
    </ios>
  
</component><component namespace="com.nd.sdp.component" name="el-smartlink" display="教育-二维码">
	<pages>
         <page type="cmp" name="test" display="二维码测试入口" toplevel="1" allow_guest="true"/>
         <page type="cmp" name="opensmartlink" display="打开smartlink页面" toplevel="2" allow_guest="true"/>
	</pages>
	
	<properties>
       <property type="bool" name="is_load_gif" displayName="启用gif加载动画" value="false"/>
	</properties>
	
	<events>
	</events>

	<handlers>
            <handler name="qrcodeShare" desc="分享二维码" receive_event="smartlink_qrcode_share"/>
            <handler name="qrcodeScan" desc="通过smartlink扫描二维码" receive_event="smartlink_qrcode_scan"/>
            <handler name="generateQrcodeBitmap" desc="生成二维码图片" receive_event="smartlink_generate_qrcode_image"/>
            <handler name="smartLink" desc="应用内扫码事件" receive_event="smartlink"/>
            <handler name="qrcodeShareItem" desc="获取二维码分享item信息" receive_event="smartlink_qrcode_share_item"/>
      		<handler name="generateLink" desc="生成链接" receive_event="smartlink_generate_link"/>
            <handler name="registerFlowControl" desc="注册限流页面代理" receive_event="register_flow_control"/>
	</handlers>

    <android>
		<class>com.nd.sdp.android.ele.smartlink.SmartLinkComponent</class>
		<dependency>
			<![CDATA[
              compile 'com.nd.sdp.android:ele-smart-link:13.0.12-rc.12'
         ]]>
          
		</dependency>
	</android>
  
    <scenes>
        <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="允许写入外部存储" describe="" isAsk="true" closeable="true" type="permission"/>
    </scenes>
  
  
	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
   <ios>
     <class>ELSmartLComponent</class>
		<dependency>
			<![CDATA[
            	pod 'el_smartlink_ios', '1.2.11'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component.im" name="suspentionwindow" display="悬浮窗组件" type="library">
	<pages>
	</pages>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
		</properties>
	</runtime>
  
    <ios>
        <class>SuspensionWindowComponent</class>
        <dependency>
            <![CDATA[
 				pod 'MUISuspensionWindow', '1.0.63'
               ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="ele-compulsory-learning-business" display="教育-学习-学习任务">
  <pages>
    	<page type="cmp" name="test" display="测试页面" toplevel="1" allow_guest="false"/>
      	<page type="cmp" name="tasklist" display="任务列表" toplevel="1" allow_guest="false"/>
        <page type="cmp" name="taskdetail" display="任务详情" toplevel="2" allow_guest="false"/>
	</pages>

	<properties>
      	<property type="bool" name="isUCSync" displayName="是否触发账号同步" value="false"/>
        <property type="string" name="tenantId" displayName="租户ID配置" value=""/>
	</properties>

	<events>
	</events>

	<handlers>
	</handlers>
	<handlers>
	</handlers>

  	<runtime>
    	<properties>
          	<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
          	<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
    	</properties>
  	</runtime>

  	<android>
		<class>nd.sdp.elearning.studytasks.ElStudyTasksComponent</class>
		<dependency>
			<![CDATA[
				compile('nd.sdp.elearning:elearning-study-tasks:13.1.5-rc.1') {
			        transitive = true
			        changing = true
			    }
                android {
                    packagingOptions {
                    	exclude 'LICENSE.txt'
	            	}
          		}
      		]]>
		</dependency>
       <scenes>
   <scene name="android.permission.INTERNET" displayName="网络权限" describe="框架提供网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
  </scenes> 
	</android>

	<ios>
        <class>ElearningMyTask_Componment</class>
		<dependency>
			<![CDATA[
         		pod 'elearn_study_mytask', '1.0.33'
        	]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="ele-my-study" display="教育-学习-我的学习" type="function_library">
	<pages>
       <page type="cmp" name="main" display="我的学习-首页" toplevel="1"/>
       <page type="cmp" name="test" display="我的学习-QA" toplevel="1"/>
       <page type="cmp" name="learningCenter" display="学习中心" toplevel="1"/>
       <page type="cmp" name="studies" display="vod学习" toplevel="1"/>
	</pages>

    <runtime>
    	<properties>      
      		<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>   
           <property type="bool" name="lazy_init_ios" displayName="是否开iOS启延迟初始化" value="true"/>
    	</properties>
        <providers>
        	<provider name="com.nd.sdp.component.ele-my-study.search" filter="com.nd.sdp.component.ele-my-study.search.filter" desc="获取搜索数据" iosClass="HYELSearchProvider"/>
    	</providers>
  	</runtime>  
  
	<properties>
      <property type="string" name="ele_menu" displayName="首页菜单栏选项" value="search,qa,download,collection,report">
        <tip>search(搜索)、qa(答疑)、download(下载管理)、faq(选课说明)、collection(收藏)、mine(我)、shopping_cart(购物车)、order(订单)、report(学习报告)</tip>
        </property>
		<property type="bool" name="hide_top_fun" displayName="隐藏头部功能区域" value="false" senior="false">
           <tip>头部功能区域</tip>
           <img src="http://wiki.sdp.nd/images/d/d3/20160808-03.jpg"/>
        </property>
        <property type="bool" name="show_task" displayName="列表以任务模式显示" value="false" senior="false">
           <tip>任务模式</tip>
           <img src="http://wiki.sdp.nd/images/b/b2/20160808-02.jpg"/>
        </property>
      <property type="bool" name="learning_delete_support" displayName="学习中列表是否可删除" value="false" senior="false">
           <tip>学习中列表是否可进行删除操作</tip>
        <img src="http://wiki.sdp.nd/images/thumb/4/48/20160822003.jpg/400px-20160822003.jpg"/> 
        </property>
      <property type="string" name="tab_title_learning" displayName="tab页标题-学习中" value="" senior="false">
           <tip>tab页标题-学习中</tip>
           <img src="http://wiki.sdp.nd/images/9/99/20161013001.jpg"/> 
        </property>

      <property type="string" name="tab_title_completed" displayName="tab页标题-已完结" value="" senior="false">
           <tip>tab页标题-已完结</tip>
           <img src="http://wiki.sdp.nd/images/9/99/20161013001.jpg"/> 
        </property>
      <property type="string" name="tab_title_obligations" displayName="tab页标题-报名中" value="" senior="false">
           <tip>tab页标题-报名中</tip>
          
        </property>
       <property type="bool" name="hide_study_statistic" displayName="是否隐藏顶部学习统计区域" value="false" senior="false">
           <tip>"是否隐藏顶部学习统计区域</tip>
           <img src="http://wiki.sdp.nd/images/7/72/20170112113501.png"/> 
        </property>
       <property type="bool" name="hide_study_exam" displayName="是否隐藏测评" value="false" senior="false">
           <tip>"是否隐藏测评</tip>
        </property>
         <property type="string" name="tab_title_require" displayName="tab页标题-必修课" value="" senior="false">
           <tip>tab页标题-必修课</tip> 
        </property>
       <property type="bool" name="show_require" displayName="是否显示必修课" value="false" senior="false">
           <tip>学习中列表是否显示必修课</tip>
        </property>
        <property type="bool" name="hide_certificate" displayName="是否隐藏证书" value="false" senior="false">
           <tip>是否隐藏证书</tip>
        </property>
       <property type="string" name="errorBook_cmp" displayName="错题本cmp" value="" senior="false">
           <tip>错题本cmp配置</tip>
        </property>
       <property type="string" name="QAcmp" displayName="答疑cmp" value="" senior="false">
           <tip>答疑cmp配置</tip>
              </property> 
      
      <property name="open_filter_button" value="true" type="bool" displayName="是否开启筛选按钮">
         	<tip>学习列表页面右上角的筛选按钮</tip>
        </property>
      
      <property name="open_search_button" value="true" type="bool" displayName="是否开启搜索按钮">
         	<tip>学习列表页面右上角的搜索按钮</tip>
        </property>
      
	</properties>
	
	<events>
	</events>


  <handlers>      
  </handlers>
	<android>
		<class>com.nd.hy.android.elearning.mystudy.EleMyStudyComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.android:el-my-study:13.7.8-rc.4@aar') {
                    exclude module: 'active-android'
			        transitive = true
			        changing = true
			    }
                android {
	              	packagingOptions {
	              		exclude 'LICENSE.txt'
	            	}
				}
             ]]>
		</dependency>
	</android>

	<ios>
		<class>Elearn_my_studyComponent</class>
		<dependency>
			<![CDATA[
            pod 'elearn_my_study', '8.5.91'
			pod 'el_learning_card_ios', '8.1.9'
             ]]>
		</dependency>
	</ios>
</component><component namespace="com.nd.xst" name="mob-stat-sa" display="X-神策分析" type="function_library">
	<pages>
	</pages>
	
	<properties>
        <property type="string" name="android.sa.key" displayName="安卓-APPID" value="xstudy_android"/>
        <property type="string" name="ios.sa.key" displayName="iOS-APPID" value="xstudy_ios"/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://onReveiveSensorEvent" receive_event="appfactory_data_analytics_sensor_event" desc="收到神策埋点事件"/>
      <handler name="ios://onStartLogPageEvent" receive_event="xst_start_log_page_event" desc="页面开始"/>
	  <handler name="ios://onEndLogPageEvent" receive_event="xst_end_log_page_event" desc="结束页面"/>
      <handler name="ios://receiveUserAcceptAgreement" receive_event="KEY_USER_ACCEPT_AGREEMENT_EVENT_ASYNC" desc="同意用户协议监听"/>
      <handler name="ios://refuseUserAcceptAgreement" receive_event="KEY_USER_REFUSE_AGREEMENT_EVENT_ASYNC" desc="拒绝用户协议监听"/>
      <handler name="ios://notifyIdentityChangedEvent" receive_event="userinfo_event_refresh_data_source" desc="用户角色发生切换"/>
      <handler name="ios://fromAppStatToSaStartPage" receive_event="appfactory_data_analytics_sa_start_page" desc="来自应用统计的页面埋点-进入"/>
      <handler name="ios://fromAppStatToSaEndPage" receive_event="appfactory_data_analytics_sa_end_page" desc="来自应用统计的页面埋点-离开"/>
      <handler name="ios://xst_put_global_property" desc="添加全局变量" receive_event="xst_put_global_property"/>
      <handler name="ios://xst_remove_global_property" desc="移除全局变量" receive_event="xst_remove_global_property"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <gradles name="sc-plugin">
            <android-project-gradle-classpaths displayName="plugin sensorsdata">
                <classpath value="com.sensorsdata.analytics.android:android-gradle-plugin2:3.4.9"/>
            </android-project-gradle-classpaths>
            <android-app-gradle-applys displayName="plugin sensorsdata">
                <apply value="com.sensorsdata.analytics.android"/>
            </android-app-gradle-applys>
        </gradles>
	</runtime>
  
    <android>
        <dependency>
        <![CDATA[
    implementation 'com.nd.mob.stat:ext-sc:1.0.8-rc12'
    implementation 'com.nd.xst.android:sa-sdk:0.1-rc08'
        ]]>
        </dependency>
    </android>
  
    <ios>
        <class>mob_stat_saComponent</class>
        <dependency>
            <![CDATA[
                pod 'mob_stat_sa', '1.0.39'
               ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.xst" name="mob-stat-sa" display="X-神策分析" type="function_library">
	<pages>
	</pages>
	
	<properties>
        <property type="string" name="android.sa.key" displayName="安卓-APPID" value="xstudy_android"/>
        <property type="string" name="ios.sa.key" displayName="iOS-APPID" value="xstudy_ios"/>
	</properties>
	
	<events>
	</events>

	<handlers>
      <handler name="ios://onReveiveSensorEvent" receive_event="appfactory_data_analytics_sensor_event" desc="收到神策埋点事件"/>
      <handler name="ios://onStartLogPageEvent" receive_event="xst_start_log_page_event" desc="页面开始"/>
	  <handler name="ios://onEndLogPageEvent" receive_event="xst_end_log_page_event" desc="结束页面"/>
      <handler name="ios://receiveUserAcceptAgreement" receive_event="KEY_USER_ACCEPT_AGREEMENT_EVENT_ASYNC" desc="同意用户协议监听"/>
      <handler name="ios://refuseUserAcceptAgreement" receive_event="KEY_USER_REFUSE_AGREEMENT_EVENT_ASYNC" desc="拒绝用户协议监听"/>
      <handler name="ios://notifyIdentityChangedEvent" receive_event="userinfo_event_refresh_data_source" desc="用户角色发生切换"/>
      <handler name="ios://fromAppStatToSaStartPage" receive_event="appfactory_data_analytics_sa_start_page" desc="来自应用统计的页面埋点-进入"/>
      <handler name="ios://fromAppStatToSaEndPage" receive_event="appfactory_data_analytics_sa_end_page" desc="来自应用统计的页面埋点-离开"/>
      <handler name="ios://xst_put_global_property" desc="添加全局变量" receive_event="xst_put_global_property"/>
      <handler name="ios://xst_remove_global_property" desc="移除全局变量" receive_event="xst_remove_global_property"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <gradles name="sc-plugin">
            <android-project-gradle-classpaths displayName="plugin sensorsdata">
                <classpath value="com.sensorsdata.analytics.android:android-gradle-plugin2:4.0.3"/>
            </android-project-gradle-classpaths>
            <android-app-gradle-applys displayName="plugin sensorsdata">
                <apply value="com.sensorsdata.analytics.android"/>
            </android-app-gradle-applys>
        </gradles>
	</runtime>
  
    <android>
        <dependency>
        <![CDATA[
    implementation 'com.nd.mob.stat:ext-sc:1.1.1-rc01'
    implementation 'com.nd.xst.android:sa-sdk:0.2-dev05'
        ]]>
        </dependency>
    </android>
  
    <ios>
        <class>mob_stat_saComponent</class>
        <dependency>
            <![CDATA[
                pod 'mob_stat_sa', '1.0.43'
               ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="e-user-info" display="教师-信息档案">
	<pages>
    	<page type="cmp" name="debug" display="调测页面" toplevel="1" allow_guest="true"/>
      	<page type="cmp" name="mine_profile" display="个人信息" toplevel="2"/>
      	<page type="cmp" name="complete_mine_profile" display="完善个人信息" toplevel="2"/>
	</pages>

  	<routes>
      	<route source="cmp://com.nd.sdp.component.e-teacher-studio/mine_profile" destination="cmp://com.nd.sdp.component.e-user-info/mine_profile"/>
      	<route source="cmp://com.nd.sdp.component.e-teacher-studio/complete_mine_profile" destination="cmp://com.nd.sdp.component.e-user-info/complete_mine_profile"/>
	</routes>
	
	<properties>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
	</runtime>
  
  	<android>
		<class>com.nd.sdp.user.info.BizComponent</class>
		<dependency>
		<![CDATA[
			compile('com.nd.sdp.android:e-user-info:0.0.1-beta.36')
		]]>
		</dependency>
	</android>
  
  	<ios>
        <class>EUIUserInfoComponent</class>
    	<dependency>
    	<![CDATA[
			 pod 'e_user_info_ios', '0.0.15'
        ]]>
    	</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="e-teacher-community" display="强师-胶水组件">
	<pages>
    	<page type="cmp" name="debug" display="调测页面" toplevel="1" allow_guest="true"/>
      	<page type="cmp" name="mine_train_list" display="我的培训" toplevel="2"/>
      	<page type="cmp" name="mine_train_hours" display="我的培训学时" toplevel="2"/>
	</pages>

  	<routes>
      	<route source="cmp://com.nd.sdp.component.e-teacher-studio/mine_train_list" destination="cmp://com.nd.sdp.component.e-teacher-community/mine_train_list"/>
      	<route source="cmp://com.nd.sdp.component.e-teacher-studio/mine_train_hours" destination="cmp://com.nd.sdp.component.e-teacher-community/mine_train_hours"/>
	</routes>
	
	<properties>
      <property type="bool" name="show_study_hour" displayName="显示学时" value="true"/>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
      	<providers>
            <provider name="com.nd.xst.master.glue.provider" filter="com.nd.xst.master.glue.provider.filter" desc="胶水业务" anClass="com.nd.sdp.community.teacher.support.provider.MasterGlueDataProvider" iosClass="ETCMasterTrainDataProvider"/>
          	<provider name="com.nd.xst.teacher.glue.provider" filter="com.nd.xst.teacher.glue.provider.filter" desc="胶水业务" anClass="com.nd.sdp.community.teacher.support.provider.TeacherGlueDataProvider" iosClass="ETCTeacherGlueProvider"/>
          	<provider name="com.nd.xst.teacher.train.provider" filter="com.nd.xst.teacher.train.provider.filter" desc="教师培训" anClass="com.nd.sdp.community.teacher.support.provider.TeacherTrainDataProvider" iosClass="ETCTeacherTrainDataProvider"/>
        </providers>
	</runtime>
  
  	<android>
		<class>com.nd.sdp.community.teacher.BizComponent</class>
		<dependency>
		<![CDATA[
			compile('com.nd.sdp.android:e-teacher-community:0.0.1-beta.47')
		]]>
		</dependency>
	</android>
  
  	<ios>
    	<class>ETCTeacherCommunityComponent</class>
    	<dependency>
    	<![CDATA[
			pod 'e_teacher_community_ios', '0.0.17-master2'
        ]]>
    	</dependency>
	</ios>
</component><component namespace="com.nd.sdp.component" name="model-app" display="个人资料（轻应用）">
	<pages>
      <page type="local" name="index.html" display="个人信息表单模板组件" toplevel="2" android_class="">
      	<params>
          <param key="name">userinfo</param>
          <param key="close">false</param>
          <param key="_maf_left_button">back</param>
          <param key="_maf_webview_title">...</param>
		</params>
      </page>
    </pages>
    <properties>
      <property type="enum" name="avatar" displayName="默认头像网络" value="color">
        <options multi="false">
          <option value="grey">灰色</option>
          <option value="color">彩色</option>
        </options>
      </property>
      <property type="string" name="name" displayName="模板名称" value="userinfo"/>
      <property type="bool" name="close" displayName="显示关闭按钮" value="false"/>
      <property type="enum" name="_maf_left_button" displayName="返回按钮响应" value="back">
        <options multi="false">
          <option value="back">回退</option>
          <option value="close">关闭</option>
          <option value="none">不显示</option>
        </options>
      </property>
      <property type="bool" name="award" displayName="开启完善奖励显示" value="false"/>
      <property type="bool" name="privacy" displayName="开启隐私入口" value="false"/>
    </properties>
	<events>
	</events>

	<handlers>
	</handlers>
  	<h5>
      <version>1.60.63</version>
      <npm>
        "@sdp.nd/model-h5":"1.60.63"
      </npm>
      <h5app>model-h5</h5app>
    </h5>
    <runtime>
      <properties>
          <property name="lazy_init_android" value="false" type="string"/>
      </properties>
    </runtime>
</component><component namespace="com.nd.sdp.component" name="elearn-enroll" display="教育-扩展-报名" type="function_library">
	<pages>
        <page type="cmp" name="enroll" display="报名信息填写页" toplevel="1"/>
        <page type="cmp" name="enrollinfo" display="报名详情页" toplevel="1"/>
      	<page type="cmp" name="enrolltest" display="测试页面" toplevel="1"/>
	</pages>
	
	<runtime>
    	<properties>      
      		<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>  
            <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
    	</properties>
      	<providers>
              <provider name="com.nd.sdp.component.elearn-enroll.provider" filter="com.nd.sdp.component.elearn-enroll.provider.filter" desc="provider的声明" anClass="com.nd.hy.android.enroll.provider.EnrollProvider" iosClass="ELEnrollProvider"/> 
        </providers>
  	</runtime>
  
	<properties>
	</properties>
	
	<events>
	</events>

    <handlers>
      <handler name="ios://payct_event_pay_result" desc="支付消息" receive_event="payct_event_pay_result"/>
      <handler name="ios://providerPayResult" desc="VOD支付消息" receive_event="EVENT_NOTIFY_ENROLL_PAY_RESULT"/>
      <handler name="ios://enrollNotifyBecomeCadet" desc="VOD 0元购成功消息" receive_event="EVENT_NOTIFY_ENROLL_BECOME_CADET"/>
      <handler name="ios://generateEnrollStatusView" desc="报名页面" receive_event="elenroll_event_get_view"/>
      <handler name="ios://refreshEnrollStatusView" desc="刷新数据" receive_event="elenroll_event_update_data"/>
      <handler name="ios://enrollGetPromotionAndVIPView" desc="促销返回视图" receive_event="elenroll_event_get_promotionAndVIPView"/>
      <handler name="ios://enrollPrepareAddCarOrBuy" desc="准备加入购物车" receive_event="elenroll_event_prepare_addCarOrBuy"/>
      <handler name="ios://enrollCheckAndEnrollBeforePay" desc="购买前通知先报名" receive_event="EVENT_CHECK_ENROLL_STATUS_BEFORE_PAY"/>
      <handler name="ios://enrollPayViewUpdateState" desc="通知付费视图（按钮）状态有变更" receive_event="EVENT_NOTIFY_ENROLL_PAY_INFO_VIEW_UPDATE_STATE"/>
      <handler name="ios://event_load_sessionListEnrollInfo" desc="加载场次列表报名信息" receive_event="event_load_sessionListEnrollInfo"/>
	</handlers>
  
  	<android>
		<class>com.nd.hy.android.enroll.EnrollComponent</class>
		<dependency>
			<![CDATA[
			    compile('com.nd.sdp.android:e-enroll:13.8.7.3-rc.1@aar')  {
			        transitive = true
			        changing = true
			    }
             ]]>
		</dependency>
      
      <scenes>
         <scene name="android.permission.WRITE_EXTERNAL_STORAGE" displayName="写文件权限" describe="存储日志" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.READ_EXTERNAL_STORAGE" displayName="读取文件权限" describe="读取日志" isAsk="true" closeable="true" type="permission"/>
         <scene name="android.permission.CAMERA" displayName="摄像权限" describe="摄像需要" isAsk="true" closeable="true" type="permission"/>
      </scenes>
      
	</android>

  <ios>
		<class>ElearnEnroll2Component</class>
		<dependency>
			<![CDATA[
            pod 'elearn_enroll', '5.3.88'
             ]]>
		</dependency>

	</ios>
  
</component><component namespace="com.nd.sdp.component" name="xcloud-class-activity" display="X学习-课时活动">
	<pages>
      <page type="cmp" name="playActivity" display="课时活动播放" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="nationalLesson" display="课时活动" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="qualityCourse" display="精品课" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="playVideo" display="播放视频" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="playDocument" display="播放文档" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="playDownloadVideo" display="播放离线视频" toplevel="1" allow_guest="true"/>
      <page type="cmp" name="playDownloadDocument" display="播放离线文档" toplevel="1" allow_guest="true"/>
	</pages>
	
	<properties>
      <property type="bool" name="X-DLNAProjection" displayName="DLNA投屏" value="true">
            <dependency>
                 <component namespace="com.nd.sdp.component" name="dlna-support"/>
            </dependency>
      </property>
      <property type="enum" name="iPadFullSolution" displayName="iPad全屏方案" value="0">
           <options multi="false">
             <option value="0">跟随屏幕方向</option>
             <option value="1">强制横屏</option>
           </options>
       </property>
	</properties>
	
	<events>
	</events>

	<handlers>
        <handler name="not-ios://X_COURSE_HOUR_INIT_DOWNLOAD" desc="我的学习通知课时初始化下载" receive_event="X_COURSE_HOUR_INIT_DOWNLOAD"/>
        <handler name="ios://event_handler_RemoveMainPageFromFrame" desc="从框架去除课时活动主页面" receive_event="XCEVENT_CLASSACTIVITY_PAGE_REMOVE"/>
        <handler name="ios://event_handler_smartlinkGenerateLinkResult" desc="smartLink获取成功" receive_event="smartlink_generate_link_result"/>
        <handler name="ios://event_handler_smartlinkGenerateLinkFailed" desc="smartLink获取失败" receive_event="smartlink_generate_qrcode_image_result"/>
        <handler name="ios://event_handler_socialShareResult" desc="分享通知外部提示" receive_event="ND_SOCIAL_SHARE_RESULT"/>
        <handler name="ios://event_handler_DownloadCenterCustomPlayResource" desc="下载播放消息回调" receive_event="CECT_DOWNLOAD_CENTER_CUSTOM_PLAY_RESOURCE"/>
        <handler name="ios://event_handler_exerciseNofity" desc="练习h5消息" receive_event="x-study-activity-exercise"/>
        <handler name="ios://event_appsettting_get_cache_info" desc="获取清除缓存路径" receive_event="event_appsettting_get_cache_info"/>
        <handler name="ios://event_handler_like_action" desc="点赞消息" receive_event="event_xst_like_completion"/>
        <handler name="ios://event_handler_unlike_action" desc="取消点赞消息" receive_event="event_xst_unlike_completion"/>
	</handlers>

	<runtime>
		<properties>
			<property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="true"/>
			<property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="true"/>
		</properties>
        <providers>
            <provider name="com.nd.sdp.component.xcloud-class-activity.provider" filter="com.nd.sdp.component.xcloud-class-activity.provider.filter" desc="provider的声明" anClass="" iosClass="XCloudClassActivityProvider"/>
          <provider name="com.nd.sdp.android.coursev5.x_class_hour_activity.activity.res.provider" filter="com.nd.sdp.android.coursev5.activity.res.provider" desc="provider的声明" anClass="CourseHourDownloadResDataProvider" iosClass=""/>
        </providers>
	</runtime>
  <android>
		<class>com.nd.sdp.android.coursev5.coursehour.CourseV5HourComponent</class>
		<dependency>
        	<![CDATA[
       		    compile ("com.nd.sdp.android:xst-coursehour:1.4.8-rc7")
             ]]>
		</dependency>
       <groovy>
			<![CDATA[
		    	android {
    				compileOptions {
        				sourceCompatibility 1.8
        				targetCompatibility 1.8
    				}
				}
			]]>
		</groovy>
	 </android>
   
</component><component namespace="com.nd.sdp" name="thirdlogincom" display="第三方登录组件">
  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
  </runtime>
    <events>
    </events>
  
  	<properties>
      	<property type="bool" name="open_third_login_weibo" desc_true="开启" desc_false="关闭" displayName="是否开启微博登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdloginweibo"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_qq" desc_true="开启" desc_false="关闭" displayName="是否开启QQ登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdloginqq"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_wechat" desc_true="开启" desc_false="关闭" displayName="是否开启微信登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdloginwechat"/>
         </dependency>
        </property>
      	<property type="bool" name="open_third_login_facebook" desc_true="开启" desc_false="关闭" displayName="是否开启脸书登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdloginfacebook"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_twitter" desc_true="开启" desc_false="关闭" displayName="是否开启推特登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdlogintwitter"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_nd99" desc_true="开启" desc_false="关闭" displayName="是否开启99登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdloginnd99"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_google" desc_true="开启" desc_false="关闭" displayName="是否开启谷歌登录(如开启需添加“第三方登录组件”)" value="">
         <dependency>
               <component namespace="com.nd.sdp.component" name="thirdlogingoogle"/>
         </dependency>
        </property>
        <property type="bool" name="open_third_login_fringe" desc_true="开启" desc_false="关闭" displayName="是否开启上海学籍号登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="fringethirdlogincomponent"/>
             </dependency>
        </property>
        <property type="bool" name="open_third_login_idaas" desc_true="开启" desc_false="关闭" displayName="是否开启教育IDaaS登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="e101-idaaslogin"/>
             </dependency>
        </property>
      	<property type="bool" name="open_third_login_unt" desc_true="开启" desc_false="关闭" displayName="是否开启北德登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="thirdloginunt"/>
             </dependency>
        </property>
        <property type="bool" name="open_third_login_line" desc_true="开启" desc_false="关闭" displayName="是否开启Line登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="thirdlogincomline"/>
             </dependency>
        </property>
        <property type="bool" name="open_third_login_dropbox" desc_true="开启" desc_false="关闭" displayName="是否开启Dropbox登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="thirdlogincomdropbox"/>
             </dependency>
        </property>
        <property type="bool" name="open_third_login_pearson" desc_true="开启" desc_false="关闭" displayName="是否开启培生登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="thirdloginpearson"/>
             </dependency>
        </property>
      	<property type="bool" name="open_third_login_edmodo" desc_true="开启" desc_false="关闭" displayName="是否开启Edmodo登录" value="">
             <dependency>
                 <component namespace="com.nd.sdp.component" name="thirdloginedmodo"/>
             </dependency>
        </property>
        <property type="bool" name="open_third_login_apple" desc_true="开启" desc_false="关闭" displayName="是否开启苹果登录" value="">
           	<tip>如果开启了其他第三方登录，则必须开启苹果登录</tip>  
          	<dependency>
                 <component namespace="com.nd.sdp.component" name="applethirdlogin"/>
             </dependency>
        </property>
      	
      	<property type="bool" name="open_third_login_shanyan" desc_true="开启" desc_false="关闭" displayName="是否开启闪验一键登录" value="">
          	<dependency>
                 <component namespace="com.nd.sdp.component" name="chuanglan"/>
             </dependency>
        </property>
      
      	<property type="bool" name="open_third_login_metamask" desc_true="开启" desc_false="关闭" displayName="是否开启小狐狸钱包登录" value="">
          	<dependency>
                 <component namespace="com.nd.sdp.component" name="thirdloginmetamask"/>
             </dependency>
        </property>
		<property type="bool" name="open_universal_thirdlogin" desc_true="开启" desc_false="关闭" displayName="是否开启通用第三方登录" value="">
          	<dependency>
                 <component namespace="com.nd.sdp.component" name="universal-thirdlogin"/>
             </dependency>
        </property>
        <property type="string" name="qq_app_key_android" displayName="QQ_APP_ID(android) (已废弃，移至thirdloginqq组件中)" value="" deprecated=""/>
      	<property type="string" name="uc_component_qq_app_scheme" displayName="QQ登录scheme（Android）(格式：tencent+你的appId，例如：tencent123456) (已废弃，移至thirdloginqq组件中)" android_res="1" deprecated=""/>  
      	<property type="string" name="weibo_app_key_android" displayName="微博登录 APP KEY（android）(已废弃，移至thirdloginweibo组件中)" value="" deprecated=""/>
        <property type="string" name="weibo_redirect_url_android" displayName="微博登录Redirect URL（android）(已废弃，移至thirdloginweibo组件中)" value="" deprecated=""/>
        <property type="string" name="wechat_app_key_android" displayName="微信Wechat_APP_KEY（android）(已废弃，移至thirdloginwechat组件中)" value="" deprecated=""/>
      	<property type="string" name="wechat_app_secret_android" displayName="微信Wechat_APP_SECRET（android）(已废弃，移至thirdloginwechat组件中)" value="" deprecated=""/>
      	<property type="string" name="wechat_wxentryactivity_class_path" displayName="微信WXEntryActivity全路径（android）(格式：你的包名+.wxapi.WXEntryActivity，例如：com.nd.app.factory.demo.wxapi.WXEntryActivity) (已废弃，移至thirdloginwechat组件中)" value="" deprecated=""/>
        <property type="string" name="facebook_app_key_android" displayName="Facebook登录appId（android）(已废弃，移至thirdloginfacebook组件中)" value="" deprecated=""/>
        <property type="string" name="twitter_app_key_android" displayName="Twitter登录appKey（android）(已废弃，移至thirdlogintwitter组件中)" value="" deprecated=""/>
        <property type="string" name="twitter_app_secret_android" displayName="Twitter登录appSecret（android）(已废弃，移至thirdlogintwitter组件中)" value="" deprecated=""/>
      
		<property type="string" name="qq_app_key" displayName="QQ登录APP ID(iOS) (已废弃，移至thirdloginqq组件中)" value="" deprecated=""/>
		<property type="string" name="qq_login_url_schema" displayName="QQ登录scheme（iOS）(已废弃，移至thirdloginqq组件中)" iOS_URL_Types="1" deprecated=""/>  
		<property type="string" name="qq_redirect_url" displayName="QQ登录Redirect URL（iOS）(已废弃，移至thirdloginqq组件中)" value="" deprecated=""/>
        <property type="string" name="weibo_app_key" displayName="Weibo登录 APP KEY（iOS）(已废弃，移至thirdloginweibo组件中)" value="" deprecated=""/>
      	<property type="string" name="weibo_login_url_schema" displayName="微博登录scheme（iOS）(已废弃，移至thirdloginweibo组件中)" iOS_URL_Types="1" deprecated=""/> 
        <property type="string" name="weibo_redirect_url" displayName="Weibo登录Redirect URL（iOS）(已废弃，移至thirdloginweibo组件中)" value="" deprecated=""/>
        <property type="string" name="wechat_app_key" displayName="微信登录APP KEY（iOS）(已废弃，移至thirdloginwechat组件中)" iOS_URL_Types="1" deprecated=""/>
        <property type="string" name="wechat_app_secret" displayName="微信 App Secret（iOS）(已废弃，移至thirdloginwechat组件中)" value="" deprecated=""/>
        <property type="string" name="facebook_app_key" displayName="Facebook登录appId（iOS）(已废弃，移至thirdloginfacebook组件中)" value="" deprecated=""/>
        <property type="string" name="facebook_login_url_schema" displayName="Facebook登录scheme（iOS）(已废弃，移至thirdloginfacebook组件中)" iOS_URL_Types="1" deprecated=""/> 
        <property type="string" name="twitter_app_key" displayName="Twitter登录appKey（iOS）(已废弃，移至thirdlogintwitter组件中)" value="" deprecated=""/>
        <property type="string" name="twitter_app_secret" displayName="Twitter登录appSecret（iOS）(已废弃，移至thirdlogintwitter组件中)" value="" deprecated=""/>
        
        <property type="string" name="nd99_app_key" displayName="99登录appKey(appID) (已废弃，移至thirdloginnd99组件中)" value="" deprecated=""/>
        <property type="string" name="nd99_app_secret" displayName="99登录appSecret (已废弃，移至thirdloginnd99组件中)" value="" deprecated=""/>
        <property type="string" name="nd99_redirect_url" displayName="99登录Redirect URL (已废弃，移至thirdloginnd99组件中)" value="" deprecated=""/>
      
        <property type="string" name="google_client_key" displayName="Google登录Client_ID (iOS) (已废弃，移至thirdlogingoogle组件中)" value="" deprecated=""/>
        <property type="string" name="google_login_url_schema" displayName="Google登录scheme(iOS) (已废弃，移至thirdlogingoogle组件中)" iOS_URL_Types="1" deprecated=""/>
      
      <property type="string" name="google_app_key_android" displayName="Google Client Id(android) (已废弃，移至thirdlogingoogle组件中)" value="" deprecated=""/>
    </properties>


    <android>
        <class>com.nd.sdp.thirdlogin.ThirdLoginComponent</class>
        <dependency>
            <![CDATA[
            	
                compile('com.nd.sdp:thirdlogincom:1.4.6.thirdlogincom.release@aar') {

            	transitive = true
            	changing = true 

        		}

         		configurations {

              	 all*.exclude group:'android.support', module: 'android-support-v4'

         		}
            ]]>
        </dependency>
    </android>
 	<ios>
        <class>OpenIDLoginComponent</class>
        <dependency>
            <![CDATA[
   			pod 'OpenIDLoginComponent', '0.0.27'
             ]]>
        </dependency>
    </ios>
</component><component namespace="com.nd.sdp.component" name="thirdloginfacebook" display="脸书登录" type="function_library">
  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
  </runtime>
  <build>
    <android>   
        <safe_whitelist>
            <activities>
                <activity name="com.facebook.CustomTabActivity" describe="Facebook的第三方登录需要" type="activity" owner="张波"/>
            </activities>
            <receivers>
                <receiver name="com.facebook.CampaignTrackingReceiver" describe="第三方Facebook推送，无法修改" type="receiver" owner="张波"/>
           </receivers>
           <providers>
				<provider name="com.facebook.FacebookContentProvider" describe="第三方Facebook的内容提供者，无法修改" type="provider" owner="张波"/>
			</providers>
        </safe_whitelist>
    </android>
</build>
  
  
	<pages>
	</pages>
	
	<properties>
        <property type="string" name="facebook_app_key_android" displayName="脸书登录APPID（Android）" value="" senior="true">
           <tip>获取内容请点击：https://developers.facebook.com/</tip>
           <validator type="required" msg="请填写Android版脸书的APPID"/>
        </property>
        <property type="string" name="facebook_app_key" displayName="脸书登录APPID（iOS）" value="" senior="true">
           <tip>获取内容请点击：https://developers.facebook.com/</tip>
           <validator type="required" msg="请填写iOS版脸书的APPID"/>
        </property>
        <property type="string" name="thirdloginfacebook_login_url_schema" displayName="脸书登录scheme（iOS）" iOS_URL_Types="1" senior="true">
           <tip>填写规则为脸书登录scheme=fb+AppID（iOS），例如fb123457</tip>
           <validator type="required" msg="请填写iOS版脸书的scheme"/>
        </property> 
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
  
  <android>
        <class>com.nd.sdp.thirdlogin.ThirdLoginComponentFacebook</class>
        <dependency>
            <![CDATA[            	
                compile('com.nd.sdp:thirdlogincomfacebook:1.0.0.7.release') {
            	transitive = true
            	changing = true 
        		}
                configurations.all {
                    resolutionStrategy {
                        force "com.google.zxing:core:3.2.1"
                    }
                }
            ]]>
        </dependency>
    </android>

  <ios>
        <class>UCFacebookComponent</class>
        <dependency>
            <![CDATA[
   			pod 'UCFacebookComponent', '0.0.12'
             ]]>
        </dependency>
		<meta-datas>
                <meta-data xpath="//plist/dict" key="LSApplicationQueriesSchemes" type="array" file="/ComponentAppBase/Info.plist">
                <![CDATA[
         <string>fbauth2</string>
                ]]>
                </meta-data>
                <meta-data xpath="//plist/dict" key="FacebookAppId" type="string" file="/ComponentAppBase/Info.plist">
                <![CDATA[${facebook_appid}]]>
                </meta-data>
                <meta-data xpath="//plist/dict" key="FacebookDisplayName" type="string" file="/ComponentAppBase/Info.plist">
                <![CDATA[${facebook_app_name_ios}]]>
                </meta-data>
                <meta-data xpath="//plist/dict" key="FacebookAutoLogAppEventsEnabled" type="string" file="/ComponentAppBase/Info.plist">
                <![CDATA[false]]>
                </meta-data>
         </meta-datas>
    </ios>

</component><component namespace="com.nd.sdp.component" name="thirdlogingoogle" display="谷歌登录" type="function_library">
  <runtime>
    <properties>
      <property type="bool" name="lazy_init_android" displayName="是否开启Android延迟初始化" value="false"/>
      <property type="bool" name="lazy_init_ios" displayName="是否开启iOS延迟初始化" value="false"/>
    </properties>
  </runtime>
  
  <build>
    <android>   
        <safe_whitelist>
            <services>
                <service name="com.google.android.gms.auth.api.signin.RevocationBoundService" describe="Google第三方登录所需服务，无法修改" type="service" owner="张波"/>
          </services>
        </safe_whitelist>
    </android>
  </build>
  
	<pages>
	</pages>
	
	<properties>
        <property type="string" name="google_app_key_android" displayName="Client Id(android)" senior="true"/>
        <property type="string" name="google_client_key" displayName="Client_ID (iOS)" senior="true"/>
        <property type="string" name="thirdlogingoogle_login_url_schema" displayName="scheme(iOS)" iOS_URL_Types="1" senior="true"/>
	</properties>
	
	<events>
	</events>

	<handlers>
	</handlers>
 <android>
        <class>com.nd.sdp.thirdlogin.ThirdLoginComponentGoogle</class>
        <dependency>
            <![CDATA[            	
                compile('com.nd.sdp:thirdlogincomgoogle:1.0.1.0.release') {
            	transitive = true
            	changing = true 
        		}
            ]]>
        </dependency>
   		<scenes>
           <scene name="android.permission.INTERNET" displayName="网络权限" describe="谷歌登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_NETWORK_STATE" displayName="网络状态" describe="谷歌登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_COARSE_LOCATION" displayName="位置信息" describe="谷歌登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="android.permission.ACCESS_FINE_LOCATION" displayName="位置信息" describe="谷歌登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
           <scene name="com.google.android.providers.gsf.permission.READ_GSERVICES" displayName="读取GMS信息" describe="谷歌登录网络请求能力需要" isAsk="true" closeable="true" type="permission"/>
        </scenes>
    </android>
  
  <ios>
        <class>UCGoogleComponent</class>
        <dependency>
            <![CDATA[
   			pod 'UCGoogleComponent', '0.0.9'
             ]]>
        </dependency>
    </ios>
</component><component name="thirdlogincomline" display="连我登录" namespace="com.nd.sdp.component" type="function_library">
    <runtime>
        <properties>
            <property name="lazy_init_android" displayName="是否开启Android延迟初始化" type="bool" value="true"/>
            <property name="lazy_init_ios" displayName="是否开启iOS延迟初始化" type="bool" value="true"/>
        </properties>
    </runtime>
  	<build>
   	  <android>   
       	<safe_whitelist>
            <activities>
                <activity name="com.linecorp.linesdk.auth.internal.LineAuthenticationCallbackActivity" describe="连我第三方登录需要" type="activity" owner="张波"/>
            </activities>
       	 </safe_whitelist>
    	</android>
	</build>

    <pages/>

    <properties>
        <property name="channel_id_android" displayName="Channel Id（android）" senior="true" type="string" value=""/>
        <property name="thirdloginline_login_url_schema" displayName="scheme（iOS）" iOS_URL_Types="1" senior="true" type="string" value="line3rdp.$(PRODUCT_BUNDLE_IDENTIFIER)"/>
    </properties>

    <events>

    </events>

    <handlers>
        <handler name="init" desc="初始化" receive_event="event_third_login_init"/>
    </handlers>
    <android>
        <class>com.nd.sdp.thirdlogin.line.ThirdLoginLineComponent</class>
        <dependency>
            <![CDATA[
                compile('com.nd.sdp:thirdloginline:1.0.0.4.release') {
            	transitive = true
            	changing = true
        		}
            ]]>
        </dependency>
    </android>

    <ios>
        <class>UCLineComponent</class>
        <dependency>
            <![CDATA[
   			pod 'UCLineComponent', '1.0.1'
             ]]>
        </dependency>
      	<scenes>
        	<scene name="LineSDKConfig"/>
        </scenes>
        <meta-datas>
            <meta-data file="/ComponentAppBase/Info.plist" key="LSApplicationQueriesSchemes" type="array" xpath="//plist/dict">
                <![CDATA[
         <string>lineauth</string>
		 <string>line3rdp.$(PRODUCT_BUNDLE_IDENTIFIER)</string>
                ]]>
            </meta-data>
        </meta-datas>
    </ios>

</component></components>